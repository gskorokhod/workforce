import{s as ee,w as R,x as U,k as te,A as fe,a as P,g as B,i as k,f as b,t as q,d as z,C as F,j as ue,B as M,e as G,c as H,b as J,r as E,h as ie}from"./scheduler.CfTqBbps.js";import{S as ne,i as re,e as K,c as d,a as h,m as $,t as p,b as g,d as v,g as I,f as A}from"./index.BMQpolGU.js";import{e as S}from"./Icon.CPJVuA9m.js";import{P as L}from"./skill-badge.QQODncrH.js";import{B as ce,c as V,p as _e}from"./index.DhF70wyd.js";import{R as me,a as T,T as pe,P as ge,c as oe}from"./search.CbyWi5od.js";import{C as de,a as he,b as $e,c as ve,d as se}from"./skills-list.B5NyDCE7.js";import{e as le,f as O}from"./person.DEL9NjrQ.js";function Q(l,t,o){const r=l.slice();return r[15]=t[o],r}function be(l){let t,o;return t=new L({props:{person:O(l[0]),placeholder:l[2],variant:l[1]}}),{c(){d(t.$$.fragment)},l(r){h(t.$$.fragment,r)},m(r,f){$(t,r,f),o=!0},p(r,f){const e={};f&1&&(e.person=O(r[0])),f&4&&(e.placeholder=r[2]),f&2&&(e.variant=r[1]),t.$set(e)},i(r){o||(p(t.$$.fragment,r),o=!0)},o(r){g(t.$$.fragment,r),o=!1},d(r){v(t,r)}}}function we(l){let t,o;return t=new ce({props:{"aria-expanded":l[5],builders:[l[18]],class:"h-10 w-10 overflow-visible rounded-full",role:"combobox",variant:"ghost",$$slots:{default:[be]},$$scope:{ctx:l}}}),{c(){d(t.$$.fragment)},l(r){h(t.$$.fragment,r)},m(r,f){$(t,r,f),o=!0},p(r,f){const e={};f&32&&(e["aria-expanded"]=r[5]),f&262144&&(e.builders=[r[18]]),f&524295&&(e.$$scope={dirty:f,ctx:r}),t.$set(e)},i(r){o||(p(t.$$.fragment,r),o=!0)},o(r){g(t.$$.fragment,r),o=!1},d(r){v(t,r)}}}function ke(l){let t;return{c(){t=q("No people found")},l(o){t=z(o,"No people found")},m(o,r){k(o,t,r)},d(o){o&&b(t)}}}function Ce(l){let t,o,r=l[15].name+"",f,e,u,s;return t=new L({props:{person:l[15]}}),u=new oe({props:{class:V("ml-auto h-6 w-6",l[0]!==l[15].uuid&&"text-transparent")}}),{c(){d(t.$$.fragment),o=P(),f=q(r),e=P(),d(u.$$.fragment)},l(n){h(t.$$.fragment,n),o=B(n),f=z(n,r),e=B(n),h(u.$$.fragment,n)},m(n,a){$(t,n,a),k(n,o,a),k(n,f,a),k(n,e,a),$(u,n,a),s=!0},p(n,a){const i={};a&64&&(i.person=n[15]),t.$set(i),(!s||a&64)&&r!==(r=n[15].name+"")&&ue(f,r);const c={};a&65&&(c.class=V("ml-auto h-6 w-6",n[0]!==n[15].uuid&&"text-transparent")),u.$set(c)},i(n){s||(p(t.$$.fragment,n),p(u.$$.fragment,n),s=!0)},o(n){g(t.$$.fragment,n),g(u.$$.fragment,n),s=!1},d(n){n&&(b(o),b(f),b(e)),v(t,n),v(u,n)}}}function W(l){let t,o;function r(){return l[10](l[15],l[14])}return t=new se({props:{class:"flex flex-row items-center justify-start gap-2",onSelect:r,value:l[15].name+";"+l[15].job_title+";"+l[15].uuid,$$slots:{default:[Ce]},$$scope:{ctx:l}}}),{c(){d(t.$$.fragment)},l(f){h(t.$$.fragment,f)},m(f,e){$(t,f,e),o=!0},p(f,e){l=f;const u={};e&16465&&(u.onSelect=r),e&64&&(u.value=l[15].name+";"+l[15].job_title+";"+l[15].uuid),e&524353&&(u.$$scope={dirty:e,ctx:l}),t.$set(u)},i(f){o||(p(t.$$.fragment,f),o=!0)},o(f){g(t.$$.fragment,f),o=!1},d(f){v(t,f)}}}function je(l){let t,o,r,f;return t=new L({props:{person:void 0,popoverEnabled:!1}}),r=new oe({props:{class:V("ml-auto h-6 w-6",l[0]!==void 0&&"text-transparent")}}),{c(){d(t.$$.fragment),o=q(`
          Unassigned
          `),d(r.$$.fragment)},l(e){h(t.$$.fragment,e),o=z(e,`
          Unassigned
          `),h(r.$$.fragment,e)},m(e,u){$(t,e,u),k(e,o,u),$(r,e,u),f=!0},p(e,u){const s={};u&1&&(s.class=V("ml-auto h-6 w-6",e[0]!==void 0&&"text-transparent")),r.$set(s)},i(e){f||(p(t.$$.fragment,e),p(r.$$.fragment,e),f=!0)},o(e){g(t.$$.fragment,e),g(r.$$.fragment,e),f=!1},d(e){e&&b(o),v(t,e),v(r,e)}}}function Pe(l){let t,o,r,f=S(l[6]),e=[];for(let n=0;n<f.length;n+=1)e[n]=W(Q(l,f,n));const u=n=>g(e[n],1,1,()=>{e[n]=null});function s(){return l[11](l[14])}return o=new se({props:{class:"flex flex-row items-center justify-start gap-2",onSelect:s,value:"unassigned",$$slots:{default:[je]},$$scope:{ctx:l}}}),{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=P(),d(o.$$.fragment)},l(n){for(let a=0;a<e.length;a+=1)e[a].l(n);t=B(n),h(o.$$.fragment,n)},m(n,a){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(n,a);k(n,t,a),$(o,n,a),r=!0},p(n,a){if(l=n,a&16593){f=S(l[6]);let c;for(c=0;c<f.length;c+=1){const j=Q(l,f,c);e[c]?(e[c].p(j,a),p(e[c],1)):(e[c]=W(j),e[c].c(),p(e[c],1),e[c].m(t.parentNode,t))}for(I(),c=f.length;c<e.length;c+=1)u(c);A()}const i={};a&16401&&(i.onSelect=s),a&524289&&(i.$$scope={dirty:a,ctx:l}),o.$set(i)},i(n){if(!r){for(let a=0;a<f.length;a+=1)p(e[a]);p(o.$$.fragment,n),r=!0}},o(n){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)g(e[a]);g(o.$$.fragment,n),r=!1},d(n){n&&b(t),F(e,n),v(o,n)}}}function Be(l){let t,o,r,f,e,u;return t=new he({props:{placeholder:"Search"}}),r=new $e({props:{$$slots:{default:[ke]},$$scope:{ctx:l}}}),e=new ve({props:{class:"max-h-[250px] overflow-y-scroll",$$slots:{default:[Pe]},$$scope:{ctx:l}}}),{c(){d(t.$$.fragment),o=P(),d(r.$$.fragment),f=P(),d(e.$$.fragment)},l(s){h(t.$$.fragment,s),o=B(s),h(r.$$.fragment,s),f=B(s),h(e.$$.fragment,s)},m(s,n){$(t,s,n),k(s,o,n),$(r,s,n),k(s,f,n),$(e,s,n),u=!0},p(s,n){const a={};n&524288&&(a.$$scope={dirty:n,ctx:s}),r.$set(a);const i={};n&540753&&(i.$$scope={dirty:n,ctx:s}),e.$set(i)},i(s){u||(p(t.$$.fragment,s),p(r.$$.fragment,s),p(e.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(r.$$.fragment,s),g(e.$$.fragment,s),u=!1},d(s){s&&(b(o),b(f)),v(t,s),v(r,s),v(e,s)}}}function Se(l){let t,o;return t=new de({props:{$$slots:{default:[Be]},$$scope:{ctx:l}}}),{c(){d(t.$$.fragment)},l(r){h(t.$$.fragment,r)},m(r,f){$(t,r,f),o=!0},p(r,f){const e={};f&540753&&(e.$$scope={dirty:f,ctx:r}),t.$set(e)},i(r){o||(p(t.$$.fragment,r),o=!0)},o(r){g(t.$$.fragment,r),o=!1},d(r){v(t,r)}}}function Ne(l){let t,o,r,f;return t=new pe({props:{asChild:!0,class:l[3],$$slots:{default:[we,({builder:e})=>({18:e}),({builder:e})=>e?262144:0]},$$scope:{ctx:l}}}),r=new ge({props:{class:"w-[250px] p-0",$$slots:{default:[Se]},$$scope:{ctx:l}}}),{c(){d(t.$$.fragment),o=P(),d(r.$$.fragment)},l(e){h(t.$$.fragment,e),o=B(e),h(r.$$.fragment,e)},m(e,u){$(t,e,u),k(e,o,u),$(r,e,u),f=!0},p(e,u){const s={};u&8&&(s.class=e[3]),u&786471&&(s.$$scope={dirty:u,ctx:e}),t.$set(s);const n={};u&540753&&(n.$$scope={dirty:u,ctx:e}),r.$set(n)},i(e){f||(p(t.$$.fragment,e),p(r.$$.fragment,e),f=!0)},o(e){g(t.$$.fragment,e),g(r.$$.fragment,e),f=!1},d(e){e&&b(o),v(t,e),v(r,e)}}}function Ee(l){let t,o,r;function f(u){l[12](u)}let e={$$slots:{default:[Ne,({ids:u})=>({14:u}),({ids:u})=>u?16384:0]},$$scope:{ctx:l}};return l[5]!==void 0&&(e.open=l[5]),t=new me({props:e}),R.push(()=>K(t,"open",f)),{c(){d(t.$$.fragment)},l(u){h(t.$$.fragment,u)},m(u,s){$(t,u,s),r=!0},p(u,[s]){const n={};s&540799&&(n.$$scope={dirty:s,ctx:u}),!o&&s&32&&(o=!0,n.open=u[5],U(()=>o=!1)),t.$set(n)},i(u){r||(p(t.$$.fragment,u),r=!0)},o(u){g(t.$$.fragment,u),r=!1},d(u){v(t,u)}}}function Ve(l,t,o){let r,f;te(l,le,_=>o(13,f=_));let e=!1,{person_uuid:u=void 0}=t,{options:s=f}=t,{variant:n=T.default}=t,{placeholder:a="Assign person"}=t,{class:i=""}=t,{filter:c=()=>!0}=t,{onChange:j=(_,C)=>C}=t;function N(_){o(5,e=!1),fe().then(()=>{var C;(C=document.getElementById(_))==null||C.focus()})}const D=(_,C)=>{o(0,u=j(u,_.uuid)),N(C.trigger)},m=_=>{o(0,u=j(u,void 0)),N(_.trigger)};function w(_){e=_,o(5,e)}return l.$$set=_=>{"person_uuid"in _&&o(0,u=_.person_uuid),"options"in _&&o(8,s=_.options),"variant"in _&&o(1,n=_.variant),"placeholder"in _&&o(2,a=_.placeholder),"class"in _&&o(3,i=_.class),"filter"in _&&o(9,c=_.filter),"onChange"in _&&o(4,j=_.onChange)},l.$$.update=()=>{l.$$.dirty&768&&o(6,r=s.filter(c))},[u,n,a,i,j,e,r,N,s,c,D,m,w]}class ae extends ne{constructor(t){super(),re(this,t,Ve,Ee,ee,{person_uuid:0,options:8,variant:1,placeholder:2,class:3,filter:9,onChange:4})}}function X(l,t,o){const r=l.slice();return r[12]=t[o],r[15]=t,r[14]=o,r}function Y(l,t,o){const r=l.slice();return r[12]=t[o],r[13]=t,r[14]=o,r}function Ie(l){let t,o,r,f=S(l[0]),e=[];for(let s=0;s<f.length;s+=1)e[s]=Z(X(l,f,s));const u=s=>g(e[s],1,1,()=>{e[s]=null});return{c(){t=G("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=H(s,"DIV",{class:!0});var n=J(t);for(let a=0;a<e.length;a+=1)e[a].l(n);n.forEach(b),this.h()},h(){E(t,"class",o="flex flex-row flex-wrap items-center justify-start gap-2 "+l[3])},m(s,n){k(s,t,n);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null);r=!0},p(s,n){if(n&19){f=S(s[0]);let a;for(a=0;a<f.length;a+=1){const i=X(s,f,a);e[a]?(e[a].p(i,n),p(e[a],1)):(e[a]=Z(i),e[a].c(),p(e[a],1),e[a].m(t,null))}for(I(),a=f.length;a<e.length;a+=1)u(a);A()}(!r||n&8&&o!==(o="flex flex-row flex-wrap items-center justify-start gap-2 "+s[3]))&&E(t,"class",o)},i(s){if(!r){for(let n=0;n<f.length;n+=1)p(e[n]);r=!0}},o(s){e=e.filter(Boolean);for(let n=0;n<e.length;n+=1)g(e[n]);r=!1},d(s){s&&b(t),F(e,s)}}}function Ae(l){let t,o,r,f=S(l[0]),e=[];for(let s=0;s<f.length;s+=1)e[s]=y(Y(l,f,s));const u=s=>g(e[s],1,1,()=>{e[s]=null});return{c(){t=G("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=H(s,"DIV",{class:!0});var n=J(t);for(let a=0;a<e.length;a+=1)e[a].l(n);n.forEach(b),this.h()},h(){E(t,"class",o="group flex flex-row flex-wrap items-center justify-start "+l[3])},m(s,n){k(s,t,n);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null);r=!0},p(s,n){if(n&19){f=S(s[0]);let a;for(a=0;a<f.length;a+=1){const i=Y(s,f,a);e[a]?(e[a].p(i,n),p(e[a],1)):(e[a]=y(i),e[a].c(),p(e[a],1),e[a].m(t,null))}for(I(),a=f.length;a<e.length;a+=1)u(a);A()}(!r||n&8&&o!==(o="group flex flex-row flex-wrap items-center justify-start "+s[3]))&&E(t,"class",o)},i(s){if(!r){for(let n=0;n<f.length;n+=1)p(e[n]);r=!0}},o(s){e=e.filter(Boolean);for(let n=0;n<e.length;n+=1)g(e[n]);r=!1},d(s){s&&b(t),F(e,s)}}}function Z(l){let t,o,r;function f(...s){return l[9](l[12],...s)}function e(s){l[10](s,l[12],l[15],l[14])}let u={filter:f,options:l[1],variant:l[4](l[12],l[14])};return l[12]!==void 0&&(u.person_uuid=l[12]),t=new ae({props:u}),R.push(()=>K(t,"person_uuid",e)),{c(){d(t.$$.fragment)},l(s){h(t.$$.fragment,s)},m(s,n){$(t,s,n),r=!0},p(s,n){l=s;const a={};n&1&&(a.filter=f),n&2&&(a.options=l[1]),n&1&&(a.variant=l[4](l[12],l[14])),!o&&n&1&&(o=!0,a.person_uuid=l[12],U(()=>o=!1)),t.$set(a)},i(s){r||(p(t.$$.fragment,s),r=!0)},o(s){g(t.$$.fragment,s),r=!1},d(s){v(t,s)}}}function y(l){let t,o,r,f,e;function u(...a){return l[7](l[12],...a)}function s(a){l[8](a,l[12],l[13],l[14])}let n={class:"absolute left-0 top-0 h-10 w-10",filter:u,options:l[1],variant:l[4](l[12],l[14])};return l[12]!==void 0&&(n.person_uuid=l[12]),o=new ae({props:n}),R.push(()=>K(o,"person_uuid",s)),{c(){t=G("div"),d(o.$$.fragment),f=P(),this.h()},l(a){t=H(a,"DIV",{class:!0});var i=J(t);h(o.$$.fragment,i),f=B(i),i.forEach(b),this.h()},h(){E(t,"class","relative h-10 w-4 transition-all hover:z-20 hover:w-5 hover:!opacity-100 group-hover:opacity-55")},m(a,i){k(a,t,i),$(o,t,null),ie(t,f),e=!0},p(a,i){l=a;const c={};i&1&&(c.filter=u),i&2&&(c.options=l[1]),i&1&&(c.variant=l[4](l[12],l[14])),!r&&i&1&&(r=!0,c.person_uuid=l[12],U(()=>r=!1)),o.$set(c)},i(a){e||(p(o.$$.fragment,a),e=!0)},o(a){g(o.$$.fragment,a),e=!1},d(a){a&&b(t),v(o)}}}function De(l){let t,o,r,f;const e=[Ae,Ie],u=[];function s(n,a){return n[2]?0:1}return t=s(l),o=u[t]=e[t](l),{c(){o.c(),r=M()},l(n){o.l(n),r=M()},m(n,a){u[t].m(n,a),k(n,r,a),f=!0},p(n,[a]){let i=t;t=s(n),t===i?u[t].p(n,a):(I(),g(u[i],1,1,()=>{u[i]=null}),A(),o=u[t],o?o.p(n,a):(o=u[t]=e[t](n),o.c()),p(o,1),o.m(r.parentNode,r))},i(n){f||(p(o),f=!0)},o(n){g(o),f=!1},d(n){n&&b(r),u[t].d(n)}}}function x(l,t){return t===void 0?!1:l.includes(t.uuid)}function Te(l,t,o){let r;te(l,le,m=>o(11,r=m));let{options:f=r}=t,{people_uuids:e=[]}=t,{compact:u=!1}=t,{min_people:s}=t,{max_people:n}=t,{class:a=""}=t;function i(m,w){return w<s&&m===void 0?T.destructive:T.default}const c=(m,w)=>!x(e,w)||w===void 0||w.uuid===m;function j(m,w,_,C){_[C]=m,o(0,e),o(6,n)}const N=(m,w)=>!x(e,w)||w===void 0||w.uuid===m;function D(m,w,_,C){_[C]=m,o(0,e),o(6,n)}return l.$$set=m=>{"options"in m&&o(1,f=m.options),"people_uuids"in m&&o(0,e=m.people_uuids),"compact"in m&&o(2,u=m.compact),"min_people"in m&&o(5,s=m.min_people),"max_people"in m&&o(6,n=m.max_people),"class"in m&&o(3,a=m.class)},l.$$.update=()=>{l.$$.dirty&65&&(o(0,e=_e(e,n,void 0)),o(0,e=e.sort((m,w)=>m===void 0?1:w===void 0?-1:0)))},[e,f,u,a,i,s,n,c,j,N,D]}class Ke extends ne{constructor(t){super(),re(this,t,Te,De,ee,{options:1,people_uuids:0,compact:2,min_people:5,max_people:6,class:3})}}export{Ke as P};
