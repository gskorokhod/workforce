import{T as i,v as c}from"./person.DEL9NjrQ.js";function f(e){return{type:i.Location,uuid:c(),...e}}function u(){return{address:"",coordinates:[0,0],image_url:"",name:""}}const p=3;async function g(e,n=void 0,t=[],o=.1,r=!1){if(e.length<p)return Promise.resolve([]);let a=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURI(e)}`;return n&&(a+=`&viewbox=${n[0]-o},${n[1]+o},${n[0]+o},${n[1]-o}`,a+=`&bounded=${r?1:0}`,t.length>0&&(a+=`&countrycodes=${t.join(",")}`)),console.log(a),(await(await fetch(a)).json()).map(s=>s.display_name)}async function h(e){const t=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${e}`)).json();if(t.length!==0)return[parseFloat(t[0].lon),parseFloat(t[0].lat)]}async function $(e){const t=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e[1]}&lon=${e[0]}`)).json();if(!("error"in t))return t}export{g as a,f as c,u as d,h as g,$ as r};
