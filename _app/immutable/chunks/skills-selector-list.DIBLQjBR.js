import{s as Q,w as W,x as X,k as Y,A as oe,a as S,g as j,i as C,f as v,t as U,d as q,C as Z,j as re,e as fe,c as ae,b as ie,r as D,h as ue}from"./scheduler.CfTqBbps.js";import{S as y,i as x,e as ee,c as $,a as d,m as h,t as g,b as p,d as k,g as I,f as P}from"./index.BMQpolGU.js";import{e as E}from"./Icon.CPJVuA9m.js";import{S as z}from"./skill-badge.QQODncrH.js";import{B as ce,c as T,d as F,p as me}from"./index.DhF70wyd.js";import{R as _e,a as R,T as ge,P as pe,c as te}from"./search.CbyWi5od.js";import{C as $e,a as de,b as he,c as ke,d as ne}from"./skills-list.B5NyDCE7.js";import{s as le,h as G}from"./person.DEL9NjrQ.js";function H(o,e,s){const n=o.slice();return n[16]=e[s],n}function be(o){let e,s;return e=new z({props:{compact:o[3],placeholder:o[2],skill:G(o[0]),variant:o[1]}}),{c(){$(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,f){h(e,n,f),s=!0},p(n,f){const t={};f&8&&(t.compact=n[3]),f&4&&(t.placeholder=n[2]),f&1&&(t.skill=G(n[0])),f&2&&(t.variant=n[1]),e.$set(t)},i(n){s||(g(e.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),s=!1},d(n){k(e,n)}}}function we(o){let e,s;return e=new ce({props:{"aria-expanded":o[6],builders:[o[19]],class:"h-fit w-fit overflow-visible rounded-full !p-0",role:"combobox",variant:"ghost",$$slots:{default:[be]},$$scope:{ctx:o}}}),{c(){$(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,f){h(e,n,f),s=!0},p(n,f){const t={};f&64&&(t["aria-expanded"]=n[6]),f&524288&&(t.builders=[n[19]]),f&1048591&&(t.$$scope={dirty:f,ctx:n}),e.$set(t)},i(n){s||(g(e.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),s=!1},d(n){k(e,n)}}}function ve(o){let e;return{c(){e=U("No skills found")},l(s){e=q(s,"No skills found")},m(s,n){C(s,e,n)},d(s){s&&v(e)}}}function Ce(o){let e,s,n=F(o[16].name)+"",f,t,r,i;return e=new z({props:{compact:!0,skill:o[16]}}),r=new te({props:{class:T("ml-auto h-6 w-6",o[0]!==o[16].uuid&&"text-transparent")}}),{c(){$(e.$$.fragment),s=S(),f=U(n),t=S(),$(r.$$.fragment)},l(l){d(e.$$.fragment,l),s=j(l),f=q(l,n),t=j(l),d(r.$$.fragment,l)},m(l,a){h(e,l,a),C(l,s,a),C(l,f,a),C(l,t,a),h(r,l,a),i=!0},p(l,a){const c={};a&128&&(c.skill=l[16]),e.$set(c),(!i||a&128)&&n!==(n=F(l[16].name)+"")&&re(f,n);const u={};a&129&&(u.class=T("ml-auto h-6 w-6",l[0]!==l[16].uuid&&"text-transparent")),r.$set(u)},i(l){i||(g(e.$$.fragment,l),g(r.$$.fragment,l),i=!0)},o(l){p(e.$$.fragment,l),p(r.$$.fragment,l),i=!1},d(l){l&&(v(s),v(f),v(t)),k(e,l),k(r,l)}}}function J(o){let e,s;function n(){return o[11](o[16],o[15])}return e=new ne({props:{class:"flex flex-row items-center justify-start gap-2",onSelect:n,value:o[16].name+";"+o[16].uuid,$$slots:{default:[Ce]},$$scope:{ctx:o}}}),{c(){$(e.$$.fragment)},l(f){d(e.$$.fragment,f)},m(f,t){h(e,f,t),s=!0},p(f,t){o=f;const r={};t&32929&&(r.onSelect=n),t&128&&(r.value=o[16].name+";"+o[16].uuid),t&1048705&&(r.$$scope={dirty:t,ctx:o}),e.$set(r)},i(f){s||(g(e.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),s=!1},d(f){k(e,f)}}}function Se(o){let e,s,n,f;return e=new z({props:{popoverEnabled:!1,skill:void 0}}),n=new te({props:{class:T("ml-auto h-6 w-6",o[0]!==void 0&&"text-transparent")}}),{c(){$(e.$$.fragment),s=U(`
          Unassigned
          `),$(n.$$.fragment)},l(t){d(e.$$.fragment,t),s=q(t,`
          Unassigned
          `),d(n.$$.fragment,t)},m(t,r){h(e,t,r),C(t,s,r),h(n,t,r),f=!0},p(t,r){const i={};r&1&&(i.class=T("ml-auto h-6 w-6",t[0]!==void 0&&"text-transparent")),n.$set(i)},i(t){f||(g(e.$$.fragment,t),g(n.$$.fragment,t),f=!0)},o(t){p(e.$$.fragment,t),p(n.$$.fragment,t),f=!1},d(t){t&&v(s),k(e,t),k(n,t)}}}function je(o){let e,s,n,f=E(o[7]),t=[];for(let l=0;l<f.length;l+=1)t[l]=J(H(o,f,l));const r=l=>p(t[l],1,1,()=>{t[l]=null});function i(){return o[12](o[15])}return s=new ne({props:{class:"flex flex-row items-center justify-start gap-2",onSelect:i,value:"unassigned",$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=S(),$(s.$$.fragment)},l(l){for(let a=0;a<t.length;a+=1)t[a].l(l);e=j(l),d(s.$$.fragment,l)},m(l,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(l,a);C(l,e,a),h(s,l,a),n=!0},p(l,a){if(o=l,a&33185){f=E(o[7]);let u;for(u=0;u<f.length;u+=1){const w=H(o,f,u);t[u]?(t[u].p(w,a),g(t[u],1)):(t[u]=J(w),t[u].c(),g(t[u],1),t[u].m(e.parentNode,e))}for(I(),u=f.length;u<t.length;u+=1)r(u);P()}const c={};a&32801&&(c.onSelect=i),a&1048577&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(l){if(!n){for(let a=0;a<f.length;a+=1)g(t[a]);g(s.$$.fragment,l),n=!0}},o(l){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)p(t[a]);p(s.$$.fragment,l),n=!1},d(l){l&&v(e),Z(t,l),k(s,l)}}}function Be(o){let e,s,n,f,t,r;return e=new de({props:{placeholder:"Search"}}),n=new he({props:{$$slots:{default:[ve]},$$scope:{ctx:o}}}),t=new ke({props:{class:"max-h-[250px] overflow-y-scroll",$$slots:{default:[je]},$$scope:{ctx:o}}}),{c(){$(e.$$.fragment),s=S(),$(n.$$.fragment),f=S(),$(t.$$.fragment)},l(i){d(e.$$.fragment,i),s=j(i),d(n.$$.fragment,i),f=j(i),d(t.$$.fragment,i)},m(i,l){h(e,i,l),C(i,s,l),h(n,i,l),C(i,f,l),h(t,i,l),r=!0},p(i,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:i}),n.$set(a);const c={};l&1081505&&(c.$$scope={dirty:l,ctx:i}),t.$set(c)},i(i){r||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){p(e.$$.fragment,i),p(n.$$.fragment,i),p(t.$$.fragment,i),r=!1},d(i){i&&(v(s),v(f)),k(e,i),k(n,i),k(t,i)}}}function Ne(o){let e,s;return e=new $e({props:{$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){$(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,f){h(e,n,f),s=!0},p(n,f){const t={};f&1081505&&(t.$$scope={dirty:f,ctx:n}),e.$set(t)},i(n){s||(g(e.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),s=!1},d(n){k(e,n)}}}function Ee(o){let e,s,n,f;return e=new ge({props:{asChild:!0,class:o[4],$$slots:{default:[we,({builder:t})=>({19:t}),({builder:t})=>t?524288:0]},$$scope:{ctx:o}}}),n=new pe({props:{class:"w-[200px] p-0",$$slots:{default:[Ne]},$$scope:{ctx:o}}}),{c(){$(e.$$.fragment),s=S(),$(n.$$.fragment)},l(t){d(e.$$.fragment,t),s=j(t),d(n.$$.fragment,t)},m(t,r){h(e,t,r),C(t,s,r),h(n,t,r),f=!0},p(t,r){const i={};r&16&&(i.class=t[4]),r&1572943&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const l={};r&1081505&&(l.$$scope={dirty:r,ctx:t}),n.$set(l)},i(t){f||(g(e.$$.fragment,t),g(n.$$.fragment,t),f=!0)},o(t){p(e.$$.fragment,t),p(n.$$.fragment,t),f=!1},d(t){t&&v(s),k(e,t),k(n,t)}}}function Te(o){let e,s,n;function f(r){o[13](r)}let t={$$slots:{default:[Ee,({ids:r})=>({15:r}),({ids:r})=>r?32768:0]},$$scope:{ctx:o}};return o[6]!==void 0&&(t.open=o[6]),e=new _e({props:t}),W.push(()=>ee(e,"open",f)),{c(){$(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),n=!0},p(r,[i]){const l={};i&1081599&&(l.$$scope={dirty:i,ctx:r}),!s&&i&64&&(s=!0,l.open=r[6],X(()=>s=!1)),e.$set(l)},i(r){n||(g(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){k(e,r)}}}function Ve(o,e,s){let n,f;Y(o,le,_=>s(14,f=_));let{skill_uuid:t=void 0}=e,{options:r=f}=e,{variant:i=R.default}=e,{placeholder:l="Choose a skill"}=e,{compact:a=!0}=e,c=!1,{class:u=""}=e,{filter:w=()=>!0}=e,{onChange:B=(_,N)=>N}=e;function m(_){s(6,c=!1),oe().then(()=>{var N;(N=document.getElementById(_))==null||N.focus()})}const b=(_,N)=>{s(0,t=B(t,_.uuid)),m(N.trigger)},V=_=>{s(0,t=B(t,void 0)),m(_.trigger)};function A(_){c=_,s(6,c)}return o.$$set=_=>{"skill_uuid"in _&&s(0,t=_.skill_uuid),"options"in _&&s(9,r=_.options),"variant"in _&&s(1,i=_.variant),"placeholder"in _&&s(2,l=_.placeholder),"compact"in _&&s(3,a=_.compact),"class"in _&&s(4,u=_.class),"filter"in _&&s(10,w=_.filter),"onChange"in _&&s(5,B=_.onChange)},o.$$.update=()=>{o.$$.dirty&1536&&s(7,n=r.filter(w))},[t,i,l,a,u,B,c,n,m,r,w,b,V,A]}class se extends y{constructor(e){super(),x(this,e,Ve,Te,Q,{skill_uuid:0,options:9,variant:1,placeholder:2,compact:3,class:4,filter:10,onChange:5})}}function K(o,e,s){const n=o.slice();return n[11]=e[s],n[12]=e,n[13]=s,n}function L(o){let e,s,n;function f(...i){return o[6](o[11],...i)}function t(i){o[7](i,o[11],o[12],o[13])}let r={compact:o[3],filter:f,options:o[1],variant:o[5](o[11],o[13])};return o[11]!==void 0&&(r.skill_uuid=o[11]),e=new se({props:r}),W.push(()=>ee(e,"skill_uuid",t)),{c(){$(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,l){h(e,i,l),n=!0},p(i,l){o=i;const a={};l&8&&(a.compact=o[3]),l&1&&(a.filter=f),l&2&&(a.options=o[1]),l&1&&(a.variant=o[5](o[11],o[13])),!s&&l&1&&(s=!0,a.skill_uuid=o[11],X(()=>s=!1)),e.$set(a)},i(i){n||(g(e.$$.fragment,i),n=!0)},o(i){p(e.$$.fragment,i),n=!1},d(i){k(e,i)}}}function M(o){let e,s;return e=new se({props:{compact:o[3],filter:o[8],onChange:o[9],options:o[1],skill_uuid:void 0}}),{c(){$(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,f){h(e,n,f),s=!0},p(n,f){const t={};f&8&&(t.compact=n[3]),f&1&&(t.filter=n[8]),f&1&&(t.onChange=n[9]),f&2&&(t.options=n[1]),e.$set(t)},i(n){s||(g(e.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),s=!1},d(n){k(e,n)}}}function Ae(o){let e,s,n,f,t=E(o[0]),r=[];for(let a=0;a<t.length;a+=1)r[a]=L(K(o,t,a));const i=a=>p(r[a],1,1,()=>{r[a]=null});let l=o[2]===void 0&&M(o);return{c(){e=fe("div");for(let a=0;a<r.length;a+=1)r[a].c();s=S(),l&&l.c(),this.h()},l(a){e=ae(a,"DIV",{class:!0});var c=ie(e);for(let u=0;u<r.length;u+=1)r[u].l(c);s=j(c),l&&l.l(c),c.forEach(v),this.h()},h(){D(e,"class",n="flex flex-row flex-wrap items-center justify-start gap-2 "+o[4])},m(a,c){C(a,e,c);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);ue(e,s),l&&l.m(e,null),f=!0},p(a,[c]){if(c&43){t=E(a[0]);let u;for(u=0;u<t.length;u+=1){const w=K(a,t,u);r[u]?(r[u].p(w,c),g(r[u],1)):(r[u]=L(w),r[u].c(),g(r[u],1),r[u].m(e,s))}for(I(),u=t.length;u<r.length;u+=1)i(u);P()}a[2]===void 0?l?(l.p(a,c),c&4&&g(l,1)):(l=M(a),l.c(),g(l,1),l.m(e,null)):l&&(I(),p(l,1,1,()=>{l=null}),P()),(!f||c&16&&n!==(n="flex flex-row flex-wrap items-center justify-start gap-2 "+a[4]))&&D(e,"class",n)},i(a){if(!f){for(let c=0;c<t.length;c+=1)g(r[c]);g(l),f=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)p(r[c]);p(l),f=!1},d(a){a&&v(e),Z(r,a),l&&l.d()}}}function O(o,e){return e===void 0?!1:o.map(s=>s).includes(e.uuid)}function Ie(o,e,s){let n;Y(o,le,m=>s(10,n=m));let{options:f=n}=e,{skill_uuids:t=[]}=e,{n_skills:r=void 0}=e,{compact:i=!0}=e,{class:l=""}=e;function a(m,b){return r!==void 0&&b<r&&m===void 0?R.destructive:R.default}const c=(m,b)=>!O(t,b)||b===void 0||b.uuid===m;function u(m,b,V,A){V[A]=m,s(0,t),s(2,r)}const w=m=>m!==void 0&&!O(t,m),B=(m,b)=>{s(0,t=[...t,b])};return o.$$set=m=>{"options"in m&&s(1,f=m.options),"skill_uuids"in m&&s(0,t=m.skill_uuids),"n_skills"in m&&s(2,r=m.n_skills),"compact"in m&&s(3,i=m.compact),"class"in m&&s(4,l=m.class)},o.$$.update=()=>{o.$$.dirty&5&&(r!==void 0?(s(0,t=me(t,r,void 0)),s(0,t=t.sort((m,b)=>m===void 0?1:b===void 0?-1:0))):s(0,t=t.filter(m=>m!==void 0)))},[t,f,r,i,l,a,c,u,w,B]}class He extends y{constructor(e){super(),x(this,e,Ie,Ae,Q,{options:1,skill_uuids:0,n_skills:2,compact:3,class:4})}}export{He as S};
