import{s as pe,o as $e,p as Ne,q as Oe,u as Ee,r as Ie,v as ze,e as A,a as E,c as H,b as M,f as h,g as I,m as z,H as T,i as C,h as S,w as De,x as Pe,k as He,t as N,d as O,n as J,C as Ue,B as Ve,z as j,l as Fe,j as ee,A as Me}from"../chunks/scheduler.CDLDw09V.js";import{S as we,i as ve,c as b,a as k,m as w,t as m,b as d,d as v,e as Se,g as ge,f as de}from"../chunks/index.M2DpfpR6.js";import{I as ot,g as rt,a as st,C as Dt,B as he,k as We,l as Pt,$ as je,r as St,m as Nt,n as Ot,s as ft,o as Ge,b as Et,A as Be,R as It,p as zt,q as Je,e as me,v as qe}from"../chunks/stores.CKcWXSS-.js";import{R as Le,S as qt,E as Tt,D as At,h as Ht,T as Re,j as Ye,k as Vt,l as Wt,m as Lt,n as at,o as Te,P as it,p as jt,q as Bt}from"../chunks/delete-dialog.C2WNgxDR.js";import{C as Ft,a as Mt,L as Rt}from"../chunks/index.DIudJtd1.js";import{C as Yt}from"../chunks/combobox.q0b3Dptk.js";import{T as Ut}from"../chunks/trash.9Va-xpOb.js";function Gt(r){let e;const n=r[2].default,t=Oe(n,r,r[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&8)&&Ee(t,n,l,l[3],e?ze(n,l[3],o,null):Ie(l[3]),null)},i(l){e||(m(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function Jt(r){let e,n;const t=[{name:"lock"},r[1],{iconNode:r[0]}];let l={$$slots:{default:[Gt]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=$e(l,t[o]);return e=new ot({props:l}),{c(){b(e.$$.fragment)},l(o){k(e.$$.fragment,o)},m(o,s){w(e,o,s),n=!0},p(o,[s]){const a=s&3?rt(t,[t[0],s&2&&st(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Kt(r,e,n){let{$$slots:t={},$$scope:l}=e;const o=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];return r.$$set=s=>{n(1,e=$e($e({},e),Ne(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=Ne(e),[o,e,t,l]}class ct extends we{constructor(e){super(),ve(this,e,Kt,Jt,pe,{})}}function Qt(r){let e;const n=r[2].default,t=Oe(n,r,r[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&8)&&Ee(t,n,l,l[3],e?ze(n,l[3],o,null):Ie(l[3]),null)},i(l){e||(m(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function Xt(r){let e,n;const t=[{name:"repeat"},r[1],{iconNode:r[0]}];let l={$$slots:{default:[Qt]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=$e(l,t[o]);return e=new ot({props:l}),{c(){b(e.$$.fragment)},l(o){k(e.$$.fragment,o)},m(o,s){w(e,o,s),n=!0},p(o,[s]){const a=s&3?rt(t,[t[0],s&2&&st(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function Zt(r,e,n){let{$$slots:t={},$$scope:l}=e;const o=[["path",{d:"m17 2 4 4-4 4"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14"}],["path",{d:"m7 22-4-4 4-4"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3"}]];return r.$$set=s=>{n(1,e=$e($e({},e),Ne(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=Ne(e),[o,e,t,l]}class yt extends we{constructor(e){super(),ve(this,e,Zt,Xt,pe,{})}}const xt=r=>({}),Ke=r=>({});function en(r){let e,n,t,l,o,s,a;const f=r[8].corner,i=Oe(f,r,r[7],Ke),c=r[8].default,_=Oe(c,r,r[7],null);return{c(){e=A("div"),n=A("div"),i&&i.c(),t=E(),l=A("div"),_&&_.c(),this.h()},l($){e=H($,"DIV",{class:!0});var u=M(e);n=H(u,"DIV",{class:!0,style:!0});var P=M(n);i&&i.l(P),P.forEach(h),t=I(u),l=H(u,"DIV",{class:!0});var q=M(l);_&&_.l(q),q.forEach(h),u.forEach(h),this.h()},h(){z(n,"class","corner svelte-1puxtaq"),T(n,"opacity",r[2].opacity!==void 0?r[2].opacity:1),T(n,"width",r[2].width),T(n,"height",r[2].height),T(n,"background-color",r[2].backgroundColor),T(n,"top",r[2].top||"auto"),T(n,"left",r[2].left||"auto"),T(n,"right",r[2].right||"auto"),T(n,"bottom",r[2].bottom||"auto"),T(n,"clip-path",r[2].clipPath||"none"),z(l,"class",o="content "+r[0]+" svelte-1puxtaq"),z(e,"class",s="container overflow-hidden bg-background "+r[1]+" svelte-1puxtaq")},m($,u){C($,e,u),S(e,n),i&&i.m(n,null),S(e,t),S(e,l),_&&_.m(l,null),a=!0},p($,[u]){i&&i.p&&(!a||u&128)&&Ee(i,f,$,$[7],a?ze(f,$[7],u,xt):Ie($[7]),Ke),(!a||u&4)&&T(n,"opacity",$[2].opacity!==void 0?$[2].opacity:1),(!a||u&4)&&T(n,"width",$[2].width),(!a||u&4)&&T(n,"height",$[2].height),(!a||u&4)&&T(n,"background-color",$[2].backgroundColor),(!a||u&4)&&T(n,"top",$[2].top||"auto"),(!a||u&4)&&T(n,"left",$[2].left||"auto"),(!a||u&4)&&T(n,"right",$[2].right||"auto"),(!a||u&4)&&T(n,"bottom",$[2].bottom||"auto"),(!a||u&4)&&T(n,"clip-path",$[2].clipPath||"none"),_&&_.p&&(!a||u&128)&&Ee(_,c,$,$[7],a?ze(c,$[7],u,null):Ie($[7]),null),(!a||u&1&&o!==(o="content "+$[0]+" svelte-1puxtaq"))&&z(l,"class",o),(!a||u&2&&s!==(s="container overflow-hidden bg-background "+$[1]+" svelte-1puxtaq"))&&z(e,"class",s)},i($){a||(m(i,$),m(_,$),a=!0)},o($){d(i,$),d(_,$),a=!1},d($){$&&h(e),i&&i.d($),_&&_.d($)}}}function tn(r,e,n){let t,{$$slots:l={},$$scope:o}=e,{highlightColor:s="#ff3e00"}=e,{cornerSize:a="30px"}=e,{cornerOpacity:f=1}=e,{position:i="top-left"}=e,{contentClass:c=""}=e,{class:_=""}=e;function $(){const u={position:"absolute",opacity:f,width:a,height:a,backgroundColor:s instanceof Dt?s.hex():s};switch(i){case"top-left":return{...u,top:0,left:0,clipPath:"polygon(0 0, 100% 0, 0 100%)"};case"top-right":return{...u,top:0,right:0,clipPath:"polygon(100% 0, 0 0, 100% 100%)"};case"bottom-left":return{...u,bottom:0,left:0,clipPath:"polygon(0 100%, 100% 100%, 0 0)"};case"bottom-right":return{...u,bottom:0,right:0,clipPath:"polygon(100% 100%, 100% 0, 0 100%)"};default:return{...u,top:0,left:0,clipPath:"polygon(0 0, 100% 0, 0 100%)"}}}return r.$$set=u=>{"highlightColor"in u&&n(3,s=u.highlightColor),"cornerSize"in u&&n(4,a=u.cornerSize),"cornerOpacity"in u&&n(5,f=u.cornerOpacity),"position"in u&&n(6,i=u.position),"contentClass"in u&&n(0,c=u.contentClass),"class"in u&&n(1,_=u.class),"$$scope"in u&&n(7,o=u.$$scope)},n(2,t=$()),[c,_,t,s,a,f,i,o,l]}class ut extends we{constructor(e){super(),ve(this,e,tn,en,pe,{highlightColor:3,cornerSize:4,cornerOpacity:5,position:6,contentClass:0,class:1})}}function Qe(r,e,n){const t=r.slice();return t[50]=e[n],t}function Xe(r,e,n){const t=r.slice();return t[53]=e[n],t}function Ze(r){var o,s,a,f;const e=(o=r[18].get(r[50]))==null?void 0:o.get(r[53]);r[56]=e;const n=(s=r[56])==null?void 0:s.shift;r[57]=n;const t=(a=r[56])==null?void 0:a.preference;r[58]=t;const l=(f=r[56])==null?void 0:f.type;r[59]=l}function nn(r){const e=r.slice(),n=`${e[50].uuid}-${e[53].toString()}`;return e[60]=n,e}function ye(r,e,n){const t=r.slice();return t[53]=e[n],t}function ln(r){let e,n,t;return e=new Ht({}),{c(){b(e.$$.fragment),n=N(`
        Add Pattern`)},l(l){k(e.$$.fragment,l),n=O(l,`
        Add Pattern`)},m(l,o){w(e,l,o),C(l,n,o),t=!0},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&h(n),v(e,l)}}}function on(r){let e,n;return e=new Ft({}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function rn(r){let e,n;return e=new he({props:{class:"text-muted-foreground",size:"icon",variant:"ghost",disabled:r[15],$$slots:{default:[on]},$$scope:{ctx:r}}}),e.$on("click",r[32]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&32768&&(o.disabled=t[15]),l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function sn(r){let e;return{c(){e=N("Previous Week")},l(n){e=O(n,"Previous Week")},m(n,t){C(n,e,t)},p:J,d(n){n&&h(e)}}}function fn(r){let e,n,t=qe(r[6].start)+"",l,o,s,a="Settings",f;return{c(){e=A("p"),n=N("Planning Horizon starts on "),l=N(t),o=N(`. Change in
              `),s=A("a"),s.textContent=a,f=N("."),this.h()},l(i){e=H(i,"P",{class:!0});var c=M(e);n=O(c,"Planning Horizon starts on "),l=O(c,t),o=O(c,`. Change in
              `),s=H(c,"A",{href:!0,class:!0,"data-svelte-h":!0}),Fe(s)!=="svelte-gp8d6j"&&(s.textContent=a),f=O(c,"."),c.forEach(h),this.h()},h(){z(s,"href","/settings"),z(s,"class","underline transition-all hover:text-primary"),z(e,"class","text-muted-foreground")},m(i,c){C(i,e,c),S(e,n),S(e,l),S(e,o),S(e,s),S(e,f)},p(i,c){c[0]&64&&t!==(t=qe(i[6].start)+"")&&ee(l,t)},d(i){i&&h(e)}}}function an(r){let e;function n(o,s){return o[15]?fn:sn}let t=n(r),l=t(r);return{c(){l.c(),e=j()},l(o){l.l(o),e=j()},m(o,s){l.m(o,s),C(o,e,s)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&h(e),l.d(o)}}}function cn(r){let e,n,t,l;return e=new Re({props:{$$slots:{default:[rn]},$$scope:{ctx:r}}}),t=new Ye({props:{class:"",side:"top",$$slots:{default:[an]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=E(),b(t.$$.fragment)},l(o){k(e.$$.fragment,o),n=I(o),k(t.$$.fragment,o)},m(o,s){w(e,o,s),C(o,n,s),w(t,o,s),l=!0},p(o,s){const a={};s[0]&32768|s[2]&2&&(a.$$scope={dirty:s,ctx:o}),e.$set(a);const f={};s[0]&32832|s[2]&2&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&h(n),v(e,o),v(t,o)}}}function un(r){let e,n;return e=new Mt({}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function _n(r){let e,n;return e=new he({props:{class:"text-muted-foreground",size:"icon",variant:"ghost",disabled:r[14],$$slots:{default:[un]},$$scope:{ctx:r}}}),e.$on("click",r[31]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&16384&&(o.disabled=t[14]),l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function $n(r){let e;return{c(){e=N("Next Week")},l(n){e=O(n,"Next Week")},m(n,t){C(n,e,t)},p:J,d(n){n&&h(e)}}}function mn(r){let e,n,t=qe(r[6].end)+"",l,o,s,a="Settings",f;return{c(){e=A("p"),n=N("Planning Horizon ends on "),l=N(t),o=N(`. Change in
              `),s=A("a"),s.textContent=a,f=N("."),this.h()},l(i){e=H(i,"P",{class:!0});var c=M(e);n=O(c,"Planning Horizon ends on "),l=O(c,t),o=O(c,`. Change in
              `),s=H(c,"A",{href:!0,class:!0,"data-svelte-h":!0}),Fe(s)!=="svelte-gp8d6j"&&(s.textContent=a),f=O(c,"."),c.forEach(h),this.h()},h(){z(s,"href","/settings"),z(s,"class","underline transition-all hover:text-primary"),z(e,"class","text-muted-foreground")},m(i,c){C(i,e,c),S(e,n),S(e,l),S(e,o),S(e,s),S(e,f)},p(i,c){c[0]&64&&t!==(t=qe(i[6].end)+"")&&ee(l,t)},d(i){i&&h(e)}}}function pn(r){let e;function n(o,s){return o[14]?mn:$n}let t=n(r),l=t(r);return{c(){l.c(),e=j()},l(o){l.l(o),e=j()},m(o,s){l.m(o,s),C(o,e,s)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&h(e),l.d(o)}}}function gn(r){let e,n,t,l;return e=new Re({props:{$$slots:{default:[_n]},$$scope:{ctx:r}}}),t=new Ye({props:{class:"",side:"top",$$slots:{default:[pn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=E(),b(t.$$.fragment)},l(o){k(e.$$.fragment,o),n=I(o),k(t.$$.fragment,o)},m(o,s){w(e,o,s),C(o,n,s),w(t,o,s),l=!0},p(o,s){const a={};s[0]&16384|s[2]&2&&(a.$$scope={dirty:s,ctx:o}),e.$set(a);const f={};s[0]&16448|s[2]&2&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&h(n),v(e,o),v(t,o)}}}function dn(r){let e=Je(r[5],r[7])+"",n;return{c(){n=N(e)},l(t){n=O(t,e)},m(t,l){C(t,n,l)},p(t,l){l[0]&160&&e!==(e=Je(t[5],t[7])+"")&&ee(n,e)},d(t){t&&h(n)}}}function hn(r){let e,n;return e=new he({props:{variant:"ghost",class:"ml-2 text-xl font-medium",$$slots:{default:[dn]},$$scope:{ctx:r}}}),e.$on("click",r[33]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&160|l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function bn(r){let e;return{c(){e=N("Click to go to the current week")},l(n){e=O(n,"Click to go to the current week")},m(n,t){C(n,e,t)},d(n){n&&h(e)}}}function kn(r){let e,n,t,l;return e=new Re({props:{$$slots:{default:[hn]},$$scope:{ctx:r}}}),t=new Ye({props:{class:"",side:"top",$$slots:{default:[bn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=E(),b(t.$$.fragment)},l(o){k(e.$$.fragment,o),n=I(o),k(t.$$.fragment,o)},m(o,s){w(e,o,s),C(o,n,s),w(t,o,s),l=!0},p(o,s){const a={};s[0]&160|s[2]&2&&(a.$$scope={dirty:s,ctx:o}),e.$set(a);const f={};s[2]&2&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&h(n),v(e,o),v(t,o)}}}function wn(r){let e,n;return e=new Vt({props:{class:"w-full",$$slots:{default:[Gn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&4071424|l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function vn(r){let e,n=`<p class="text-lg font-medium text-muted-foreground">You are currently viewing a week outside of the planning horizon.<br/> Please adjust the
        planning horizon in the
        <a href="/settings" class="underline transition-all hover:text-primary">Settings</a> menu.</p>`;return{c(){e=A("div"),e.innerHTML=n,this.h()},l(t){e=H(t,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1109ikf"&&(e.innerHTML=n),this.h()},h(){z(e,"class","flex w-full items-center justify-center p-6"),T(e,"height","calc(100vh - 9rem)")},m(t,l){C(t,e,l)},p:J,i:J,o:J,d(t){t&&h(e)}}}function Cn(r){let e;return{c(){e=N("Employee")},l(n){e=O(n,"Employee")},m(n,t){C(n,e,t)},d(n){n&&h(e)}}}function Dn(r){let e=r[20].format(r[53].toDate(je()))+"",n;return{c(){n=N(e)},l(t){n=O(t,e)},m(t,l){C(t,n,l)},p(t,l){l[0]&1572864&&e!==(e=t[20].format(t[53].toDate(je()))+"")&&ee(n,e)},d(t){t&&h(n)}}}function xe(r){let e,n;return e=new Te({props:{class:"border",$$slots:{default:[Dn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&1572864|l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Pn(r){let e,n,t,l;e=new Te({props:{class:"border",$$slots:{default:[Cn]},$$scope:{ctx:r}}});let o=me(r[19]),s=[];for(let f=0;f<o.length;f+=1)s[f]=xe(ye(r,o,f));const a=f=>d(s[f],1,1,()=>{s[f]=null});return{c(){b(e.$$.fragment),n=E();for(let f=0;f<s.length;f+=1)s[f].c();t=j()},l(f){k(e.$$.fragment,f),n=I(f);for(let i=0;i<s.length;i+=1)s[i].l(f);t=j()},m(f,i){w(e,f,i),C(f,n,i);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(f,i);C(f,t,i),l=!0},p(f,i){const c={};if(i[2]&2&&(c.$$scope={dirty:i,ctx:f}),e.$set(c),i[0]&1572864){o=me(f[19]);let _;for(_=0;_<o.length;_+=1){const $=ye(f,o,_);s[_]?(s[_].p($,i),m(s[_],1)):(s[_]=xe($),s[_].c(),m(s[_],1),s[_].m(t.parentNode,t))}for(ge(),_=o.length;_<s.length;_+=1)a(_);de()}},i(f){if(!l){m(e.$$.fragment,f);for(let i=0;i<o.length;i+=1)m(s[i]);l=!0}},o(f){d(e.$$.fragment,f),s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);l=!1},d(f){f&&(h(n),h(t)),v(e,f),Me(s,f)}}}function Sn(r){let e,n;return e=new at({props:{$$slots:{default:[Pn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&1572864|l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Nn(r){let e,n;return e=new it({props:{item:r[50],group:"assignments",variant:"full",hoverEffects:!1,class:"font-medium"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&131072&&(o.item=t[50]),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function On(r){let e,n;return e=new ut({props:{class:"p-0",contentClass:"p-1.5",cornerOpacity:r[58]==="required"?1:0,cornerSize:"48px",$$slots:{corner:[jn],default:[Ln]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&917504&&(o.cornerOpacity=t[58]==="required"?1:0),l[0]&3022848|l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function En(r){let e,n;return e=new ut({props:{class:"p-0",contentClass:"p-1.5",cornerOpacity:r[58]==="required"?1:0,cornerSize:"48px",$$slots:{corner:[Mn],default:[Fn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&917504&&(o.cornerOpacity=t[58]==="required"?1:0),l[0]&917504|l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function In(r){let e;return{c(){e=N('"Hard" assignment')},l(n){e=O(n,'"Hard" assignment')},m(n,t){C(n,e,t)},d(n){n&&h(e)}}}function et(r){let e,n=r[50].name+"",t,l,o;function s(i,c){if(i[58]==="required")return qn;if(i[58]==="preferred")return zn}let a=s(r),f=a&&a(r);return{c(){e=A("p"),t=N(n),l=E(),f&&f.c(),o=N(`
                                on this day`),this.h()},l(i){e=H(i,"P",{class:!0});var c=M(e);t=O(c,n),l=I(c),f&&f.l(c),o=O(c,`
                                on this day`),c.forEach(h),this.h()},h(){z(e,"class","text-sm font-normal text-muted-foreground")},m(i,c){C(i,e,c),S(e,t),S(e,l),f&&f.m(e,null),S(e,o)},p(i,c){c[0]&131072&&n!==(n=i[50].name+"")&&ee(t,n),a===(a=s(i))&&f?f.p(i,c):(f&&f.d(1),f=a&&a(i),f&&(f.c(),f.m(e,o)))},d(i){i&&h(e),f&&f.d()}}}function zn(r){let e;function n(o,s){if(o[59]==="DAY_OFF")return An;if(o[57])return Tn}let t=n(r),l=t&&t(r);return{c(){l&&l.c(),e=j()},l(o){l&&l.l(o),e=j()},m(o,s){l&&l.m(o,s),C(o,e,s)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l&&l.d(1),l=t&&t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&h(e),l&&l.d(o)}}}function qn(r){let e;function n(o,s){if(o[59]==="DAY_OFF")return Vn;if(o[57])return Hn}let t=n(r),l=t&&t(r);return{c(){l&&l.c(),e=j()},l(o){l&&l.l(o),e=j()},m(o,s){l&&l.m(o,s),C(o,e,s)},p(o,s){t===(t=n(o))&&l?l.p(o,s):(l&&l.d(1),l=t&&t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&h(e),l&&l.d(o)}}}function Tn(r){let e,n=r[57].name+"",t,l,o=r[57].name.toLowerCase().endsWith("shift")?"":"Shift",s;return{c(){e=N("would prefer to work "),t=N(n),l=E(),s=N(o)},l(a){e=O(a,"would prefer to work "),t=O(a,n),l=I(a),s=O(a,o)},m(a,f){C(a,e,f),C(a,t,f),C(a,l,f),C(a,s,f)},p(a,f){f[0]&917504&&n!==(n=a[57].name+"")&&ee(t,n),f[0]&917504&&o!==(o=a[57].name.toLowerCase().endsWith("shift")?"":"Shift")&&ee(s,o)},d(a){a&&(h(e),h(t),h(l),h(s))}}}function An(r){let e;return{c(){e=N("would prefer to take a day off")},l(n){e=O(n,"would prefer to take a day off")},m(n,t){C(n,e,t)},p:J,d(n){n&&h(e)}}}function Hn(r){let e,n=r[57].name+"",t,l,o=r[57].name.toLowerCase().endsWith("shift")?"":"Shift",s;return{c(){e=N("must be assigned to "),t=N(n),l=E(),s=N(o)},l(a){e=O(a,"must be assigned to "),t=O(a,n),l=I(a),s=O(a,o)},m(a,f){C(a,e,f),C(a,t,f),C(a,l,f),C(a,s,f)},p(a,f){f[0]&917504&&n!==(n=a[57].name+"")&&ee(t,n),f[0]&917504&&o!==(o=a[57].name.toLowerCase().endsWith("shift")?"":"Shift")&&ee(s,o)},d(a){a&&(h(e),h(t),h(l),h(s))}}}function Vn(r){let e;return{c(){e=N("cannot work")},l(n){e=O(n,"cannot work")},m(n,t){C(n,e,t)},p:J,d(n){n&&h(e)}}}function Wn(r){let e,n,t,l,o,s,a,f,i,c;n=new jt({props:{class:"mb-3 mt-0.5"}});function _(...u){return r[44](r[50],r[53],...u)}s=new Bt({props:{id:r[60],checked:r[58]==="required",onCheckedChange:_}}),f=new Rt({props:{for:r[60],class:"font-normal leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",$$slots:{default:[In]},$$scope:{ctx:r}}});let $=r[58]&&et(r);return{c(){e=A("div"),b(n.$$.fragment),t=E(),l=A("div"),o=A("div"),b(s.$$.fragment),a=E(),b(f.$$.fragment),i=E(),$&&$.c(),this.h()},l(u){e=H(u,"DIV",{slot:!0,class:!0});var P=M(e);k(n.$$.fragment,P),t=I(P),l=H(P,"DIV",{class:!0});var q=M(l);o=H(q,"DIV",{class:!0});var W=M(o);k(s.$$.fragment,W),a=I(W),k(f.$$.fragment,W),W.forEach(h),i=I(q),$&&$.l(q),q.forEach(h),P.forEach(h),this.h()},h(){z(o,"class","flex w-full items-center space-x-2"),z(l,"class","flex w-full flex-col gap-2 px-3.5 pb-2"),z(e,"slot","footer"),z(e,"class","w-full")},m(u,P){C(u,e,P),w(n,e,null),S(e,t),S(e,l),S(l,o),w(s,o,null),S(o,a),w(f,o,null),S(l,i),$&&$.m(l,null),c=!0},p(u,P){r=u;const q={};P[0]&655360&&(q.id=r[60]),P[0]&917504&&(q.checked=r[58]==="required"),P[0]&655360&&(q.onCheckedChange=_),s.$set(q);const W={};P[0]&655360&&(W.for=r[60]),P[2]&2&&(W.$$scope={dirty:P,ctx:r}),f.$set(W),r[58]?$?$.p(r,P):($=et(r),$.c(),$.m(l,null)):$&&($.d(1),$=null)},i(u){c||(m(n.$$.fragment,u),m(s.$$.fragment,u),m(f.$$.fragment,u),c=!0)},o(u){d(n.$$.fragment,u),d(s.$$.fragment,u),d(f.$$.fragment,u),c=!1},d(u){u&&h(e),v(n),v(s),v(f),$&&$.d()}}}function Ln(r){let e,n,t;function l(s){r[45](s,r[60])}let o={value:r[56],closeOnSelect:!1,onSelect:r[25](r[50],r[53]),options:r[28](r[53],r[21]),display:r[26],getId:r[27],class:"h-12 w-full border-0 text-sm font-normal",placeholder:"No Preference",$$slots:{footer:[Wn]},$$scope:{ctx:r}};return r[13][r[60]]!==void 0&&(o.open=r[13][r[60]]),e=new Yt({props:o}),De.push(()=>Se(e,"open",l)),{c(){b(e.$$.fragment)},l(s){k(e.$$.fragment,s)},m(s,a){w(e,s,a),t=!0},p(s,a){r=s;const f={};a[0]&917504&&(f.value=r[56]),a[0]&655360&&(f.onSelect=r[25](r[50],r[53])),a[0]&2621440&&(f.options=r[28](r[53],r[21])),a[0]&917504|a[2]&2&&(f.$$scope={dirty:a,ctx:r}),!n&&a[0]&663552&&(n=!0,f.open=r[13][r[60]],Pe(()=>n=!1)),e.$set(f)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function jn(r){let e,n;return e=new ct({props:{slot:"corner",class:"pb-0.5 pl-1 pr-0.5 pt-1 text-background"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Bn(r){let e,n,t,l;return e=new it({props:{item:r[26](r[56]),variant:"full",class:"h-12 w-full text-sm font-normal",hoverEffects:!1,showTooltip:!1}}),t=new yt({props:{size:20,class:"text-muted-foreground transition-all group-hover:text-primary"}}),{c(){b(e.$$.fragment),n=E(),b(t.$$.fragment)},l(o){k(e.$$.fragment,o),n=I(o),k(t.$$.fragment,o)},m(o,s){w(e,o,s),C(o,n,s),w(t,o,s),l=!0},p(o,s){const a={};s[0]&917504&&(a.item=o[26](o[56])),e.$set(a)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&h(n),v(e,o),v(t,o)}}}function Fn(r){let e,n;function t(){return r[43](r[56])}return e=new he({props:{class:"group h-12 w-full justify-between px-2 text-sm font-normal",variant:"ghost",$$slots:{default:[Bn]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){b(e.$$.fragment)},l(l){k(e.$$.fragment,l)},m(l,o){w(e,l,o),n=!0},p(l,o){r=l;const s={};o[0]&917504|o[2]&2&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(l){n||(m(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){v(e,l)}}}function Mn(r){let e,n;return e=new ct({props:{slot:"corner",class:"pb-0.5 pl-1 pr-0.5 pt-1 text-background"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Rn(r){Ze(r);let e,n,t,l;const o=[En,On],s=[];function a(i,c){return i[56]&&i[56].source instanceof Be?0:1}function f(i,c){return c===1?nn(i):i}return e=a(r),n=s[e]=o[e](f(r,e)),{c(){n.c(),t=j()},l(i){n.l(i),t=j()},m(i,c){s[e].m(i,c),C(i,t,c),l=!0},p(i,c){Ze(i);let _=e;e=a(i),e===_?s[e].p(f(i,e),c):(ge(),d(s[_],1,1,()=>{s[_]=null}),de(),n=s[e],n?n.p(f(i,e),c):(n=s[e]=o[e](f(i,e)),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){l||(m(n),l=!0)},o(i){d(n),l=!1},d(i){i&&h(t),s[e].d(i)}}}function tt(r){let e,n;return e=new Te({props:{class:"border p-0",$$slots:{default:[Rn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&3022848|l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function nt(r){let e=r[18],n,t,l=tt(r);return{c(){l.c(),n=j()},l(o){l.l(o),n=j()},m(o,s){l.m(o,s),C(o,n,s),t=!0},p(o,s){s[0]&262144&&pe(e,e=o[18])?(ge(),d(l,1,1,J),de(),l=tt(o),l.c(),m(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){t||(m(l),t=!0)},o(o){d(l),t=!1},d(o){o&&h(n),l.d(o)}}}function Yn(r){let e,n,t,l;e=new Te({props:{class:"border p-0",$$slots:{default:[Nn]},$$scope:{ctx:r}}});let o=me(r[19]),s=[];for(let f=0;f<o.length;f+=1)s[f]=nt(Xe(r,o,f));const a=f=>d(s[f],1,1,()=>{s[f]=null});return{c(){b(e.$$.fragment),n=E();for(let f=0;f<s.length;f+=1)s[f].c();t=E()},l(f){k(e.$$.fragment,f),n=I(f);for(let i=0;i<s.length;i+=1)s[i].l(f);t=I(f)},m(f,i){w(e,f,i),C(f,n,i);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(f,i);C(f,t,i),l=!0},p(f,i){const c={};if(i[0]&131072|i[2]&2&&(c.$$scope={dirty:i,ctx:f}),e.$set(c),i[0]&1051598848){o=me(f[19]);let _;for(_=0;_<o.length;_+=1){const $=Xe(f,o,_);s[_]?(s[_].p($,i),m(s[_],1)):(s[_]=nt($),s[_].c(),m(s[_],1),s[_].m(t.parentNode,t))}for(ge(),_=o.length;_<s.length;_+=1)a(_);de()}},i(f){if(!l){m(e.$$.fragment,f);for(let i=0;i<o.length;i+=1)m(s[i]);l=!0}},o(f){d(e.$$.fragment,f),s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);l=!1},d(f){f&&(h(n),h(t)),v(e,f),Me(s,f)}}}function lt(r){let e,n;return e=new at({props:{$$slots:{default:[Yn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&3022848|l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Un(r){let e,n,t=me(r[17]),l=[];for(let s=0;s<t.length;s+=1)l[s]=lt(Qe(r,t,s));const o=s=>d(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=j()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=j()},m(s,a){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,a);C(s,e,a),n=!0},p(s,a){if(a[0]&1051598848){t=me(s[17]);let f;for(f=0;f<t.length;f+=1){const i=Qe(s,t,f);l[f]?(l[f].p(i,a),m(l[f],1)):(l[f]=lt(i),l[f].c(),m(l[f],1),l[f].m(e.parentNode,e))}for(ge(),f=t.length;f<l.length;f+=1)o(f);de()}},i(s){if(!n){for(let a=0;a<t.length;a+=1)m(l[a]);n=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)d(l[a]);n=!1},d(s){s&&h(e),Me(l,s)}}}function Gn(r){let e,n,t,l;return e=new Wt({props:{class:"font-semibold text-muted-foreground",$$slots:{default:[Sn]},$$scope:{ctx:r}}}),t=new Lt({props:{$$slots:{default:[Un]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=E(),b(t.$$.fragment)},l(o){k(e.$$.fragment,o),n=I(o),k(t.$$.fragment,o)},m(o,s){w(e,o,s),C(o,n,s),w(t,o,s),l=!0},p(o,s){const a={};s[0]&1572864|s[2]&2&&(a.$$scope={dirty:s,ctx:o}),e.$set(a);const f={};s[0]&3022848|s[2]&2&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){l||(m(e.$$.fragment,o),m(t.$$.fragment,o),l=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),l=!1},d(o){o&&h(n),v(e,o),v(t,o)}}}function Jn(r){let e,n,t;return e=new Ut({}),{c(){b(e.$$.fragment),n=N(" Delete Pattern")},l(l){k(e.$$.fragment,l),n=O(l," Delete Pattern")},m(l,o){w(e,l,o),C(l,n,o),t=!0},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&h(n),v(e,l)}}}function Kn(r){let e,n;return e=new he({props:{class:"mx-2 "+(r[9]&&"hidden"),variant:"destructive",slot:"actions",$$slots:{default:[Jn]},$$scope:{ctx:r}}}),e.$on("click",r[46]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const o={};l[0]&512&&(o.class="mx-2 "+(t[9]&&"hidden")),l[2]&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Qn(r){let e,n,t,l,o,s,a,f,i,c,_,$,u,P,q,W,L,B,te,K,U,Q,F,ne,X;l=new he({props:{size:"lg",variant:"ghost",class:"p-4 text-base text-muted-foreground",$$slots:{default:[ln]},$$scope:{ctx:r}}}),l.$on("click",r[30]),a=new Le({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[cn]},$$scope:{ctx:r}}}),i=new Le({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[gn]},$$scope:{ctx:r}}}),_=new Le({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[kn]},$$scope:{ctx:r}}});function ae(p){r[42](p)}let ie={};r[4]!==void 0&&(ie.value=r[4]),P=new qt({props:ie}),De.push(()=>Se(P,"value",ae));const be=[vn,wn],G=[];function V(p,D){return p[16]?0:1}L=V(r),B=G[L]=be[L](r);function ce(p){r[47](p)}let ue={state:r[0],selected:r[8],title:r[12],onSubmit:Xn,$$slots:{actions:[Kn]},$$scope:{ctx:r}};r[11]!==void 0&&(ue.open=r[11]),K=new Tt({props:ue}),De.push(()=>Se(K,"open",ce));function _e(p){r[49](p)}let x={state:r[0],selected:r[8],onDelete:r[48]};return r[10]!==void 0&&(x.open=r[10]),F=new At({props:x}),De.push(()=>Se(F,"open",_e)),{c(){e=A("div"),n=A("div"),t=A("div"),b(l.$$.fragment),o=E(),s=A("div"),b(a.$$.fragment),f=E(),b(i.$$.fragment),c=E(),b(_.$$.fragment),$=E(),u=A("div"),b(P.$$.fragment),W=E(),B.c(),te=E(),b(K.$$.fragment),Q=E(),b(F.$$.fragment),this.h()},l(p){e=H(p,"DIV",{class:!0});var D=M(e);n=H(D,"DIV",{class:!0});var R=M(n);t=H(R,"DIV",{});var le=M(t);k(l.$$.fragment,le),le.forEach(h),o=I(R),s=H(R,"DIV",{class:!0});var Y=M(s);k(a.$$.fragment,Y),f=I(Y),k(i.$$.fragment,Y),c=I(Y),k(_.$$.fragment,Y),Y.forEach(h),$=I(R),u=H(R,"DIV",{});var se=M(u);k(P.$$.fragment,se),se.forEach(h),R.forEach(h),W=I(D),B.l(D),D.forEach(h),te=I(p),k(K.$$.fragment,p),Q=I(p),k(F.$$.fragment,p),this.h()},h(){z(s,"class","flex w-[30%] flex-row items-center"),z(n,"class","flex h-20 w-full flex-row items-center justify-between bg-secondary p-4"),z(e,"class",r[3])},m(p,D){C(p,e,D),S(e,n),S(n,t),w(l,t,null),S(n,o),S(n,s),w(a,s,null),S(s,f),w(i,s,null),S(s,c),w(_,s,null),S(n,$),S(n,u),w(P,u,null),S(e,W),G[L].m(e,null),C(p,te,D),w(K,p,D),C(p,Q,D),w(F,p,D),X=!0},p(p,D){const R={};D[2]&2&&(R.$$scope={dirty:D,ctx:p}),l.$set(R);const le={};D[0]&32832|D[2]&2&&(le.$$scope={dirty:D,ctx:p}),a.$set(le);const Y={};D[0]&16448|D[2]&2&&(Y.$$scope={dirty:D,ctx:p}),i.$set(Y);const se={};D[0]&160|D[2]&2&&(se.$$scope={dirty:D,ctx:p}),_.$set(se);const Ce={};!q&&D[0]&16&&(q=!0,Ce.value=p[4],Pe(()=>q=!1)),P.$set(Ce);let ke=L;L=V(p),L===ke?G[L].p(p,D):(ge(),d(G[ke],1,1,()=>{G[ke]=null}),de(),B=G[L],B?B.p(p,D):(B=G[L]=be[L](p),B.c()),m(B,1),B.m(e,null)),(!X||D[0]&8)&&z(e,"class",p[3]);const oe={};D[0]&1&&(oe.state=p[0]),D[0]&256&&(oe.selected=p[8]),D[0]&4096&&(oe.title=p[12]),D[0]&1536|D[2]&2&&(oe.$$scope={dirty:D,ctx:p}),!U&&D[0]&2048&&(U=!0,oe.open=p[11],Pe(()=>U=!1)),K.$set(oe);const re={};D[0]&1&&(re.state=p[0]),D[0]&256&&(re.selected=p[8]),D[0]&2304&&(re.onDelete=p[48]),!ne&&D[0]&1024&&(ne=!0,re.open=p[10],Pe(()=>ne=!1)),F.$set(re)},i(p){X||(m(l.$$.fragment,p),m(a.$$.fragment,p),m(i.$$.fragment,p),m(_.$$.fragment,p),m(P.$$.fragment,p),m(B),m(K.$$.fragment,p),m(F.$$.fragment,p),X=!0)},o(p){d(l.$$.fragment,p),d(a.$$.fragment,p),d(i.$$.fragment,p),d(_.$$.fragment,p),d(P.$$.fragment,p),d(B),d(K.$$.fragment,p),d(F.$$.fragment,p),X=!1},d(p){p&&(h(e),h(te),h(Q)),v(l),v(a),v(i),v(_),v(P),G[L].d(),v(K,p),v(F,p)}}}const Xn=()=>{};function Zn(r,e,n){let t,l,o,s,a,f,i,c,_,$,u,P=J,q=()=>(P(),P=Ue(Q,g=>n(39,u=g)),Q),W,L,B,te=J,K=()=>(te(),te=Ue(F,g=>n(21,B=g)),F);r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>te());let{state:U=ft}=e,{people:Q=U.people}=e;q();let{shifts:F=U.shifts}=e;K();let{locale:ne=navigator.language||"en"}=e,{start:X=We(Pt(je()),ne)}=e,{days:ae=7}=e,{options:ie={}}=e,{class:be=""}=e,G="",V=X,ce,ue=!1,_e=!1,x=!1,p="";const D=U.settings;He(r,D,g=>n(38,$=g));const R=U.assignments;He(r,R,g=>n(41,L=g));const le=U.assignmentPatterns;He(r,le,g=>n(40,W=g));const Y={};function se(g,Z){return fe=>{R.update(y=>(fe?y.put(g,Z,fe):y.delete(g,Z),y))}}function Ce(g){if(g)return g.shift?Ve(U._shifts).get(Ge(g.shift))??{name:"Unknown Shift"}:{name:"Day Off",icon:Et.fromString("lucide:calendar-off","#9a3412")}}function ke(g){return g.shift?Ge(g.shift):g.type}function oe(g,Z){const fe=[zt()];for(const y of Z)y.occursOn(g)&&fe.push({type:"SHIFT",shift:y,preference:"preferred"});return fe}function re(g){g&&g.source instanceof Be&&(n(8,ce=g.source),n(12,p="Edit Assignment Pattern"),n(9,ue=!1),n(11,x=!0))}function _t(){n(8,ce=new Be({pattern:It.daily({startDate:V,endDate:l}),person:Ve(Q)[0],params:{preference:"preferred",type:"SHIFT",shift:Ve(F)[0]}},U)),n(9,ue=!0),n(12,p="New Assignment Pattern"),n(11,x=!0)}function $t(){n(5,V=We(V).add({weeks:1}))}function mt(){n(5,V=We(V).add({weeks:-1}))}function pt(){n(5,V=X)}function gt(g){G=g,n(4,G)}const dt=g=>re(g),ht=(g,Z,fe)=>{R.update(y=>{const Ae=y.get(g,Z);return Ae&&(Ae.preference=fe?"required":"preferred",y.put(g,Z,Ae)),y})};function bt(g,Z){r.$$.not_equal(Y[Z],g)&&(Y[Z]=g,n(13,Y))}const kt=()=>{n(10,_e=!0)};function wt(g){x=g,n(11,x)}const vt=()=>{n(11,x=!1),n(8,ce=void 0)};function Ct(g){_e=g,n(10,_e)}return r.$$set=g=>{"state"in g&&n(0,U=g.state),"people"in g&&q(n(1,Q=g.people)),"shifts"in g&&K(n(2,F=g.shifts)),"locale"in g&&n(34,ne=g.locale),"start"in g&&n(35,X=g.start),"days"in g&&n(36,ae=g.days),"options"in g&&n(37,ie=g.options),"class"in g&&n(3,be=g.class)},r.$$.update=()=>{r.$$.dirty[1]&72&&n(20,t=new Intl.DateTimeFormat(ne,{weekday:"long",day:"numeric",...ie})),r.$$.dirty[0]&32|r.$$.dirty[1]&32&&n(7,l=V.add({days:ae})),r.$$.dirty[0]&32|r.$$.dirty[1]&32&&n(19,o=St(ae).map(g=>V.add({days:g}))),r.$$.dirty[0]&160|r.$$.dirty[1]&1536&&n(18,s=Nt(L,W,V,l)),r.$$.dirty[0]&16|r.$$.dirty[1]&256&&n(17,a=u.filter(g=>g.name.toLowerCase().includes(G.toLowerCase()))),r.$$.dirty[1]&128&&n(6,f=Ot($.planningHorizon)),r.$$.dirty[0]&96&&n(16,i=V.compare(f.start)<0||V.compare(f.end)>0),r.$$.dirty[0]&96&&n(15,c=V.compare(f.start)<=0),r.$$.dirty[0]&96&&n(14,_=V.compare(f.end)>=0)},[U,Q,F,be,G,V,f,l,ce,ue,_e,x,p,Y,_,c,i,a,s,o,t,B,D,R,le,se,Ce,ke,oe,re,_t,$t,mt,pt,ne,X,ae,ie,$,u,W,L,gt,dt,ht,bt,kt,wt,vt,Ct]}class yn extends we{constructor(e){super(),ve(this,e,Zn,Qn,pe,{state:0,people:1,shifts:2,locale:34,start:35,days:36,options:37,class:3},null,[-1,-1,-1])}}function xn(r){let e,n,t;return n=new yn({props:{state:ft,class:"h-full w-full rounded-md border shadow-md"}}),{c(){e=A("main"),b(n.$$.fragment),this.h()},l(l){e=H(l,"MAIN",{class:!0});var o=M(e);k(n.$$.fragment,o),o.forEach(h),this.h()},h(){z(e,"class","h-full w-full")},m(l,o){C(l,e,o),w(n,e,null),t=!0},p:J,i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){d(n.$$.fragment,l),t=!1},d(l){l&&h(e),v(n)}}}class fl extends we{constructor(e){super(),ve(this,e,null,xn,pe,{})}}export{fl as component};
