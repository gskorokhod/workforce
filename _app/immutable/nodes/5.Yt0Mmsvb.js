import{s as L,o as S,e as U,a as M,c as W,b as X,g as A,f as K,m as O,i as N,h as oe,p as E,z as re,q as Y,u as Z,r as y,v as x,n as fe}from"../chunks/scheduler.CifE-UFa.js";import{S as ee,i as te,e as j,c as w,a as I,m as F,t as g,g as ue,b as h,f as ce,d as C}from"../chunks/index.YRSh76gT.js";import{B as de,s as ae,Q as me}from"../chunks/index.DJ9jivjJ.js";import{w as _e}from"../chunks/index.CmTsz0B0.js";import{D as ge,E as pe,a as B,b as R,T as he,C as be,S as $e,c as we,P as Ie,d as Fe}from"../chunks/table-header.DwiKIo6V.js";const Ce=a=>({}),G=a=>({}),ke=a=>({}),H=a=>({});function J(a){let e,s;return e=new he({props:{sticky:!0,$$slots:{end:[Qe],middle:[Ke],start:[Pe]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},p(t,l){const o={};l&8388816&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Ve(a){let e,s;return e=new Fe({}),{c(){w(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Pe(a){let e,s,t;e=new de({props:{class:"text-muted-foreground hover:text-accent-foreground",size:"icon-xl",variant:"ghost",$$slots:{default:[Ve]},$$scope:{ctx:a}}}),e.$on("click",a[13]);const l=a[15].start,o=Y(l,a,a[23],G);return{c(){w(e.$$.fragment),s=M(),o&&o.c()},l(f){I(e.$$.fragment,f),s=A(f),o&&o.l(f)},m(f,d){F(e,f,d),N(f,s,d),o&&o.m(f,d),t=!0},p(f,d){const r={};d&8388608&&(r.$$scope={dirty:d,ctx:f}),e.$set(r),o&&o.p&&(!t||d&8388608)&&Z(o,l,f,f[23],t?x(l,f[23],d,Ce):y(f[23]),G)},i(f){t||(g(e.$$.fragment,f),g(o,f),t=!0)},o(f){h(e.$$.fragment,f),h(o,f),t=!1},d(f){f&&K(s),C(e,f),o&&o.d(f)}}}function Ke(a){let e;const s=a[15].middle,t=Y(s,a,a[23],H);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&8388608)&&Z(t,s,l,l[23],e?x(s,l[23],o,ke):y(l[23]),H)},i(l){e||(g(t,l),e=!0)},o(l){h(t,l),e=!1},d(l){t&&t.d(l)}}}function Qe(a){let e,s,t,l,o;function f(r){a[16](r)}let d={flatColumns:a[7]};return a[6]!==void 0&&(d.hideForId=a[6]),e=new be({props:d}),S.push(()=>j(e,"hideForId",f)),l=new $e({props:{onInput:a[17]}}),{c(){w(e.$$.fragment),t=M(),w(l.$$.fragment)},l(r){I(e.$$.fragment,r),t=A(r),I(l.$$.fragment,r)},m(r,m){F(e,r,m),N(r,t,m),F(l,r,m),o=!0},p(r,m){const _={};m&128&&(_.flatColumns=r[7]),!s&&m&64&&(s=!0,_.hideForId=r[6],E(()=>s=!1)),e.$set(_);const p={};m&16&&(p.onInput=r[17]),l.$set(p)},i(r){o||(g(e.$$.fragment,r),g(l.$$.fragment,r),o=!0)},o(r){h(e.$$.fragment,r),h(l.$$.fragment,r),o=!1},d(r){r&&K(t),C(e,r),C(l,r)}}}function Se(a){let e,s,t,l,o,f,d,r,m,_,p,b,u=a[1]&&J(a);function T(i){a[18](i)}function k(i){a[19](i)}function q(i){a[20](i)}function z(i){a[21](i)}let V={class:"w-full",columnInitializers:a[11],data:a[0],actions:a[3],defaultAction:a[12]};a[4]!==void 0&&(V.filterValue=a[4]),a[7]!==void 0&&(V.flatColumns=a[7]),a[6]!==void 0&&(V.hideForId=a[6]),a[5]!==void 0&&(V.sortKeys=a[5]),t=new ge({props:V}),S.push(()=>j(t,"filterValue",T)),S.push(()=>j(t,"flatColumns",k)),S.push(()=>j(t,"hideForId",q)),S.push(()=>j(t,"sortKeys",z));function D(i){a[22](i)}let v={item:a[8],title:a[10]};return a[9]!==void 0&&(v.open=a[9]),_=new pe({props:v}),S.push(()=>j(_,"open",D)),{c(){e=U("div"),u&&u.c(),s=M(),w(t.$$.fragment),m=M(),w(_.$$.fragment),this.h()},l(i){e=W(i,"DIV",{class:!0});var c=X(e);u&&u.l(c),s=A(c),I(t.$$.fragment,c),c.forEach(K),m=A(i),I(_.$$.fragment,i),this.h()},h(){O(e,"class",r="flex flex-col items-start justify-start "+a[2])},m(i,c){N(i,e,c),u&&u.m(e,null),oe(e,s),F(t,e,null),N(i,m,c),F(_,i,c),b=!0},p(i,[c]){i[1]?u?(u.p(i,c),c&2&&g(u,1)):(u=J(i),u.c(),g(u,1),u.m(e,s)):u&&(ue(),h(u,1,1,()=>{u=null}),ce());const $={};c&1&&($.data=i[0]),c&8&&($.actions=i[3]),!l&&c&16&&(l=!0,$.filterValue=i[4],E(()=>l=!1)),!o&&c&128&&(o=!0,$.flatColumns=i[7],E(()=>o=!1)),!f&&c&64&&(f=!0,$.hideForId=i[6],E(()=>f=!1)),!d&&c&32&&(d=!0,$.sortKeys=i[5],E(()=>d=!1)),t.$set($),(!b||c&4&&r!==(r="flex flex-col items-start justify-start "+i[2]))&&O(e,"class",r);const Q={};c&256&&(Q.item=i[8]),c&1024&&(Q.title=i[10]),!p&&c&512&&(p=!0,Q.open=i[9],E(()=>p=!1)),_.$set(Q)},i(i){b||(g(u),g(t.$$.fragment,i),g(_.$$.fragment,i),b=!0)},o(i){h(u),h(t.$$.fragment,i),h(_.$$.fragment,i),b=!1},d(i){i&&(K(e),K(m)),u&&u.d(),C(t),C(_,i)}}}function Ee(a,e,s){let{$$slots:t={},$$scope:l}=e,{data:o}=e,{header:f=!0}=e,{state:d=ae}=e,r=new Map,m=_e(""),_=we([]),p={},b,{class:u=""}=e,T,k=!1,q="Edit Person",z=[{accessor:n=>n,cell:n=>B(Ie,{item:n.value}),header:"Icon",id:"icon",plugins:{sort:{disable:!0},tableFilter:{disable:!0}}},{accessor:n=>n.name,header:"Name",id:"name"},{accessor:n=>n.getPeople(),cell:n=>B(R,{items:n.value,placeholder:"No People"}),header:"People with Quialification",id:"people",plugins:{sort:{getSortValue:n=>n.map(P=>P.name).join(" ")},tableFilter:{getFilterValue:n=>n.map(P=>P.name).join(" ")}}}];const V=d.settings;re(V).assignmentMode==="granular"&&z.push({accessor:n=>n.getTasks(),cell:n=>B(R,{items:n.value,placeholder:"No Tasks"}),header:"Tasks requiring Qualification",id:"tasks",plugins:{sort:{getSortValue:n=>n.map(P=>P.name).join(" ")},tableFilter:{getFilterValue:n=>n.map(P=>P.name).join(" ")}}});let{actions:D=new Map([...r,["Edit",n=>v(n)],["Delete",n=>n.delete()]])}=e;function v(n){s(10,q="Edit Qualification"),s(8,T=n.get()),s(9,k=!0)}function i(){s(10,q="Create new Qualification"),s(8,T=new me({},d)),s(9,k=!0)}function c(n){p=n,s(6,p)}const $=n=>m.set(n);function Q(n){m=n,s(4,m)}function se(n){b=n,s(7,b)}function ne(n){p=n,s(6,p)}function le(n){_=n,s(5,_)}function ie(n){k=n,s(9,k)}return a.$$set=n=>{"data"in n&&s(0,o=n.data),"header"in n&&s(1,f=n.header),"state"in n&&s(14,d=n.state),"class"in n&&s(2,u=n.class),"actions"in n&&s(3,D=n.actions),"$$scope"in n&&s(23,l=n.$$scope)},[o,f,u,D,m,_,p,b,T,k,q,z,v,i,d,t,c,$,Q,se,ne,le,ie,l]}class je extends ee{constructor(e){super(),te(this,e,Ee,Se,L,{data:0,header:1,state:14,class:2,actions:3})}}function Te(a){let e,s,t;return s=new je({props:{data:a[0],class:"h-full w-full"}}),{c(){e=U("main"),w(s.$$.fragment),this.h()},l(l){e=W(l,"MAIN",{class:!0});var o=X(e);I(s.$$.fragment,o),o.forEach(K),this.h()},h(){O(e,"class","h-full w-full")},m(l,o){N(l,e,o),F(s,e,null),t=!0},p:fe,i(l){t||(g(s.$$.fragment,l),t=!0)},o(l){h(s.$$.fragment,l),t=!1},d(l){l&&K(e),C(s)}}}function qe(a){return[ae.qualifications]}class Ae extends ee{constructor(e){super(),te(this,e,qe,Te,L,{})}}export{Ae as component};
