import{s as se,w as K,e as L,a as q,c as Q,b as U,g as z,f as k,m as R,i as j,h as X,x as P,y as Y,q as ae,u as ne,r as le,v as oe,n as ue}from"../chunks/scheduler.B1uOEMOA.js";import{S as re,i as ie,e as S,c as I,a as C,m as F,t as h,g as de,b,f as ce,d as T}from"../chunks/index.qrTrU_Jd.js";import{D as me,E as _e,a as pe,c as Z,T as ge,S as he,b as be,P as $e,d as we}from"../chunks/delete-dialog.DlSoz2iu.js";import{B as ke,s as fe,T as Ie}from"../chunks/index.BG07Jm5P.js";import{w as Ce}from"../chunks/index.RRcRCkg8.js";import{P as Fe,C as Te}from"../chunks/column-hide-selector.BPowzNr8.js";import{m as ve}from"../chunks/index.CqzRrt0j.js";const Ve=a=>({}),x=a=>({}),De=a=>({}),ee=a=>({});function te(a){let e,t;return e=new ge({props:{sticky:!0,$$slots:{end:[Se],middle:[Pe],start:[Ke]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,s){const r={};s&33554640&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ee(a){let e,t;return e=new we({}),{c(){I(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ke(a){let e,t,n;e=new ke({props:{class:"text-muted-foreground hover:text-accent-foreground",size:"icon-xl",variant:"ghost",$$slots:{default:[Ee]},$$scope:{ctx:a}}}),e.$on("click",a[14]);const s=a[16].start,r=ae(s,a,a[25],x);return{c(){I(e.$$.fragment),t=q(),r&&r.c()},l(i){C(e.$$.fragment,i),t=z(i),r&&r.l(i)},m(i,c){F(e,i,c),j(i,t,c),r&&r.m(i,c),n=!0},p(i,c){const f={};c&33554432&&(f.$$scope={dirty:c,ctx:i}),e.$set(f),r&&r.p&&(!n||c&33554432)&&ne(r,s,i,i[25],n?oe(s,i[25],c,Ve):le(i[25]),x)},i(i){n||(h(e.$$.fragment,i),h(r,i),n=!0)},o(i){b(e.$$.fragment,i),b(r,i),n=!1},d(i){i&&k(t),T(e,i),r&&r.d(i)}}}function Pe(a){let e;const t=a[16].middle,n=ae(t,a,a[25],ee);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,r){n&&n.m(s,r),e=!0},p(s,r){n&&n.p&&(!e||r&33554432)&&ne(n,t,s,s[25],e?oe(t,s[25],r,De):le(s[25]),ee)},i(s){e||(h(n,s),e=!0)},o(s){b(n,s),e=!1},d(s){n&&n.d(s)}}}function Se(a){let e,t,n,s,r;function i(f){a[17](f)}let c={flatColumns:a[7]};return a[6]!==void 0&&(c.hideForId=a[6]),e=new Te({props:c}),K.push(()=>S(e,"hideForId",i)),s=new he({props:{onInput:a[18]}}),{c(){I(e.$$.fragment),n=q(),I(s.$$.fragment)},l(f){C(e.$$.fragment,f),n=z(f),C(s.$$.fragment,f)},m(f,_){F(e,f,_),j(f,n,_),F(s,f,_),r=!0},p(f,_){const $={};_&128&&($.flatColumns=f[7]),!t&&_&64&&(t=!0,$.hideForId=f[6],P(()=>t=!1)),e.$set($);const m={};_&16&&(m.onInput=f[18]),s.$set(m)},i(f){r||(h(e.$$.fragment,f),h(s.$$.fragment,f),r=!0)},o(f){b(e.$$.fragment,f),b(s.$$.fragment,f),r=!1},d(f){f&&k(n),T(e,f),T(s,f)}}}function ye(a){let e,t,n,s,r,i,c,f,_,$,m,V,D,g,v,w,d=a[1]&&te(a);function A(l){a[19](l)}function M(l){a[20](l)}function W(l){a[21](l)}function N(l){a[22](l)}let E={class:"w-full",columnInitializers:a[12],data:a[0],actions:a[3],header:a[1],defaultAction:a[13]};a[4]!==void 0&&(E.filterValue=a[4]),a[7]!==void 0&&(E.flatColumns=a[7]),a[6]!==void 0&&(E.hideForId=a[6]),a[5]!==void 0&&(E.sortKeys=a[5]),s=new me({props:E}),K.push(()=>S(s,"filterValue",A)),K.push(()=>S(s,"flatColumns",M)),K.push(()=>S(s,"hideForId",W)),K.push(()=>S(s,"sortKeys",N));function G(l){a[23](l)}let B={selected:a[8],title:a[11]};a[10]!==void 0&&(B.open=a[10]),m=new _e({props:B}),K.push(()=>S(m,"open",G));function H(l){a[24](l)}let O={selected:a[8]};return a[9]!==void 0&&(O.open=a[9]),g=new pe({props:O}),K.push(()=>S(g,"open",H)),{c(){e=L("div"),t=L("div"),d&&d.c(),n=q(),I(s.$$.fragment),$=q(),I(m.$$.fragment),D=q(),I(g.$$.fragment),this.h()},l(l){e=Q(l,"DIV",{class:!0});var u=U(e);t=Q(u,"DIV",{class:!0});var p=U(t);d&&d.l(p),n=z(p),C(s.$$.fragment,p),p.forEach(k),u.forEach(k),$=z(l),C(m.$$.fragment,l),D=z(l),C(g.$$.fragment,l),this.h()},h(){R(t,"class","mt-4 flex h-max w-full flex-col items-start justify-start overflow-y-scroll"),R(e,"class",_="flex flex-col items-start justify-start "+a[2])},m(l,u){j(l,e,u),X(e,t),d&&d.m(t,null),X(t,n),F(s,t,null),j(l,$,u),F(m,l,u),j(l,D,u),F(g,l,u),w=!0},p(l,[u]){l[1]?d?(d.p(l,u),u&2&&h(d,1)):(d=te(l),d.c(),h(d,1),d.m(t,n)):d&&(de(),b(d,1,1,()=>{d=null}),ce());const p={};u&1&&(p.data=l[0]),u&8&&(p.actions=l[3]),u&2&&(p.header=l[1]),!r&&u&16&&(r=!0,p.filterValue=l[4],P(()=>r=!1)),!i&&u&128&&(i=!0,p.flatColumns=l[7],P(()=>i=!1)),!c&&u&64&&(c=!0,p.hideForId=l[6],P(()=>c=!1)),!f&&u&32&&(f=!0,p.sortKeys=l[5],P(()=>f=!1)),s.$set(p),(!w||u&4&&_!==(_="flex flex-col items-start justify-start "+l[2]))&&R(e,"class",_);const y={};u&256&&(y.selected=l[8]),u&2048&&(y.title=l[11]),!V&&u&1024&&(V=!0,y.open=l[10],P(()=>V=!1)),m.$set(y);const o={};u&256&&(o.selected=l[8]),!v&&u&512&&(v=!0,o.open=l[9],P(()=>v=!1)),g.$set(o)},i(l){w||(h(d),h(s.$$.fragment,l),h(m.$$.fragment,l),h(g.$$.fragment,l),w=!0)},o(l){b(d),b(s.$$.fragment,l),b(m.$$.fragment,l),b(g.$$.fragment,l),w=!1},d(l){l&&(k(e),k($),k(D)),d&&d.d(),T(s),T(m,l),T(g,l)}}}function je(a,e,t){let{$$slots:n={},$$scope:s}=e,{data:r}=e,{header:i=!0}=e,{state:c=fe}=e,f=new Map,_=Ce(""),$=be([]),m={},V,{class:D=""}=e,g,v=!1,w=!1,d="Edit Task",A=[{accessor:o=>o,cell:o=>Z($e,{item:o.value}),header:"Picture",id:"picture",plugins:{sort:{disable:!0},tableFilter:{disable:!0}}},{accessor:o=>o.name,header:"Name",id:"name"},{accessor:o=>ve(o.min.people,o.max.people,"people"),header:"Required Workers",id:"capacity"}];for(const o of Y(c.templates).task.keys)A.push({accessor:J=>J.properties.get(o),cell:J=>Z(Fe,{property:o,value:J.value}),header:o.name,id:o.uuid});let{actions:M=new Map([...f,["Edit",N],["Delete",W]])}=e;function W(o){Y(c.settings).askDeleteConfirmation?(t(8,g=o),t(9,v=!0)):o.delete()}function N(o){t(11,d="Edit Task"),t(8,g=o.pull()),t(10,w=!0)}function E(){t(11,d="Create new Task"),t(8,g=new Ie({name:""},c)),t(10,w=!0)}function G(o){m=o,t(6,m)}const B=o=>_.set(o);function H(o){_=o,t(4,_)}function O(o){V=o,t(7,V)}function l(o){m=o,t(6,m)}function u(o){$=o,t(5,$)}function p(o){w=o,t(10,w)}function y(o){v=o,t(9,v)}return a.$$set=o=>{"data"in o&&t(0,r=o.data),"header"in o&&t(1,i=o.header),"state"in o&&t(15,c=o.state),"class"in o&&t(2,D=o.class),"actions"in o&&t(3,M=o.actions),"$$scope"in o&&t(25,s=o.$$scope)},[r,i,D,M,_,$,m,V,g,v,w,d,A,N,E,c,n,G,B,H,O,l,u,p,y,s]}class qe extends re{constructor(e){super(),ie(this,e,je,ye,se,{data:0,header:1,state:15,class:2,actions:3})}}function ze(a){let e,t,n;return t=new qe({props:{data:a[0],class:"h-full w-full"}}),{c(){e=L("main"),I(t.$$.fragment),this.h()},l(s){e=Q(s,"MAIN",{class:!0});var r=U(e);C(t.$$.fragment,r),r.forEach(k),this.h()},h(){R(e,"class","h-full w-full")},m(s,r){j(s,e,r),F(t,e,null),n=!0},p:ue,i(s){n||(h(t.$$.fragment,s),n=!0)},o(s){b(t.$$.fragment,s),n=!1},d(s){s&&k(e),T(t)}}}function Ae(a){return[fe.tasks]}class He extends re{constructor(e){super(),ie(this,e,Ae,ze,se,{})}}export{He as component};
