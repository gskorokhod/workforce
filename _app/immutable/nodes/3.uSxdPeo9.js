import{s as ce,o as ie,p as Ce,q as De,u as Se,r as Pe,v as Oe,e as B,a as P,c as H,b as R,f as d,g as O,m as V,H as T,i as C,h as E,w as ke,x as we,k as Fe,t as q,d as A,n as x,C as Be,B as Ie,z as M,A as We,j as se}from"../chunks/scheduler.DpdggcV9.js";import{S as pe,i as ge,c as b,a as k,m as w,t as _,b as g,d as v,e as ve,g as he,f as de}from"../chunks/index.KweK3yxl.js";import{I as ye,g as xe,a as et,C as gt,B as $e,k as qe,l as ht,$ as Te,r as dt,m as bt,s as tt,n as He,b as kt,A as Ve,R as wt,e as ue,o as vt,p as Re}from"../chunks/stores.BojXDT7e.js";import{k as Ae,S as Ct,n as Dt,E as St,D as Pt,i as Ot,l as ze,m as Le,o as Nt,p as Et,q as nt,r as It,s as qt,t as Ne,a as ot,u as At,v as Tt}from"../chunks/delete-dialog.BUglZHCm.js";import{L as Vt}from"../chunks/label.BCSB2gr1.js";import{C as Wt}from"../chunks/combobox.BOUNeFIh.js";import{T as zt}from"../chunks/trash.Bb05Y4NX.js";function Lt(r){let e;const n=r[2].default,t=De(n,r,r[3],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,l){t&&t.m(o,l),e=!0},p(o,l){t&&t.p&&(!e||l&8)&&Se(t,n,o,o[3],e?Oe(n,o[3],l,null):Pe(o[3]),null)},i(o){e||(_(t,o),e=!0)},o(o){g(t,o),e=!1},d(o){t&&t.d(o)}}}function Ft(r){let e,n;const t=[{name:"lock"},r[1],{iconNode:r[0]}];let o={$$slots:{default:[Lt]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)o=ie(o,t[l]);return e=new ye({props:o}),{c(){b(e.$$.fragment)},l(l){k(e.$$.fragment,l)},m(l,s){w(e,l,s),n=!0},p(l,[s]){const a=s&3?xe(t,[t[0],s&2&&et(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),n=!1},d(l){v(e,l)}}}function Bt(r,e,n){let{$$slots:t={},$$scope:o}=e;const l=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];return r.$$set=s=>{n(1,e=ie(ie({},e),Ce(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ce(e),[l,e,t,o]}class lt extends pe{constructor(e){super(),ge(this,e,Bt,Ft,ce,{})}}function Ht(r){let e;const n=r[2].default,t=De(n,r,r[3],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,l){t&&t.m(o,l),e=!0},p(o,l){t&&t.p&&(!e||l&8)&&Se(t,n,o,o[3],e?Oe(n,o[3],l,null):Pe(o[3]),null)},i(o){e||(_(t,o),e=!0)},o(o){g(t,o),e=!1},d(o){t&&t.d(o)}}}function Rt(r){let e,n;const t=[{name:"repeat"},r[1],{iconNode:r[0]}];let o={$$slots:{default:[Ht]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)o=ie(o,t[l]);return e=new ye({props:o}),{c(){b(e.$$.fragment)},l(l){k(e.$$.fragment,l)},m(l,s){w(e,l,s),n=!0},p(l,[s]){const a=s&3?xe(t,[t[0],s&2&&et(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),n=!1},d(l){v(e,l)}}}function jt(r,e,n){let{$$slots:t={},$$scope:o}=e;const l=[["path",{d:"m17 2 4 4-4 4"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14"}],["path",{d:"m7 22-4-4 4-4"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3"}]];return r.$$set=s=>{n(1,e=ie(ie({},e),Ce(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ce(e),[l,e,t,o]}class Mt extends pe{constructor(e){super(),ge(this,e,jt,Rt,ce,{})}}const Yt=r=>({}),je=r=>({});function Ut(r){let e,n,t,o,l,s,a;const f=r[8].corner,i=De(f,r,r[7],je),h=r[8].default,c=De(h,r,r[7],null);return{c(){e=B("div"),n=B("div"),i&&i.c(),t=P(),o=B("div"),c&&c.c(),this.h()},l($){e=H($,"DIV",{class:!0});var u=R(e);n=H(u,"DIV",{class:!0,style:!0});var S=R(n);i&&i.l(S),S.forEach(d),t=O(u),o=H(u,"DIV",{class:!0});var I=R(o);c&&c.l(I),I.forEach(d),u.forEach(d),this.h()},h(){V(n,"class","corner svelte-1puxtaq"),T(n,"opacity",r[2].opacity!==void 0?r[2].opacity:1),T(n,"width",r[2].width),T(n,"height",r[2].height),T(n,"background-color",r[2].backgroundColor),T(n,"top",r[2].top||"auto"),T(n,"left",r[2].left||"auto"),T(n,"right",r[2].right||"auto"),T(n,"bottom",r[2].bottom||"auto"),T(n,"clip-path",r[2].clipPath||"none"),V(o,"class",l="content "+r[0]+" svelte-1puxtaq"),V(e,"class",s="container overflow-hidden bg-background "+r[1]+" svelte-1puxtaq")},m($,u){C($,e,u),E(e,n),i&&i.m(n,null),E(e,t),E(e,o),c&&c.m(o,null),a=!0},p($,[u]){i&&i.p&&(!a||u&128)&&Se(i,f,$,$[7],a?Oe(f,$[7],u,Yt):Pe($[7]),je),(!a||u&4)&&T(n,"opacity",$[2].opacity!==void 0?$[2].opacity:1),(!a||u&4)&&T(n,"width",$[2].width),(!a||u&4)&&T(n,"height",$[2].height),(!a||u&4)&&T(n,"background-color",$[2].backgroundColor),(!a||u&4)&&T(n,"top",$[2].top||"auto"),(!a||u&4)&&T(n,"left",$[2].left||"auto"),(!a||u&4)&&T(n,"right",$[2].right||"auto"),(!a||u&4)&&T(n,"bottom",$[2].bottom||"auto"),(!a||u&4)&&T(n,"clip-path",$[2].clipPath||"none"),c&&c.p&&(!a||u&128)&&Se(c,h,$,$[7],a?Oe(h,$[7],u,null):Pe($[7]),null),(!a||u&1&&l!==(l="content "+$[0]+" svelte-1puxtaq"))&&V(o,"class",l),(!a||u&2&&s!==(s="container overflow-hidden bg-background "+$[1]+" svelte-1puxtaq"))&&V(e,"class",s)},i($){a||(_(i,$),_(c,$),a=!0)},o($){g(i,$),g(c,$),a=!1},d($){$&&d(e),i&&i.d($),c&&c.d($)}}}function Gt(r,e,n){let t,{$$slots:o={},$$scope:l}=e,{highlightColor:s="#ff3e00"}=e,{cornerSize:a="30px"}=e,{cornerOpacity:f=1}=e,{position:i="top-left"}=e,{contentClass:h=""}=e,{class:c=""}=e;function $(){const u={position:"absolute",opacity:f,width:a,height:a,backgroundColor:s instanceof gt?s.hex():s};switch(i){case"top-left":return{...u,top:0,left:0,clipPath:"polygon(0 0, 100% 0, 0 100%)"};case"top-right":return{...u,top:0,right:0,clipPath:"polygon(100% 0, 0 0, 100% 100%)"};case"bottom-left":return{...u,bottom:0,left:0,clipPath:"polygon(0 100%, 100% 100%, 0 0)"};case"bottom-right":return{...u,bottom:0,right:0,clipPath:"polygon(100% 100%, 100% 0, 0 100%)"};default:return{...u,top:0,left:0,clipPath:"polygon(0 0, 100% 0, 0 100%)"}}}return r.$$set=u=>{"highlightColor"in u&&n(3,s=u.highlightColor),"cornerSize"in u&&n(4,a=u.cornerSize),"cornerOpacity"in u&&n(5,f=u.cornerOpacity),"position"in u&&n(6,i=u.position),"contentClass"in u&&n(0,h=u.contentClass),"class"in u&&n(1,c=u.class),"$$scope"in u&&n(7,l=u.$$scope)},n(2,t=$()),[h,c,t,s,a,f,i,l,o]}class rt extends pe{constructor(e){super(),ge(this,e,Gt,Ut,ce,{highlightColor:3,cornerSize:4,cornerOpacity:5,position:6,contentClass:0,class:1})}}function Me(r,e,n){const t=r.slice();return t[44]=e[n],t}function Ye(r,e,n){const t=r.slice();return t[47]=e[n],t}function Ue(r){var l,s,a,f;const e=(l=r[14].get(r[44]))==null?void 0:l.get(r[47]);r[50]=e;const n=(s=r[50])==null?void 0:s.shift;r[51]=n;const t=(a=r[50])==null?void 0:a.preference;r[52]=t;const o=(f=r[50])==null?void 0:f.type;r[53]=o}function Jt(r){const e=r.slice(),n=`${e[44].uuid}-${e[47].toString()}`;return e[54]=n,e}function Ge(r,e,n){const t=r.slice();return t[47]=e[n],t}function Kt(r){let e,n,t;return e=new Ot({}),{c(){b(e.$$.fragment),n=q(`
        Add Pattern`)},l(o){k(e.$$.fragment,o),n=A(o,`
        Add Pattern`)},m(o,l){w(e,o,l),C(o,n,l),t=!0},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){o&&d(n),v(e,o)}}}function Qt(r){let e,n;return e=new It({}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Xt(r){let e,n;return e=new $e({props:{class:"text-muted-foreground",size:"icon",variant:"ghost",$$slots:{default:[Qt]},$$scope:{ctx:r}}}),e.$on("click",r[27]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Zt(r){let e;return{c(){e=q("Previous Week")},l(n){e=A(n,"Previous Week")},m(n,t){C(n,e,t)},d(n){n&&d(e)}}}function yt(r){let e,n,t,o;return e=new ze({props:{$$slots:{default:[Xt]},$$scope:{ctx:r}}}),t=new Le({props:{class:"",side:"top",$$slots:{default:[Zt]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=P(),b(t.$$.fragment)},l(l){k(e.$$.fragment,l),n=O(l),k(t.$$.fragment,l)},m(l,s){w(e,l,s),C(l,n,s),w(t,l,s),o=!0},p(l,s){const a={};s[1]&67108864&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const f={};s[1]&67108864&&(f.$$scope={dirty:s,ctx:l}),t.$set(f)},i(l){o||(_(e.$$.fragment,l),_(t.$$.fragment,l),o=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),o=!1},d(l){l&&d(n),v(e,l),v(t,l)}}}function xt(r){let e,n;return e=new qt({}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function en(r){let e,n;return e=new $e({props:{class:"text-muted-foreground",size:"icon",variant:"ghost",$$slots:{default:[xt]},$$scope:{ctx:r}}}),e.$on("click",r[26]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function tn(r){let e;return{c(){e=q("Next Week")},l(n){e=A(n,"Next Week")},m(n,t){C(n,e,t)},d(n){n&&d(e)}}}function nn(r){let e,n,t,o;return e=new ze({props:{$$slots:{default:[en]},$$scope:{ctx:r}}}),t=new Le({props:{class:"",side:"top",$$slots:{default:[tn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=P(),b(t.$$.fragment)},l(l){k(e.$$.fragment,l),n=O(l),k(t.$$.fragment,l)},m(l,s){w(e,l,s),C(l,n,s),w(t,l,s),o=!0},p(l,s){const a={};s[1]&67108864&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const f={};s[1]&67108864&&(f.$$scope={dirty:s,ctx:l}),t.$set(f)},i(l){o||(_(e.$$.fragment,l),_(t.$$.fragment,l),o=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),o=!1},d(l){l&&d(n),v(e,l),v(t,l)}}}function on(r){let e=Re(r[5],r[6])+"",n;return{c(){n=q(e)},l(t){n=A(t,e)},m(t,o){C(t,n,o)},p(t,o){o[0]&96&&e!==(e=Re(t[5],t[6])+"")&&se(n,e)},d(t){t&&d(n)}}}function ln(r){let e,n;return e=new $e({props:{variant:"ghost",class:"ml-2 text-xl font-medium",$$slots:{default:[on]},$$scope:{ctx:r}}}),e.$on("click",r[28]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&96|o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function rn(r){let e;return{c(){e=q("Click to go to the current week")},l(n){e=A(n,"Click to go to the current week")},m(n,t){C(n,e,t)},d(n){n&&d(e)}}}function sn(r){let e,n,t,o;return e=new ze({props:{$$slots:{default:[ln]},$$scope:{ctx:r}}}),t=new Le({props:{class:"",side:"top",$$slots:{default:[rn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=P(),b(t.$$.fragment)},l(l){k(e.$$.fragment,l),n=O(l),k(t.$$.fragment,l)},m(l,s){w(e,l,s),C(l,n,s),w(t,l,s),o=!0},p(l,s){const a={};s[0]&96|s[1]&67108864&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const f={};s[1]&67108864&&(f.$$scope={dirty:s,ctx:l}),t.$set(f)},i(l){o||(_(e.$$.fragment,l),_(t.$$.fragment,l),o=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),o=!1},d(l){l&&d(n),v(e,l),v(t,l)}}}function fn(r){let e;return{c(){e=q("Employee")},l(n){e=A(n,"Employee")},m(n,t){C(n,e,t)},d(n){n&&d(e)}}}function an(r){let e=r[16].format(r[47].toDate(Te()))+"",n;return{c(){n=q(e)},l(t){n=A(t,e)},m(t,o){C(t,n,o)},p(t,o){o[0]&98304&&e!==(e=t[16].format(t[47].toDate(Te()))+"")&&se(n,e)},d(t){t&&d(n)}}}function Je(r){let e,n;return e=new Ne({props:{class:"border",$$slots:{default:[an]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&98304|o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function un(r){let e,n,t,o;e=new Ne({props:{class:"border",$$slots:{default:[fn]},$$scope:{ctx:r}}});let l=ue(r[15]),s=[];for(let f=0;f<l.length;f+=1)s[f]=Je(Ge(r,l,f));const a=f=>g(s[f],1,1,()=>{s[f]=null});return{c(){b(e.$$.fragment),n=P();for(let f=0;f<s.length;f+=1)s[f].c();t=M()},l(f){k(e.$$.fragment,f),n=O(f);for(let i=0;i<s.length;i+=1)s[i].l(f);t=M()},m(f,i){w(e,f,i),C(f,n,i);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(f,i);C(f,t,i),o=!0},p(f,i){const h={};if(i[1]&67108864&&(h.$$scope={dirty:i,ctx:f}),e.$set(h),i[0]&98304){l=ue(f[15]);let c;for(c=0;c<l.length;c+=1){const $=Ge(f,l,c);s[c]?(s[c].p($,i),_(s[c],1)):(s[c]=Je($),s[c].c(),_(s[c],1),s[c].m(t.parentNode,t))}for(he(),c=l.length;c<s.length;c+=1)a(c);de()}},i(f){if(!o){_(e.$$.fragment,f);for(let i=0;i<l.length;i+=1)_(s[i]);o=!0}},o(f){g(e.$$.fragment,f),s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)g(s[i]);o=!1},d(f){f&&(d(n),d(t)),v(e,f),We(s,f)}}}function cn(r){let e,n;return e=new nt({props:{$$slots:{default:[un]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&98304|o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function $n(r){let e,n;return e=new ot({props:{item:r[44],group:"assignments",variant:"full",hoverEffects:!1,class:"font-medium"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&8192&&(l.item=t[44]),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function _n(r){let e,n;return e=new rt({props:{class:"p-0",contentClass:"p-1.5",cornerOpacity:r[52]==="required"?1:0,cornerSize:"48px",$$slots:{corner:[Dn],default:[Cn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&57344&&(l.cornerOpacity=t[52]==="required"?1:0),o[0]&192512|o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function mn(r){let e,n;return e=new rt({props:{class:"p-0",contentClass:"p-1.5",cornerOpacity:r[52]==="required"?1:0,cornerSize:"48px",$$slots:{corner:[On],default:[Pn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&57344&&(l.cornerOpacity=t[52]==="required"?1:0),o[0]&57344|o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function pn(r){let e;return{c(){e=q('"Hard" assignment')},l(n){e=A(n,'"Hard" assignment')},m(n,t){C(n,e,t)},d(n){n&&d(e)}}}function Ke(r){let e,n=r[44].name+"",t,o,l;function s(i,h){if(i[52]==="required")return hn;if(i[52]==="preferred")return gn}let a=s(r),f=a&&a(r);return{c(){e=B("p"),t=q(n),o=P(),f&&f.c(),l=q(`
                              on this day`),this.h()},l(i){e=H(i,"P",{class:!0});var h=R(e);t=A(h,n),o=O(h),f&&f.l(h),l=A(h,`
                              on this day`),h.forEach(d),this.h()},h(){V(e,"class","text-sm font-normal text-muted-foreground")},m(i,h){C(i,e,h),E(e,t),E(e,o),f&&f.m(e,null),E(e,l)},p(i,h){h[0]&8192&&n!==(n=i[44].name+"")&&se(t,n),a===(a=s(i))&&f?f.p(i,h):(f&&f.d(1),f=a&&a(i),f&&(f.c(),f.m(e,l)))},d(i){i&&d(e),f&&f.d()}}}function gn(r){let e;function n(l,s){if(l[53]==="DAY_OFF")return bn;if(l[51])return dn}let t=n(r),o=t&&t(r);return{c(){o&&o.c(),e=M()},l(l){o&&o.l(l),e=M()},m(l,s){o&&o.m(l,s),C(l,e,s)},p(l,s){t===(t=n(l))&&o?o.p(l,s):(o&&o.d(1),o=t&&t(l),o&&(o.c(),o.m(e.parentNode,e)))},d(l){l&&d(e),o&&o.d(l)}}}function hn(r){let e;function n(l,s){if(l[53]==="DAY_OFF")return wn;if(l[51])return kn}let t=n(r),o=t&&t(r);return{c(){o&&o.c(),e=M()},l(l){o&&o.l(l),e=M()},m(l,s){o&&o.m(l,s),C(l,e,s)},p(l,s){t===(t=n(l))&&o?o.p(l,s):(o&&o.d(1),o=t&&t(l),o&&(o.c(),o.m(e.parentNode,e)))},d(l){l&&d(e),o&&o.d(l)}}}function dn(r){let e,n=r[51].name+"",t,o,l=r[51].name.toLowerCase().endsWith("shift")?"":"Shift",s;return{c(){e=q("would prefer to work "),t=q(n),o=P(),s=q(l)},l(a){e=A(a,"would prefer to work "),t=A(a,n),o=O(a),s=A(a,l)},m(a,f){C(a,e,f),C(a,t,f),C(a,o,f),C(a,s,f)},p(a,f){f[0]&57344&&n!==(n=a[51].name+"")&&se(t,n),f[0]&57344&&l!==(l=a[51].name.toLowerCase().endsWith("shift")?"":"Shift")&&se(s,l)},d(a){a&&(d(e),d(t),d(o),d(s))}}}function bn(r){let e;return{c(){e=q("would prefer to take a day off")},l(n){e=A(n,"would prefer to take a day off")},m(n,t){C(n,e,t)},p:x,d(n){n&&d(e)}}}function kn(r){let e,n=r[51].name+"",t,o,l=r[51].name.toLowerCase().endsWith("shift")?"":"Shift",s;return{c(){e=q("must be assigned to "),t=q(n),o=P(),s=q(l)},l(a){e=A(a,"must be assigned to "),t=A(a,n),o=O(a),s=A(a,l)},m(a,f){C(a,e,f),C(a,t,f),C(a,o,f),C(a,s,f)},p(a,f){f[0]&57344&&n!==(n=a[51].name+"")&&se(t,n),f[0]&57344&&l!==(l=a[51].name.toLowerCase().endsWith("shift")?"":"Shift")&&se(s,l)},d(a){a&&(d(e),d(t),d(o),d(s))}}}function wn(r){let e;return{c(){e=q("cannot work")},l(n){e=A(n,"cannot work")},m(n,t){C(n,e,t)},p:x,d(n){n&&d(e)}}}function vn(r){let e,n,t,o,l,s,a,f,i,h;n=new At({props:{class:"mb-3 mt-0.5"}});function c(...u){return r[38](r[44],r[47],...u)}s=new Tt({props:{id:r[54],checked:r[52]==="required",onCheckedChange:c}}),f=new Vt({props:{for:r[54],class:"font-normal leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",$$slots:{default:[pn]},$$scope:{ctx:r}}});let $=r[52]&&Ke(r);return{c(){e=B("div"),b(n.$$.fragment),t=P(),o=B("div"),l=B("div"),b(s.$$.fragment),a=P(),b(f.$$.fragment),i=P(),$&&$.c(),this.h()},l(u){e=H(u,"DIV",{slot:!0,class:!0});var S=R(e);k(n.$$.fragment,S),t=O(S),o=H(S,"DIV",{class:!0});var I=R(o);l=H(I,"DIV",{class:!0});var N=R(l);k(s.$$.fragment,N),a=O(N),k(f.$$.fragment,N),N.forEach(d),i=O(I),$&&$.l(I),I.forEach(d),S.forEach(d),this.h()},h(){V(l,"class","flex w-full items-center space-x-2"),V(o,"class","flex w-full flex-col gap-2 px-3.5 pb-2"),V(e,"slot","footer"),V(e,"class","w-full")},m(u,S){C(u,e,S),w(n,e,null),E(e,t),E(e,o),E(o,l),w(s,l,null),E(l,a),w(f,l,null),E(o,i),$&&$.m(o,null),h=!0},p(u,S){r=u;const I={};S[0]&40960&&(I.id=r[54]),S[0]&57344&&(I.checked=r[52]==="required"),S[0]&40960&&(I.onCheckedChange=c),s.$set(I);const N={};S[0]&40960&&(N.for=r[54]),S[1]&67108864&&(N.$$scope={dirty:S,ctx:r}),f.$set(N),r[52]?$?$.p(r,S):($=Ke(r),$.c(),$.m(o,null)):$&&($.d(1),$=null)},i(u){h||(_(n.$$.fragment,u),_(s.$$.fragment,u),_(f.$$.fragment,u),h=!0)},o(u){g(n.$$.fragment,u),g(s.$$.fragment,u),g(f.$$.fragment,u),h=!1},d(u){u&&d(e),v(n),v(s),v(f),$&&$.d()}}}function Cn(r){let e,n,t;function o(s){r[39](s,r[54])}let l={value:r[50],closeOnSelect:!1,onSelect:r[20](r[44],r[47]),options:r[23](r[47],r[17]),display:r[21],getId:r[22],class:"h-12 w-full border-0 text-sm font-normal",placeholder:"No Preference",$$slots:{footer:[vn]},$$scope:{ctx:r}};return r[12][r[54]]!==void 0&&(l.open=r[12][r[54]]),e=new Wt({props:l}),ke.push(()=>ve(e,"open",o)),{c(){b(e.$$.fragment)},l(s){k(e.$$.fragment,s)},m(s,a){w(e,s,a),t=!0},p(s,a){r=s;const f={};a[0]&57344&&(f.value=r[50]),a[0]&40960&&(f.onSelect=r[20](r[44],r[47])),a[0]&163840&&(f.options=r[23](r[47],r[17])),a[0]&57344|a[1]&67108864&&(f.$$scope={dirty:a,ctx:r}),!n&&a[0]&45056&&(n=!0,f.open=r[12][r[54]],we(()=>n=!1)),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function Dn(r){let e,n;return e=new lt({props:{slot:"corner",class:"pb-0.5 pl-1 pr-0.5 pt-1 text-background"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p:x,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Sn(r){let e,n,t,o;return e=new ot({props:{item:r[21](r[50]),variant:"full",class:"h-12 w-full text-sm font-normal",hoverEffects:!1,showTooltip:!1}}),t=new Mt({props:{size:20,class:"text-muted-foreground transition-all group-hover:text-primary"}}),{c(){b(e.$$.fragment),n=P(),b(t.$$.fragment)},l(l){k(e.$$.fragment,l),n=O(l),k(t.$$.fragment,l)},m(l,s){w(e,l,s),C(l,n,s),w(t,l,s),o=!0},p(l,s){const a={};s[0]&57344&&(a.item=l[21](l[50])),e.$set(a)},i(l){o||(_(e.$$.fragment,l),_(t.$$.fragment,l),o=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),o=!1},d(l){l&&d(n),v(e,l),v(t,l)}}}function Pn(r){let e,n;function t(){return r[37](r[50])}return e=new $e({props:{class:"group h-12 w-full justify-between px-2 text-sm font-normal",variant:"ghost",$$slots:{default:[Sn]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){b(e.$$.fragment)},l(o){k(e.$$.fragment,o)},m(o,l){w(e,o,l),n=!0},p(o,l){r=o;const s={};l[0]&57344|l[1]&67108864&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){v(e,o)}}}function On(r){let e,n;return e=new lt({props:{slot:"corner",class:"pb-0.5 pl-1 pr-0.5 pt-1 text-background"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p:x,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Nn(r){Ue(r);let e,n,t,o;const l=[mn,_n],s=[];function a(i,h){return i[50]&&i[50].source instanceof Ve?0:1}function f(i,h){return h===1?Jt(i):i}return e=a(r),n=s[e]=l[e](f(r,e)),{c(){n.c(),t=M()},l(i){n.l(i),t=M()},m(i,h){s[e].m(i,h),C(i,t,h),o=!0},p(i,h){Ue(i);let c=e;e=a(i),e===c?s[e].p(f(i,e),h):(he(),g(s[c],1,1,()=>{s[c]=null}),de(),n=s[e],n?n.p(f(i,e),h):(n=s[e]=l[e](f(i,e)),n.c()),_(n,1),n.m(t.parentNode,t))},i(i){o||(_(n),o=!0)},o(i){g(n),o=!1},d(i){i&&d(t),s[e].d(i)}}}function Qe(r){let e,n;return e=new Ne({props:{class:"border p-0",$$slots:{default:[Nn]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&192512|o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Xe(r){let e=r[14],n,t,o=Qe(r);return{c(){o.c(),n=M()},l(l){o.l(l),n=M()},m(l,s){o.m(l,s),C(l,n,s),t=!0},p(l,s){s[0]&16384&&ce(e,e=l[14])?(he(),g(o,1,1,x),de(),o=Qe(l),o.c(),_(o,1),o.m(n.parentNode,n)):o.p(l,s)},i(l){t||(_(o),t=!0)},o(l){g(o),t=!1},d(l){l&&d(n),o.d(l)}}}function En(r){let e,n,t,o;e=new Ne({props:{class:"border p-0",$$slots:{default:[$n]},$$scope:{ctx:r}}});let l=ue(r[15]),s=[];for(let f=0;f<l.length;f+=1)s[f]=Xe(Ye(r,l,f));const a=f=>g(s[f],1,1,()=>{s[f]=null});return{c(){b(e.$$.fragment),n=P();for(let f=0;f<s.length;f+=1)s[f].c();t=P()},l(f){k(e.$$.fragment,f),n=O(f);for(let i=0;i<s.length;i+=1)s[i].l(f);t=O(f)},m(f,i){w(e,f,i),C(f,n,i);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(f,i);C(f,t,i),o=!0},p(f,i){const h={};if(i[0]&8192|i[1]&67108864&&(h.$$scope={dirty:i,ctx:f}),e.$set(h),i[0]&32960512){l=ue(f[15]);let c;for(c=0;c<l.length;c+=1){const $=Ye(f,l,c);s[c]?(s[c].p($,i),_(s[c],1)):(s[c]=Xe($),s[c].c(),_(s[c],1),s[c].m(t.parentNode,t))}for(he(),c=l.length;c<s.length;c+=1)a(c);de()}},i(f){if(!o){_(e.$$.fragment,f);for(let i=0;i<l.length;i+=1)_(s[i]);o=!0}},o(f){g(e.$$.fragment,f),s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)g(s[i]);o=!1},d(f){f&&(d(n),d(t)),v(e,f),We(s,f)}}}function Ze(r){let e,n;return e=new nt({props:{$$slots:{default:[En]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&192512|o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function In(r){let e,n,t=ue(r[13]),o=[];for(let s=0;s<t.length;s+=1)o[s]=Ze(Me(r,t,s));const l=s=>g(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=M()},l(s){for(let a=0;a<o.length;a+=1)o[a].l(s);e=M()},m(s,a){for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(s,a);C(s,e,a),n=!0},p(s,a){if(a[0]&32960512){t=ue(s[13]);let f;for(f=0;f<t.length;f+=1){const i=Me(s,t,f);o[f]?(o[f].p(i,a),_(o[f],1)):(o[f]=Ze(i),o[f].c(),_(o[f],1),o[f].m(e.parentNode,e))}for(he(),f=t.length;f<o.length;f+=1)l(f);de()}},i(s){if(!n){for(let a=0;a<t.length;a+=1)_(o[a]);n=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)g(o[a]);n=!1},d(s){s&&d(e),We(o,s)}}}function qn(r){let e,n,t,o;return e=new Nt({props:{class:"font-semibold text-muted-foreground",$$slots:{default:[cn]},$$scope:{ctx:r}}}),t=new Et({props:{$$slots:{default:[In]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=P(),b(t.$$.fragment)},l(l){k(e.$$.fragment,l),n=O(l),k(t.$$.fragment,l)},m(l,s){w(e,l,s),C(l,n,s),w(t,l,s),o=!0},p(l,s){const a={};s[0]&98304|s[1]&67108864&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const f={};s[0]&192512|s[1]&67108864&&(f.$$scope={dirty:s,ctx:l}),t.$set(f)},i(l){o||(_(e.$$.fragment,l),_(t.$$.fragment,l),o=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),o=!1},d(l){l&&d(n),v(e,l),v(t,l)}}}function An(r){let e,n,t;return e=new zt({}),{c(){b(e.$$.fragment),n=q(" Delete Pattern")},l(o){k(e.$$.fragment,o),n=A(o," Delete Pattern")},m(o,l){w(e,o,l),C(o,n,l),t=!0},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){o&&d(n),v(e,o)}}}function Tn(r){let e,n;return e=new $e({props:{class:"mx-2 "+(r[8]&&"hidden"),variant:"destructive",slot:"actions",$$slots:{default:[An]},$$scope:{ctx:r}}}),e.$on("click",r[40]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){w(e,t,o),n=!0},p(t,o){const l={};o[0]&256&&(l.class="mx-2 "+(t[8]&&"hidden")),o[1]&67108864&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Vn(r){let e,n,t,o,l,s,a,f,i,h,c,$,u,S,I,N,W,U,z,Q,X,F,fe,G;o=new $e({props:{size:"lg",variant:"ghost",class:"p-4 text-base text-muted-foreground",$$slots:{default:[Kt]},$$scope:{ctx:r}}}),o.$on("click",r[25]),a=new Ae({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[yt]},$$scope:{ctx:r}}}),i=new Ae({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[nn]},$$scope:{ctx:r}}}),c=new Ae({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[sn]},$$scope:{ctx:r}}});function j(m){r[36](m)}let ee={};r[4]!==void 0&&(ee.value=r[4]),S=new Ct({props:ee}),ke.push(()=>ve(S,"value",j)),W=new Dt({props:{class:"w-full",$$slots:{default:[qn]},$$scope:{ctx:r}}});function _e(m){r[41](m)}let te={state:r[0],selected:r[7],title:r[11],onSubmit:Wn,$$slots:{actions:[Tn]},$$scope:{ctx:r}};r[10]!==void 0&&(te.open=r[10]),z=new St({props:te}),ke.push(()=>ve(z,"open",_e));function Z(m){r[43](m)}let ae={state:r[0],selected:r[7],onDelete:r[42]};return r[9]!==void 0&&(ae.open=r[9]),F=new Pt({props:ae}),ke.push(()=>ve(F,"open",Z)),{c(){e=B("div"),n=B("div"),t=B("div"),b(o.$$.fragment),l=P(),s=B("div"),b(a.$$.fragment),f=P(),b(i.$$.fragment),h=P(),b(c.$$.fragment),$=P(),u=B("div"),b(S.$$.fragment),N=P(),b(W.$$.fragment),U=P(),b(z.$$.fragment),X=P(),b(F.$$.fragment),this.h()},l(m){e=H(m,"DIV",{class:!0});var D=R(e);n=H(D,"DIV",{class:!0});var L=R(n);t=H(L,"DIV",{});var ne=R(t);k(o.$$.fragment,ne),ne.forEach(d),l=O(L),s=H(L,"DIV",{class:!0});var Y=R(s);k(a.$$.fragment,Y),f=O(Y),k(i.$$.fragment,Y),h=O(Y),k(c.$$.fragment,Y),Y.forEach(d),$=O(L),u=H(L,"DIV",{});var oe=R(u);k(S.$$.fragment,oe),oe.forEach(d),L.forEach(d),N=O(D),k(W.$$.fragment,D),D.forEach(d),U=O(m),k(z.$$.fragment,m),X=O(m),k(F.$$.fragment,m),this.h()},h(){V(s,"class","flex w-[30%] flex-row items-center"),V(n,"class","flex h-20 w-full flex-row items-center justify-between bg-secondary p-4"),V(e,"class",r[3])},m(m,D){C(m,e,D),E(e,n),E(n,t),w(o,t,null),E(n,l),E(n,s),w(a,s,null),E(s,f),w(i,s,null),E(s,h),w(c,s,null),E(n,$),E(n,u),w(S,u,null),E(e,N),w(W,e,null),C(m,U,D),w(z,m,D),C(m,X,D),w(F,m,D),G=!0},p(m,D){const L={};D[1]&67108864&&(L.$$scope={dirty:D,ctx:m}),o.$set(L);const ne={};D[1]&67108864&&(ne.$$scope={dirty:D,ctx:m}),a.$set(ne);const Y={};D[1]&67108864&&(Y.$$scope={dirty:D,ctx:m}),i.$set(Y);const oe={};D[0]&96|D[1]&67108864&&(oe.$$scope={dirty:D,ctx:m}),c.$set(oe);const be={};!I&&D[0]&16&&(I=!0,be.value=m[4],we(()=>I=!1)),S.$set(be);const me={};D[0]&258048|D[1]&67108864&&(me.$$scope={dirty:D,ctx:m}),W.$set(me),(!G||D[0]&8)&&V(e,"class",m[3]);const y={};D[0]&1&&(y.state=m[0]),D[0]&128&&(y.selected=m[7]),D[0]&2048&&(y.title=m[11]),D[0]&768|D[1]&67108864&&(y.$$scope={dirty:D,ctx:m}),!Q&&D[0]&1024&&(Q=!0,y.open=m[10],we(()=>Q=!1)),z.$set(y);const le={};D[0]&1&&(le.state=m[0]),D[0]&128&&(le.selected=m[7]),D[0]&1152&&(le.onDelete=m[42]),!fe&&D[0]&512&&(fe=!0,le.open=m[9],we(()=>fe=!1)),F.$set(le)},i(m){G||(_(o.$$.fragment,m),_(a.$$.fragment,m),_(i.$$.fragment,m),_(c.$$.fragment,m),_(S.$$.fragment,m),_(W.$$.fragment,m),_(z.$$.fragment,m),_(F.$$.fragment,m),G=!0)},o(m){g(o.$$.fragment,m),g(a.$$.fragment,m),g(i.$$.fragment,m),g(c.$$.fragment,m),g(S.$$.fragment,m),g(W.$$.fragment,m),g(z.$$.fragment,m),g(F.$$.fragment,m),G=!1},d(m){m&&(d(e),d(U),d(X)),v(o),v(a),v(i),v(c),v(S),v(W),v(z,m),v(F,m)}}}const Wn=()=>{};function zn(r,e,n){let t,o,l,s,a,f,i=x,h=()=>(i(),i=Be(W,p=>n(33,f=p)),W),c,$,u,S=x,I=()=>(S(),S=Be(U,p=>n(17,u=p)),U);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>S());let{state:N=tt}=e,{people:W=N.people}=e;h();let{shifts:U=N.shifts}=e;I();let{start:z=qe(ht(Te()))}=e,{days:Q=7}=e,{options:X={}}=e,{locale:F=Array.from(navigator.languages)||"en"}=e,{class:fe=""}=e,G="",j=z,ee,_e=!1,te=!1,Z=!1,ae="";const m=N.assignments;Fe(r,m,p=>n(35,$=p));const D=N.assignmentPatterns;Fe(r,D,p=>n(34,c=p));const L={};function ne(p,J){return re=>{m.update(K=>(re?K.put(p,J,re):K.delete(p,J),K))}}function Y(p){if(p)return p.shift?Ie(N._shifts).get(He(p.shift))??{name:"Unknown Shift"}:{name:"Day Off",icon:kt.fromString("lucide:calendar-off","#9a3412")}}function oe(p){return p.shift?He(p.shift):p.type}function be(p,J){const re=[vt()];for(const K of J)K.occursOn(p)&&re.push({type:"SHIFT",shift:K,preference:"preferred"});return re}function me(p){p&&p.source instanceof Ve&&(n(7,ee=p.source),n(11,ae="Edit Assignment Pattern"),n(8,_e=!1),n(10,Z=!0))}function y(){n(7,ee=new Ve({pattern:wt.daily({startDate:j,endDate:o}),person:Ie(W)[0],params:{preference:"preferred",type:"SHIFT",shift:Ie(U)[0]}},N)),n(8,_e=!0),n(11,ae="New Assignment Pattern"),n(10,Z=!0)}function le(){n(5,j=qe(j).add({weeks:1}))}function st(){n(5,j=qe(j).add({weeks:-1}))}function ft(){n(5,j=z)}function at(p){G=p,n(4,G)}const it=p=>me(p),ut=(p,J,re)=>{m.update(K=>{const Ee=K.get(p,J);return Ee&&(Ee.preference=re?"required":"preferred",K.put(p,J,Ee)),K})};function ct(p,J){r.$$.not_equal(L[J],p)&&(L[J]=p,n(12,L))}const $t=()=>{n(9,te=!0)};function _t(p){Z=p,n(10,Z)}const mt=()=>{n(10,Z=!1),n(7,ee=void 0)};function pt(p){te=p,n(9,te)}return r.$$set=p=>{"state"in p&&n(0,N=p.state),"people"in p&&h(n(1,W=p.people)),"shifts"in p&&I(n(2,U=p.shifts)),"start"in p&&n(29,z=p.start),"days"in p&&n(30,Q=p.days),"options"in p&&n(31,X=p.options),"locale"in p&&n(32,F=p.locale),"class"in p&&n(3,fe=p.class)},r.$$.update=()=>{r.$$.dirty[1]&3&&n(16,t=new Intl.DateTimeFormat(F,{weekday:"long",day:"numeric",...X})),r.$$.dirty[0]&1073741856&&n(6,o=j.add({days:Q})),r.$$.dirty[0]&1073741856&&n(15,l=dt(Q).map(p=>j.add({days:p}))),r.$$.dirty[0]&96|r.$$.dirty[1]&24&&n(14,s=bt($,c,j,o)),r.$$.dirty[0]&16|r.$$.dirty[1]&4&&n(13,a=f.filter(p=>p.name.toLowerCase().includes(G.toLowerCase())))},[N,W,U,fe,G,j,o,ee,_e,te,Z,ae,L,a,s,l,t,u,m,D,ne,Y,oe,be,me,y,le,st,ft,z,Q,X,F,f,c,$,at,it,ut,ct,$t,_t,mt,pt]}class Ln extends pe{constructor(e){super(),ge(this,e,zn,Vn,ce,{state:0,people:1,shifts:2,start:29,days:30,options:31,locale:32,class:3},null,[-1,-1])}}function Fn(r){let e,n,t;return n=new Ln({props:{state:tt,class:"h-full w-full rounded-md border shadow-md"}}),{c(){e=B("main"),b(n.$$.fragment),this.h()},l(o){e=H(o,"MAIN",{class:!0});var l=R(e);k(n.$$.fragment,l),l.forEach(d),this.h()},h(){V(e,"class","h-full w-full")},m(o,l){C(o,e,l),w(n,e,null),t=!0},p:x,i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){g(n.$$.fragment,o),t=!1},d(o){o&&d(e),v(n)}}}class Gn extends pe{constructor(e){super(),ge(this,e,null,Fn,ce,{})}}export{Gn as component};
