import{s as ge,o as $e,p as ve,q as Qe,u as Xe,r as Ye,v as Ze,w as De,e as G,a as A,c as J,b as K,f as w,g as I,m as ee,i as v,h as R,x as Pe,k as Ae,t as F,d as H,n as ie,C as Ie,B as fe,z as Q,A as pe,j as Ve}from"../chunks/scheduler.DpdggcV9.js";import{S as he,i as de,c as g,a as p,m as h,t as $,b as m,d,e as Se,g as re,f as le}from"../chunks/index.KweK3yxl.js";import{I as ye,g as xe,a as et,B as Y,k as ue,l as tt,$ as me,r as nt,m as st,s as je,n as Te,o as rt,A as _e,R as lt,e as X,p as ot,q as Ee}from"../chunks/stores.46i-7iAH.js";import{k as ce,S as at,l as ft,E as ut,i as ct,m as be,n as we,o as $t,p as it,q as qe,r as mt,s as _t,t as oe,a as Fe}from"../chunks/edit-dialog.28xWh_of.js";import{C as gt}from"../chunks/combobox.uVrUDqVU.js";import{T as pt}from"../chunks/trash.BsBx8EA0.js";function ht(o){let e;const n=o[2].default,t=Qe(n,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,r){t&&t.m(s,r),e=!0},p(s,r){t&&t.p&&(!e||r&8)&&Xe(t,n,s,s[3],e?Ze(n,s[3],r,null):Ye(s[3]),null)},i(s){e||($(t,s),e=!0)},o(s){m(t,s),e=!1},d(s){t&&t.d(s)}}}function dt(o){let e,n;const t=[{name:"repeat"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[ht]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)s=$e(s,t[r]);return e=new ye({props:s}),{c(){g(e.$$.fragment)},l(r){p(e.$$.fragment,r)},m(r,l){h(e,r,l),n=!0},p(r,[l]){const u=l&3?xe(t,[t[0],l&2&&et(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){m(e.$$.fragment,r),n=!1},d(r){d(e,r)}}}function bt(o,e,n){let{$$slots:t={},$$scope:s}=e;const r=[["path",{d:"m17 2 4 4-4 4"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14"}],["path",{d:"m7 22-4-4 4-4"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3"}]];return o.$$set=l=>{n(1,e=$e($e({},e),ve(l))),"$$scope"in l&&n(3,s=l.$$scope)},e=ve(e),[r,e,t,s]}class wt extends he{constructor(e){super(),de(this,e,bt,dt,ge,{})}}function Ne(o,e,n){const t=o.slice();return t[36]=e[n],t}function Ce(o,e,n){const t=o.slice();return t[39]=e[n],t}function Oe(o){var n;const e=(n=o[11].get(o[36]))==null?void 0:n.get(o[39]);o[42]=e}function We(o,e,n){const t=o.slice();return t[39]=e[n],t}function kt(o){let e,n,t;return e=new ct({}),{c(){g(e.$$.fragment),n=F(`
        Add Pattern`)},l(s){p(e.$$.fragment,s),n=H(s,`
        Add Pattern`)},m(s,r){h(e,s,r),v(s,n,r),t=!0},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){m(e.$$.fragment,s),t=!1},d(s){s&&w(n),d(e,s)}}}function vt(o){let e,n;return e=new mt({}),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Dt(o){let e,n;return e=new Y({props:{class:"text-muted-foreground",size:"icon",variant:"ghost",$$slots:{default:[vt]},$$scope:{ctx:o}}}),e.$on("click",o[24]),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[1]&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Pt(o){let e;return{c(){e=F("Previous Week")},l(n){e=H(n,"Previous Week")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function At(o){let e,n,t,s;return e=new be({props:{$$slots:{default:[Dt]},$$scope:{ctx:o}}}),t=new we({props:{class:"",side:"top",$$slots:{default:[Pt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment),n=A(),g(t.$$.fragment)},l(r){p(e.$$.fragment,r),n=I(r),p(t.$$.fragment,r)},m(r,l){h(e,r,l),v(r,n,l),h(t,r,l),s=!0},p(r,l){const u={};l[1]&16384&&(u.$$scope={dirty:l,ctx:r}),e.$set(u);const a={};l[1]&16384&&(a.$$scope={dirty:l,ctx:r}),t.$set(a)},i(r){s||($(e.$$.fragment,r),$(t.$$.fragment,r),s=!0)},o(r){m(e.$$.fragment,r),m(t.$$.fragment,r),s=!1},d(r){r&&w(n),d(e,r),d(t,r)}}}function It(o){let e,n;return e=new _t({}),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function St(o){let e,n;return e=new Y({props:{class:"text-muted-foreground",size:"icon",variant:"ghost",$$slots:{default:[It]},$$scope:{ctx:o}}}),e.$on("click",o[23]),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[1]&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Tt(o){let e;return{c(){e=F("Next Week")},l(n){e=H(n,"Next Week")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Et(o){let e,n,t,s;return e=new be({props:{$$slots:{default:[St]},$$scope:{ctx:o}}}),t=new we({props:{class:"",side:"top",$$slots:{default:[Tt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment),n=A(),g(t.$$.fragment)},l(r){p(e.$$.fragment,r),n=I(r),p(t.$$.fragment,r)},m(r,l){h(e,r,l),v(r,n,l),h(t,r,l),s=!0},p(r,l){const u={};l[1]&16384&&(u.$$scope={dirty:l,ctx:r}),e.$set(u);const a={};l[1]&16384&&(a.$$scope={dirty:l,ctx:r}),t.$set(a)},i(r){s||($(e.$$.fragment,r),$(t.$$.fragment,r),s=!0)},o(r){m(e.$$.fragment,r),m(t.$$.fragment,r),s=!1},d(r){r&&w(n),d(e,r),d(t,r)}}}function Nt(o){let e=Ee(o[3],o[6])+"",n;return{c(){n=F(e)},l(t){n=H(t,e)},m(t,s){v(t,n,s)},p(t,s){s[0]&72&&e!==(e=Ee(t[3],t[6])+"")&&Ve(n,e)},d(t){t&&w(n)}}}function Ct(o){let e,n;return e=new Y({props:{variant:"ghost",class:"ml-2 text-xl font-medium",$$slots:{default:[Nt]},$$scope:{ctx:o}}}),e.$on("click",o[25]),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[0]&72|s[1]&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Ot(o){let e;return{c(){e=F("Click to go to the current week")},l(n){e=H(n,"Click to go to the current week")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Wt(o){let e,n,t,s;return e=new be({props:{$$slots:{default:[Ct]},$$scope:{ctx:o}}}),t=new we({props:{class:"",side:"top",$$slots:{default:[Ot]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment),n=A(),g(t.$$.fragment)},l(r){p(e.$$.fragment,r),n=I(r),p(t.$$.fragment,r)},m(r,l){h(e,r,l),v(r,n,l),h(t,r,l),s=!0},p(r,l){const u={};l[0]&72|l[1]&16384&&(u.$$scope={dirty:l,ctx:r}),e.$set(u);const a={};l[1]&16384&&(a.$$scope={dirty:l,ctx:r}),t.$set(a)},i(r){s||($(e.$$.fragment,r),$(t.$$.fragment,r),s=!0)},o(r){m(e.$$.fragment,r),m(t.$$.fragment,r),s=!1},d(r){r&&w(n),d(e,r),d(t,r)}}}function Bt(o){let e;return{c(){e=F("Employee")},l(n){e=H(n,"Employee")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function zt(o){let e=o[13].format(o[39].toDate(me()))+"",n;return{c(){n=F(e)},l(t){n=H(t,e)},m(t,s){v(t,n,s)},p(t,s){s[0]&12288&&e!==(e=t[13].format(t[39].toDate(me()))+"")&&Ve(n,e)},d(t){t&&w(n)}}}function Be(o){let e,n;return e=new oe({props:{$$slots:{default:[zt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[0]&12288|s[1]&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Rt(o){let e,n,t,s;e=new oe({props:{$$slots:{default:[Bt]},$$scope:{ctx:o}}});let r=X(o[12]),l=[];for(let a=0;a<r.length;a+=1)l[a]=Be(We(o,r,a));const u=a=>m(l[a],1,1,()=>{l[a]=null});return{c(){g(e.$$.fragment),n=A();for(let a=0;a<l.length;a+=1)l[a].c();t=Q()},l(a){p(e.$$.fragment,a),n=I(a);for(let f=0;f<l.length;f+=1)l[f].l(a);t=Q()},m(a,f){h(e,a,f),v(a,n,f);for(let k=0;k<l.length;k+=1)l[k]&&l[k].m(a,f);v(a,t,f),s=!0},p(a,f){const k={};if(f[1]&16384&&(k.$$scope={dirty:f,ctx:a}),e.$set(k),f[0]&12288){r=X(a[12]);let _;for(_=0;_<r.length;_+=1){const S=We(a,r,_);l[_]?(l[_].p(S,f),$(l[_],1)):(l[_]=Be(S),l[_].c(),$(l[_],1),l[_].m(t.parentNode,t))}for(re(),_=r.length;_<l.length;_+=1)u(_);le()}},i(a){if(!s){$(e.$$.fragment,a);for(let f=0;f<r.length;f+=1)$(l[f]);s=!0}},o(a){m(e.$$.fragment,a),l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)m(l[f]);s=!1},d(a){a&&(w(n),w(t)),d(e,a),pe(l,a)}}}function Vt(o){let e,n;return e=new qe({props:{$$slots:{default:[Rt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[0]&12288|s[1]&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function jt(o){let e,n;return e=new Fe({props:{item:o[36],group:"assignments",variant:"full",hoverEffects:!1,class:"font-medium"}}),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[0]&1024&&(r.item=t[36]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function qt(o){let e,n;return e=new gt({props:{value:o[42],onSelect:o[17](o[36],o[39]),options:o[20](o[39],o[14]),display:o[18],getId:o[19],class:"h-12 w-full p-1 text-sm font-normal",placeholder:"Not Assigned"}}),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[0]&7168&&(r.value=t[42]),s[0]&5120&&(r.onSelect=t[17](t[36],t[39])),s[0]&20480&&(r.options=t[20](t[39],t[14])),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Ft(o){let e,n;function t(){return o[34](o[42])}return e=new Y({props:{class:"group h-12 w-full justify-around p-2 text-sm font-normal",variant:"ghost",$$slots:{default:[Ht]},$$scope:{ctx:o}}}),e.$on("click",t),{c(){g(e.$$.fragment)},l(s){p(e.$$.fragment,s)},m(s,r){h(e,s,r),n=!0},p(s,r){o=s;const l={};r[0]&7168|r[1]&16384&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){d(e,s)}}}function Ht(o){let e,n,t,s;return e=new Fe({props:{item:o[18](o[42]),variant:"full",class:"h-12 w-full max-w-24 text-sm font-normal",hoverEffects:!1,showTooltip:!1}}),t=new wt({props:{size:20,class:"text-muted-foreground transition-all group-hover:text-primary"}}),{c(){g(e.$$.fragment),n=A(),g(t.$$.fragment)},l(r){p(e.$$.fragment,r),n=I(r),p(t.$$.fragment,r)},m(r,l){h(e,r,l),v(r,n,l),h(t,r,l),s=!0},p(r,l){const u={};l[0]&7168&&(u.item=r[18](r[42])),e.$set(u)},i(r){s||($(e.$$.fragment,r),$(t.$$.fragment,r),s=!0)},o(r){m(e.$$.fragment,r),m(t.$$.fragment,r),s=!1},d(r){r&&w(n),d(e,r),d(t,r)}}}function Mt(o){Oe(o);let e,n,t,s;const r=[Ft,qt],l=[];function u(a,f){return a[42]&&a[42].source instanceof _e?0:1}return e=u(o),n=l[e]=r[e](o),{c(){n.c(),t=Q()},l(a){n.l(a),t=Q()},m(a,f){l[e].m(a,f),v(a,t,f),s=!0},p(a,f){Oe(a);let k=e;e=u(a),e===k?l[e].p(a,f):(re(),m(l[k],1,1,()=>{l[k]=null}),le(),n=l[e],n?n.p(a,f):(n=l[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){s||($(n),s=!0)},o(a){m(n),s=!1},d(a){a&&w(t),l[e].d(a)}}}function ze(o){let e,n;return e=new oe({props:{$$slots:{default:[Mt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[0]&23552|s[1]&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Lt(o){let e,n,t,s;e=new oe({props:{$$slots:{default:[jt]},$$scope:{ctx:o}}});let r=X(o[12]),l=[];for(let a=0;a<r.length;a+=1)l[a]=ze(Ce(o,r,a));const u=a=>m(l[a],1,1,()=>{l[a]=null});return{c(){g(e.$$.fragment),n=A();for(let a=0;a<l.length;a+=1)l[a].c();t=A()},l(a){p(e.$$.fragment,a),n=I(a);for(let f=0;f<l.length;f+=1)l[f].l(a);t=I(a)},m(a,f){h(e,a,f),v(a,n,f);for(let k=0;k<l.length;k+=1)l[k]&&l[k].m(a,f);v(a,t,f),s=!0},p(a,f){const k={};if(f[0]&1024|f[1]&16384&&(k.$$scope={dirty:f,ctx:a}),e.$set(k),f[0]&4086784){r=X(a[12]);let _;for(_=0;_<r.length;_+=1){const S=Ce(a,r,_);l[_]?(l[_].p(S,f),$(l[_],1)):(l[_]=ze(S),l[_].c(),$(l[_],1),l[_].m(t.parentNode,t))}for(re(),_=r.length;_<l.length;_+=1)u(_);le()}},i(a){if(!s){$(e.$$.fragment,a);for(let f=0;f<r.length;f+=1)$(l[f]);s=!0}},o(a){m(e.$$.fragment,a),l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)m(l[f]);s=!1},d(a){a&&(w(n),w(t)),d(e,a),pe(l,a)}}}function Re(o){let e,n;return e=new qe({props:{$$slots:{default:[Lt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[0]&23552|s[1]&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Ut(o){let e,n,t=X(o[10]),s=[];for(let l=0;l<t.length;l+=1)s[l]=Re(Ne(o,t,l));const r=l=>m(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Q()},l(l){for(let u=0;u<s.length;u+=1)s[u].l(l);e=Q()},m(l,u){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,u);v(l,e,u),n=!0},p(l,u){if(u[0]&4086784){t=X(l[10]);let a;for(a=0;a<t.length;a+=1){const f=Ne(l,t,a);s[a]?(s[a].p(f,u),$(s[a],1)):(s[a]=Re(f),s[a].c(),$(s[a],1),s[a].m(e.parentNode,e))}for(re(),a=t.length;a<s.length;a+=1)r(a);le()}},i(l){if(!n){for(let u=0;u<t.length;u+=1)$(s[u]);n=!0}},o(l){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)m(s[u]);n=!1},d(l){l&&w(e),pe(s,l)}}}function Gt(o){let e,n,t,s;return e=new $t({props:{class:"font-semibold text-muted-foreground",$$slots:{default:[Vt]},$$scope:{ctx:o}}}),t=new it({props:{$$slots:{default:[Ut]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment),n=A(),g(t.$$.fragment)},l(r){p(e.$$.fragment,r),n=I(r),p(t.$$.fragment,r)},m(r,l){h(e,r,l),v(r,n,l),h(t,r,l),s=!0},p(r,l){const u={};l[0]&12288|l[1]&16384&&(u.$$scope={dirty:l,ctx:r}),e.$set(u);const a={};l[0]&23552|l[1]&16384&&(a.$$scope={dirty:l,ctx:r}),t.$set(a)},i(r){s||($(e.$$.fragment,r),$(t.$$.fragment,r),s=!0)},o(r){m(e.$$.fragment,r),m(t.$$.fragment,r),s=!1},d(r){r&&w(n),d(e,r),d(t,r)}}}function Jt(o){let e,n,t;return e=new pt({}),{c(){g(e.$$.fragment),n=F(" Delete Pattern")},l(s){p(e.$$.fragment,s),n=H(s," Delete Pattern")},m(s,r){h(e,s,r),v(s,n,r),t=!0},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){m(e.$$.fragment,s),t=!1},d(s){s&&w(n),d(e,s)}}}function Kt(o){let e,n;return e=new Y({props:{class:"mx-2",variant:"destructive",slot:"actions",$$slots:{default:[Jt]},$$scope:{ctx:o}}}),e.$on("click",Xt),{c(){g(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const r={};s[1]&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Qt(o){let e,n,t,s,r,l,u,a,f,k,_,S,V,T,L,C,D,W,P,j,B;s=new Y({props:{size:"lg",variant:"ghost",class:"p-4 text-base text-muted-foreground",$$slots:{default:[kt]},$$scope:{ctx:o}}}),s.$on("click",o[22]),u=new ce({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[At]},$$scope:{ctx:o}}}),f=new ce({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[Et]},$$scope:{ctx:o}}}),_=new ce({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[Wt]},$$scope:{ctx:o}}});function Z(i){o[33](i)}let y={};o[5]!==void 0&&(y.value=o[5]),T=new at({props:y}),De.push(()=>Se(T,"value",Z)),D=new ft({props:{class:"w-full",$$slots:{default:[Gt]},$$scope:{ctx:o}}});function U(i){o[35](i)}let E={state:o[0],selected:o[7],title:o[9],$$slots:{actions:[Kt]},$$scope:{ctx:o}};return o[8]!==void 0&&(E.open=o[8]),P=new ut({props:E}),De.push(()=>Se(P,"open",U)),{c(){e=G("div"),n=G("div"),t=G("div"),g(s.$$.fragment),r=A(),l=G("div"),g(u.$$.fragment),a=A(),g(f.$$.fragment),k=A(),g(_.$$.fragment),S=A(),V=G("div"),g(T.$$.fragment),C=A(),g(D.$$.fragment),W=A(),g(P.$$.fragment),this.h()},l(i){e=J(i,"DIV",{class:!0});var b=K(e);n=J(b,"DIV",{class:!0});var N=K(n);t=J(N,"DIV",{});var z=K(t);p(s.$$.fragment,z),z.forEach(w),r=I(N),l=J(N,"DIV",{class:!0});var O=K(l);p(u.$$.fragment,O),a=I(O),p(f.$$.fragment,O),k=I(O),p(_.$$.fragment,O),O.forEach(w),S=I(N),V=J(N,"DIV",{});var M=K(V);p(T.$$.fragment,M),M.forEach(w),N.forEach(w),C=I(b),p(D.$$.fragment,b),b.forEach(w),W=I(i),p(P.$$.fragment,i),this.h()},h(){ee(l,"class","flex w-[30%] flex-row items-center"),ee(n,"class","flex h-20 w-full flex-row items-center justify-between bg-secondary p-4"),ee(e,"class",o[4])},m(i,b){v(i,e,b),R(e,n),R(n,t),h(s,t,null),R(n,r),R(n,l),h(u,l,null),R(l,a),h(f,l,null),R(l,k),h(_,l,null),R(n,S),R(n,V),h(T,V,null),R(e,C),h(D,e,null),v(i,W,b),h(P,i,b),B=!0},p(i,b){const N={};b[1]&16384&&(N.$$scope={dirty:b,ctx:i}),s.$set(N);const z={};b[1]&16384&&(z.$$scope={dirty:b,ctx:i}),u.$set(z);const O={};b[1]&16384&&(O.$$scope={dirty:b,ctx:i}),f.$set(O);const M={};b[0]&72|b[1]&16384&&(M.$$scope={dirty:b,ctx:i}),_.$set(M);const te={};!L&&b[0]&32&&(L=!0,te.value=i[5],Pe(()=>L=!1)),T.$set(te);const ne={};b[0]&31744|b[1]&16384&&(ne.$$scope={dirty:b,ctx:i}),D.$set(ne),(!B||b[0]&16)&&ee(e,"class",i[4]);const q={};b[0]&1&&(q.state=i[0]),b[0]&128&&(q.selected=i[7]),b[0]&512&&(q.title=i[9]),b[1]&16384&&(q.$$scope={dirty:b,ctx:i}),!j&&b[0]&256&&(j=!0,q.open=i[8],Pe(()=>j=!1)),P.$set(q)},i(i){B||($(s.$$.fragment,i),$(u.$$.fragment,i),$(f.$$.fragment,i),$(_.$$.fragment,i),$(T.$$.fragment,i),$(D.$$.fragment,i),$(P.$$.fragment,i),B=!0)},o(i){m(s.$$.fragment,i),m(u.$$.fragment,i),m(f.$$.fragment,i),m(_.$$.fragment,i),m(T.$$.fragment,i),m(D.$$.fragment,i),m(P.$$.fragment,i),B=!1},d(i){i&&(w(e),w(W)),d(s),d(u),d(f),d(_),d(T),d(D),d(P,i)}}}const Xt=()=>{};function Yt(o,e,n){let t,s,r,l,u,a,f=ie,k=()=>(f(),f=Ie(D,c=>n(30,a=c)),D),_,S,V,T=ie,L=()=>(T(),T=Ie(W,c=>n(14,V=c)),W);o.$$.on_destroy.push(()=>f()),o.$$.on_destroy.push(()=>T());let{state:C=je}=e,{people:D=C.people}=e;k();let{shifts:W=C.shifts}=e;L();let{start:P=ue(tt(me()))}=e,{days:j=7}=e,{options:B={}}=e,{locale:Z=Array.from(navigator.languages)||"en"}=e,{class:y=""}=e,U="",E=P,i,b=!1,N="";const z=C.assignments;Ae(o,z,c=>n(32,S=c));const O=C.assignmentPatterns;Ae(o,O,c=>n(31,_=c));function M(c,ae){return se=>{z.update(x=>(x.put(c,ae,se),x))}}function te(c){if(c)return c.shift?fe(C._shifts).get(Te(c.shift))??{name:"Unknown Shift"}:{name:"Day Off",icon:rt.fromString("lucide:calendar-off","#9a3412")}}function ne(c){return c.shift?Te(c.shift):c.type}function q(c,ae){const se=[ot()];for(const x of ae)x.occursOn(c)&&se.push({type:"SHIFT",shift:x});return se}function ke(c){c&&c.source instanceof _e&&(n(7,i=c.source),n(9,N="Edit Assignment Pattern"),n(8,b=!0))}function He(){n(7,i=new _e({pattern:lt.daily({startDate:E,endDate:s}),person:fe(D)[0],type:"SHIFT",shift:fe(W)[0]},C)),n(9,N="New Assignment Pattern"),n(8,b=!0)}function Me(){n(29,E=ue(E).add({weeks:1}))}function Le(){n(29,E=ue(E).add({weeks:-1}))}function Ue(){n(29,E=P)}function Ge(c){U=c,n(5,U)}const Je=c=>ke(c);function Ke(c){b=c,n(8,b)}return o.$$set=c=>{"state"in c&&n(0,C=c.state),"people"in c&&k(n(1,D=c.people)),"shifts"in c&&L(n(2,W=c.shifts)),"start"in c&&n(3,P=c.start),"days"in c&&n(26,j=c.days),"options"in c&&n(27,B=c.options),"locale"in c&&n(28,Z=c.locale),"class"in c&&n(4,y=c.class)},o.$$.update=()=>{o.$$.dirty[0]&402653184&&n(13,t=new Intl.DateTimeFormat(Z,{weekday:"long",day:"numeric",...B})),o.$$.dirty[0]&603979776&&n(6,s=E.add({days:j})),o.$$.dirty[0]&603979776&&n(12,r=nt(j).map(c=>E.add({days:c}))),o.$$.dirty[0]&536870976|o.$$.dirty[1]&3&&n(11,l=st(S,_,E,s)),o.$$.dirty[0]&1073741856&&n(10,u=a.filter(c=>c.name.toLowerCase().includes(U.toLowerCase())))},[C,D,W,P,y,U,s,i,b,N,u,l,r,t,V,z,O,M,te,ne,q,ke,He,Me,Le,Ue,j,B,Z,E,a,_,S,Ge,Je,Ke]}class Zt extends he{constructor(e){super(),de(this,e,Yt,Qt,ge,{state:0,people:1,shifts:2,start:3,days:26,options:27,locale:28,class:4},null,[-1,-1])}}function yt(o){let e,n,t;return n=new Zt({props:{state:je,class:"h-full w-full rounded-md border shadow-md"}}),{c(){e=G("main"),g(n.$$.fragment),this.h()},l(s){e=J(s,"MAIN",{class:!0});var r=K(e);p(n.$$.fragment,r),r.forEach(w),this.h()},h(){ee(e,"class","h-full w-full")},m(s,r){v(s,e,r),h(n,e,null),t=!0},p:ie,i(s){t||($(n.$$.fragment,s),t=!0)},o(s){m(n.$$.fragment,s),t=!1},d(s){s&&w(e),d(n)}}}class ln extends he{constructor(e){super(),de(this,e,null,yt,ge,{})}}export{ln as component};
