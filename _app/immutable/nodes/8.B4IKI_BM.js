import{s as X,w as K,e as O,a as M,c as W,b as G,g as N,f as w,m as A,i as D,h as H,x as y,y as re,q as Y,u as Z,r as x,v as ee,n as oe}from"../chunks/scheduler.D36odqhC.js";import{S as te,i as se,e as P,c as I,a as C,m as F,t as p,g as ie,b,f as fe,d as v}from"../chunks/index.DXrj4SHy.js";import{D as ue,E as ce,c as J,T as de,S as me,a as _e,P as ge,b as pe}from"../chunks/table-header.Csx85VSr.js";import{B as he,s as ae,T as be}from"../chunks/index.BmHYn6PF.js";import{w as $e}from"../chunks/index.B03QNBc8.js";import{P as ke,C as we}from"../chunks/column-hide-selector.CGcmCzvg.js";import{m as Ie}from"../chunks/index.Ckb5Z7J2.js";const Ce=n=>({}),L=n=>({}),Fe=n=>({}),Q=n=>({});function U(n){let e,s;return e=new de({props:{sticky:!0,$$slots:{end:[Ee],middle:[Ve],start:[Te]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment)},l(a){C(e.$$.fragment,a)},m(a,t){F(e,a,t),s=!0},p(a,t){const o={};t&8388816&&(o.$$scope={dirty:t,ctx:a}),e.$set(o)},i(a){s||(p(e.$$.fragment,a),s=!0)},o(a){b(e.$$.fragment,a),s=!1},d(a){v(e,a)}}}function ve(n){let e,s;return e=new pe({}),{c(){I(e.$$.fragment)},l(a){C(e.$$.fragment,a)},m(a,t){F(e,a,t),s=!0},i(a){s||(p(e.$$.fragment,a),s=!0)},o(a){b(e.$$.fragment,a),s=!1},d(a){v(e,a)}}}function Te(n){let e,s,a;e=new he({props:{class:"text-muted-foreground hover:text-accent-foreground",size:"icon-xl",variant:"ghost",$$slots:{default:[ve]},$$scope:{ctx:n}}}),e.$on("click",n[13]);const t=n[15].start,o=Y(t,n,n[23],L);return{c(){I(e.$$.fragment),s=M(),o&&o.c()},l(i){C(e.$$.fragment,i),s=N(i),o&&o.l(i)},m(i,d){F(e,i,d),D(i,s,d),o&&o.m(i,d),a=!0},p(i,d){const f={};d&8388608&&(f.$$scope={dirty:d,ctx:i}),e.$set(f),o&&o.p&&(!a||d&8388608)&&Z(o,t,i,i[23],a?ee(t,i[23],d,Ce):x(i[23]),L)},i(i){a||(p(e.$$.fragment,i),p(o,i),a=!0)},o(i){b(e.$$.fragment,i),b(o,i),a=!1},d(i){i&&w(s),v(e,i),o&&o.d(i)}}}function Ve(n){let e;const s=n[15].middle,a=Y(s,n,n[23],Q);return{c(){a&&a.c()},l(t){a&&a.l(t)},m(t,o){a&&a.m(t,o),e=!0},p(t,o){a&&a.p&&(!e||o&8388608)&&Z(a,s,t,t[23],e?ee(s,t[23],o,Fe):x(t[23]),Q)},i(t){e||(p(a,t),e=!0)},o(t){b(a,t),e=!1},d(t){a&&a.d(t)}}}function Ee(n){let e,s,a,t,o;function i(f){n[16](f)}let d={flatColumns:n[7]};return n[6]!==void 0&&(d.hideForId=n[6]),e=new we({props:d}),K.push(()=>P(e,"hideForId",i)),t=new me({props:{onInput:n[17]}}),{c(){I(e.$$.fragment),a=M(),I(t.$$.fragment)},l(f){C(e.$$.fragment,f),a=N(f),C(t.$$.fragment,f)},m(f,_){F(e,f,_),D(f,a,_),F(t,f,_),o=!0},p(f,_){const h={};_&128&&(h.flatColumns=f[7]),!s&&_&64&&(s=!0,h.hideForId=f[6],y(()=>s=!1)),e.$set(h);const m={};_&16&&(m.onInput=f[17]),t.$set(m)},i(f){o||(p(e.$$.fragment,f),p(t.$$.fragment,f),o=!0)},o(f){b(e.$$.fragment,f),b(t.$$.fragment,f),o=!1},d(f){f&&w(a),v(e,f),v(t,f)}}}function Ke(n){let e,s,a,t,o,i,d,f,_,h,m,T,$,u=n[1]&&U(n);function V(r){n[18](r)}function S(r){n[19](r)}function j(r){n[20](r)}function q(r){n[21](r)}let k={class:"w-full",columnInitializers:n[11],data:n[0],actions:n[3],defaultAction:n[12]};n[4]!==void 0&&(k.filterValue=n[4]),n[7]!==void 0&&(k.flatColumns=n[7]),n[6]!==void 0&&(k.hideForId=n[6]),n[5]!==void 0&&(k.sortKeys=n[5]),t=new ue({props:k}),K.push(()=>P(t,"filterValue",V)),K.push(()=>P(t,"flatColumns",S)),K.push(()=>P(t,"hideForId",j)),K.push(()=>P(t,"sortKeys",q));function B(r){n[22](r)}let z={item:n[8],title:n[10]};return n[9]!==void 0&&(z.open=n[9]),m=new ce({props:z}),K.push(()=>P(m,"open",B)),{c(){e=O("div"),s=O("div"),u&&u.c(),a=M(),I(t.$$.fragment),h=M(),I(m.$$.fragment),this.h()},l(r){e=W(r,"DIV",{class:!0});var c=G(e);s=W(c,"DIV",{class:!0});var g=G(s);u&&u.l(g),a=N(g),C(t.$$.fragment,g),g.forEach(w),c.forEach(w),h=N(r),C(m.$$.fragment,r),this.h()},h(){A(s,"class","mt-4 flex h-max w-full flex-col items-start justify-start overflow-y-scroll"),A(e,"class",_="flex flex-col items-start justify-start "+n[2])},m(r,c){D(r,e,c),H(e,s),u&&u.m(s,null),H(s,a),F(t,s,null),D(r,h,c),F(m,r,c),$=!0},p(r,[c]){r[1]?u?(u.p(r,c),c&2&&p(u,1)):(u=U(r),u.c(),p(u,1),u.m(s,a)):u&&(ie(),b(u,1,1,()=>{u=null}),fe());const g={};c&1&&(g.data=r[0]),c&8&&(g.actions=r[3]),!o&&c&16&&(o=!0,g.filterValue=r[4],y(()=>o=!1)),!i&&c&128&&(i=!0,g.flatColumns=r[7],y(()=>i=!1)),!d&&c&64&&(d=!0,g.hideForId=r[6],y(()=>d=!1)),!f&&c&32&&(f=!0,g.sortKeys=r[5],y(()=>f=!1)),t.$set(g),(!$||c&4&&_!==(_="flex flex-col items-start justify-start "+r[2]))&&A(e,"class",_);const E={};c&256&&(E.item=r[8]),c&1024&&(E.title=r[10]),!T&&c&512&&(T=!0,E.open=r[9],y(()=>T=!1)),m.$set(E)},i(r){$||(p(u),p(t.$$.fragment,r),p(m.$$.fragment,r),$=!0)},o(r){b(u),b(t.$$.fragment,r),b(m.$$.fragment,r),$=!1},d(r){r&&(w(e),w(h)),u&&u.d(),v(t),v(m,r)}}}function ye(n,e,s){let{$$slots:a={},$$scope:t}=e,{data:o}=e,{header:i=!0}=e,{state:d=ae}=e,f=new Map,_=$e(""),h=_e([]),m={},T,{class:$=""}=e,u,V=!1,S="Edit Task",j=[{accessor:l=>l,cell:l=>J(ge,{item:l.value}),header:"Picture",id:"picture",plugins:{sort:{disable:!0},tableFilter:{disable:!0}}},{accessor:l=>l.name,header:"Name",id:"name"},{accessor:l=>Ie(l.min.people,l.max.people,"people"),header:"Required Workers",id:"capacity"}];for(const l of re(d.templates).task.keys)j.push({accessor:R=>R.properties.get(l),cell:R=>J(ke,{property:l,value:R.value}),header:l.name,id:l.uuid});let{actions:q=new Map([...f,["Edit",l=>k(l)],["Delete",l=>l.delete()]])}=e;function k(l){s(10,S="Edit Task"),s(8,u=l.pull()),s(9,V=!0)}function B(){s(10,S="Create new Task"),s(8,u=new be({name:""},d)),s(9,V=!0)}function z(l){m=l,s(6,m)}const r=l=>_.set(l);function c(l){_=l,s(4,_)}function g(l){T=l,s(7,T)}function E(l){m=l,s(6,m)}function ne(l){h=l,s(5,h)}function le(l){V=l,s(9,V)}return n.$$set=l=>{"data"in l&&s(0,o=l.data),"header"in l&&s(1,i=l.header),"state"in l&&s(14,d=l.state),"class"in l&&s(2,$=l.class),"actions"in l&&s(3,q=l.actions),"$$scope"in l&&s(23,t=l.$$scope)},[o,i,$,q,_,h,m,T,u,V,S,j,k,B,d,a,z,r,c,g,E,ne,le,t]}class Pe extends te{constructor(e){super(),se(this,e,ye,Ke,X,{data:0,header:1,state:14,class:2,actions:3})}}function Se(n){let e,s,a;return s=new Pe({props:{data:n[0],class:"h-full w-full"}}),{c(){e=O("main"),I(s.$$.fragment),this.h()},l(t){e=W(t,"MAIN",{class:!0});var o=G(e);C(s.$$.fragment,o),o.forEach(w),this.h()},h(){A(e,"class","h-full w-full")},m(t,o){D(t,e,o),F(s,e,null),a=!0},p:oe,i(t){a||(p(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&w(e),v(s)}}}function De(n){return[ae.tasks]}class Re extends te{constructor(e){super(),se(this,e,De,Se,X,{})}}export{Re as component};
