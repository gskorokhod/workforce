import{s as X,o as K,e as L,a as z,c as O,b as W,g as A,f as w,m as y,i as D,h as G,p as T,q as Y,u as Z,r as x,v as ee,n as ie}from"../chunks/scheduler.F-Z2IgS-.js";import{S as te,i as se,e as P,c as I,a as F,m as C,t as p,g as re,b,f as oe,d as V}from"../chunks/index.S9sim5RB.js";import{B as fe,s as ae,T as ue}from"../chunks/index.CrHEIdwb.js";import{w as ce}from"../chunks/index.DCJhdrRJ.js";import{D as de,E as me,T as _e,C as ge,S as pe,c as he,a as H,P as be,b as $e,d as ke}from"../chunks/table-header.P92fPhdP.js";import{m as we}from"../chunks/index.1LhlOpPs.js";const Ie=l=>({}),J=l=>({}),Fe=l=>({}),Q=l=>({});function U(l){let e,s;return e=new _e({props:{sticky:!0,$$slots:{end:[ve],middle:[Se],start:[Ve]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,t){C(e,a,t),s=!0},p(a,t){const r={};t&8388816&&(r.$$scope={dirty:t,ctx:a}),e.$set(r)},i(a){s||(p(e.$$.fragment,a),s=!0)},o(a){b(e.$$.fragment,a),s=!1},d(a){V(e,a)}}}function Ce(l){let e,s;return e=new ke({}),{c(){I(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,t){C(e,a,t),s=!0},i(a){s||(p(e.$$.fragment,a),s=!0)},o(a){b(e.$$.fragment,a),s=!1},d(a){V(e,a)}}}function Ve(l){let e,s,a;e=new fe({props:{class:"text-muted-foreground hover:text-accent-foreground",size:"icon-xl",variant:"ghost",$$slots:{default:[Ce]},$$scope:{ctx:l}}}),e.$on("click",l[13]);const t=l[15].start,r=Y(t,l,l[23],J);return{c(){I(e.$$.fragment),s=z(),r&&r.c()},l(o){F(e.$$.fragment,o),s=A(o),r&&r.l(o)},m(o,d){C(e,o,d),D(o,s,d),r&&r.m(o,d),a=!0},p(o,d){const f={};d&8388608&&(f.$$scope={dirty:d,ctx:o}),e.$set(f),r&&r.p&&(!a||d&8388608)&&Z(r,t,o,o[23],a?ee(t,o[23],d,Ie):x(o[23]),J)},i(o){a||(p(e.$$.fragment,o),p(r,o),a=!0)},o(o){b(e.$$.fragment,o),b(r,o),a=!1},d(o){o&&w(s),V(e,o),r&&r.d(o)}}}function Se(l){let e;const s=l[15].middle,a=Y(s,l,l[23],Q);return{c(){a&&a.c()},l(t){a&&a.l(t)},m(t,r){a&&a.m(t,r),e=!0},p(t,r){a&&a.p&&(!e||r&8388608)&&Z(a,s,t,t[23],e?ee(s,t[23],r,Fe):x(t[23]),Q)},i(t){e||(p(a,t),e=!0)},o(t){b(a,t),e=!1},d(t){a&&a.d(t)}}}function ve(l){let e,s,a,t,r;function o(f){l[16](f)}let d={flatColumns:l[7]};return l[6]!==void 0&&(d.hideForId=l[6]),e=new ge({props:d}),K.push(()=>P(e,"hideForId",o)),t=new pe({props:{onInput:l[17]}}),{c(){I(e.$$.fragment),a=z(),I(t.$$.fragment)},l(f){F(e.$$.fragment,f),a=A(f),F(t.$$.fragment,f)},m(f,_){C(e,f,_),D(f,a,_),C(t,f,_),r=!0},p(f,_){const h={};_&128&&(h.flatColumns=f[7]),!s&&_&64&&(s=!0,h.hideForId=f[6],T(()=>s=!1)),e.$set(h);const m={};_&16&&(m.onInput=f[17]),t.$set(m)},i(f){r||(p(e.$$.fragment,f),p(t.$$.fragment,f),r=!0)},o(f){b(e.$$.fragment,f),b(t.$$.fragment,f),r=!1},d(f){f&&w(a),V(e,f),V(t,f)}}}function Ee(l){let e,s,a,t,r,o,d,f,_,h,m,S,$,u=l[1]&&U(l);function v(i){l[18](i)}function j(i){l[19](i)}function M(i){l[20](i)}function q(i){l[21](i)}let k={class:"w-full",columnInitializers:l[11],data:l[0],actions:l[3],defaultAction:l[12]};l[4]!==void 0&&(k.filterValue=l[4]),l[7]!==void 0&&(k.flatColumns=l[7]),l[6]!==void 0&&(k.hideForId=l[6]),l[5]!==void 0&&(k.sortKeys=l[5]),t=new de({props:k}),K.push(()=>P(t,"filterValue",v)),K.push(()=>P(t,"flatColumns",j)),K.push(()=>P(t,"hideForId",M)),K.push(()=>P(t,"sortKeys",q));function R(i){l[22](i)}let N={item:l[8],title:l[10]};return l[9]!==void 0&&(N.open=l[9]),m=new me({props:N}),K.push(()=>P(m,"open",R)),{c(){e=L("div"),s=L("div"),u&&u.c(),a=z(),I(t.$$.fragment),h=z(),I(m.$$.fragment),this.h()},l(i){e=O(i,"DIV",{class:!0});var c=W(e);s=O(c,"DIV",{class:!0});var g=W(s);u&&u.l(g),a=A(g),F(t.$$.fragment,g),g.forEach(w),c.forEach(w),h=A(i),F(m.$$.fragment,i),this.h()},h(){y(s,"class","mt-4 flex h-max w-full flex-col items-start justify-start overflow-y-scroll"),y(e,"class",_="flex flex-col items-start justify-start "+l[2])},m(i,c){D(i,e,c),G(e,s),u&&u.m(s,null),G(s,a),C(t,s,null),D(i,h,c),C(m,i,c),$=!0},p(i,[c]){i[1]?u?(u.p(i,c),c&2&&p(u,1)):(u=U(i),u.c(),p(u,1),u.m(s,a)):u&&(re(),b(u,1,1,()=>{u=null}),oe());const g={};c&1&&(g.data=i[0]),c&8&&(g.actions=i[3]),!r&&c&16&&(r=!0,g.filterValue=i[4],T(()=>r=!1)),!o&&c&128&&(o=!0,g.flatColumns=i[7],T(()=>o=!1)),!d&&c&64&&(d=!0,g.hideForId=i[6],T(()=>d=!1)),!f&&c&32&&(f=!0,g.sortKeys=i[5],T(()=>f=!1)),t.$set(g),(!$||c&4&&_!==(_="flex flex-col items-start justify-start "+i[2]))&&y(e,"class",_);const E={};c&256&&(E.item=i[8]),c&1024&&(E.title=i[10]),!S&&c&512&&(S=!0,E.open=i[9],T(()=>S=!1)),m.$set(E)},i(i){$||(p(u),p(t.$$.fragment,i),p(m.$$.fragment,i),$=!0)},o(i){b(u),b(t.$$.fragment,i),b(m.$$.fragment,i),$=!1},d(i){i&&(w(e),w(h)),u&&u.d(),V(t),V(m,i)}}}function Ke(l,e,s){let{$$slots:a={},$$scope:t}=e,{data:r}=e,{header:o=!0}=e,{state:d=ae}=e,f=new Map,_=ce(""),h=he([]),m={},S,{class:$=""}=e,u,v=!1,j="Edit Person",M=[{accessor:n=>n,cell:n=>H(be,{item:n.value}),header:"Picture",id:"picture",plugins:{sort:{disable:!0},tableFilter:{disable:!0}}},{accessor:n=>n.name,header:"Name",id:"name"},{accessor:n=>we(n.min.people,n.max.people,"people"),header:"Required Workers",id:"capacity"},{accessor:n=>n.skills,cell:n=>H($e,{items:n.value,placeholder:"No Skills"}),header:"Required Skills",id:"skills",plugins:{sort:{getSortValue:n=>n.map(B=>B.name).join(" ")},tableFilter:{getFilterValue:n=>n.map(B=>B.name).join(" ")}}}],{actions:q=new Map([...f,["Edit",n=>k(n)],["Delete",n=>n.delete()]])}=e;function k(n){s(10,j="Edit Task"),s(8,u=n),s(9,v=!0)}function R(){s(10,j="Create new Location"),s(8,u=new ue({},d)),s(9,v=!0)}function N(n){m=n,s(6,m)}const i=n=>_.set(n);function c(n){_=n,s(4,_)}function g(n){S=n,s(7,S)}function E(n){m=n,s(6,m)}function le(n){h=n,s(5,h)}function ne(n){v=n,s(9,v)}return l.$$set=n=>{"data"in n&&s(0,r=n.data),"header"in n&&s(1,o=n.header),"state"in n&&s(14,d=n.state),"class"in n&&s(2,$=n.class),"actions"in n&&s(3,q=n.actions),"$$scope"in n&&s(23,t=n.$$scope)},[r,o,$,q,_,h,m,S,u,v,j,M,k,R,d,a,N,i,c,g,E,le,ne,t]}class Te extends te{constructor(e){super(),se(this,e,Ke,Ee,X,{data:0,header:1,state:14,class:2,actions:3})}}function Pe(l){let e,s,a;return s=new Te({props:{data:l[0],class:"h-full w-full"}}),{c(){e=L("main"),I(s.$$.fragment),this.h()},l(t){e=O(t,"MAIN",{class:!0});var r=W(e);F(s.$$.fragment,r),r.forEach(w),this.h()},h(){y(e,"class","h-full w-full")},m(t,r){D(t,e,r),C(s,e,null),a=!0},p:ie,i(t){a||(p(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&w(e),V(s)}}}function je(l){return[ae.tasks]}class Me extends te{constructor(e){super(),se(this,e,je,Pe,X,{})}}export{Me as component};
