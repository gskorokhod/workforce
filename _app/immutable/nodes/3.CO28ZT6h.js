import{s as Pe,o as we,p as Ne,q as ye,u as xe,r as et,v as tt,w as _e,e as y,a as D,c as x,b as ee,f as w,g as P,m as oe,i as v,h as V,x as ge,k as Ce,t as L,d as U,n as ke,C as Oe,B as pe,z as te,A as Se,j as Me}from"../chunks/scheduler.DpdggcV9.js";import{S as Ae,i as Ie,c as p,a as d,m as h,t as i,b as m,d as b,e as de,g as $e,f as ce}from"../chunks/index.KweK3yxl.js";import{I as nt,g as st,a as lt,B as se,k as he,l as rt,$ as ve,r as ot,m as at,s as Le,n as We,b as ft,A as De,R as ut,e as ne,o as $t,p as Be}from"../chunks/stores.CHMP4Ep9.js";import{k as be,S as ct,l as it,E as mt,D as _t,i as gt,m as Te,n as Ee,o as pt,p as dt,q as Ue,r as ht,s as bt,t as ie,a as Ge}from"../chunks/delete-dialog.DFCl-t5N.js";import{C as wt}from"../chunks/combobox.DC4Z_i3R.js";import{T as kt}from"../chunks/trash.BlIJmwdF.js";function vt(o){let e;const n=o[2].default,t=ye(n,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,l){t&&t.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&8)&&xe(t,n,s,s[3],e?tt(n,s[3],l,null):et(s[3]),null)},i(s){e||(i(t,s),e=!0)},o(s){m(t,s),e=!1},d(s){t&&t.d(s)}}}function Dt(o){let e,n;const t=[{name:"repeat"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[vt]},$$scope:{ctx:o}};for(let l=0;l<t.length;l+=1)s=we(s,t[l]);return e=new nt({props:s}),{c(){p(e.$$.fragment)},l(l){d(e.$$.fragment,l)},m(l,r){h(e,l,r),n=!0},p(l,[r]){const $=r&3?st(t,[t[0],r&2&&lt(l[1]),r&1&&{iconNode:l[0]}]):{};r&8&&($.$$scope={dirty:r,ctx:l}),e.$set($)},i(l){n||(i(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){b(e,l)}}}function Pt(o,e,n){let{$$slots:t={},$$scope:s}=e;const l=[["path",{d:"m17 2 4 4-4 4"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14"}],["path",{d:"m7 22-4-4 4-4"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3"}]];return o.$$set=r=>{n(1,e=we(we({},e),Ne(r))),"$$scope"in r&&n(3,s=r.$$scope)},e=Ne(e),[l,e,t,s]}class St extends Ae{constructor(e){super(),Ie(this,e,Pt,Dt,Pe,{})}}function ze(o,e,n){const t=o.slice();return t[41]=e[n],t}function Re(o,e,n){const t=o.slice();return t[44]=e[n],t}function Ve(o){var n;const e=(n=o[12].get(o[41]))==null?void 0:n.get(o[44]);o[47]=e}function je(o,e,n){const t=o.slice();return t[44]=e[n],t}function At(o){let e,n,t;return e=new gt({}),{c(){p(e.$$.fragment),n=L(`
        Add Pattern`)},l(s){d(e.$$.fragment,s),n=U(s,`
        Add Pattern`)},m(s,l){h(e,s,l),v(s,n,l),t=!0},i(s){t||(i(e.$$.fragment,s),t=!0)},o(s){m(e.$$.fragment,s),t=!1},d(s){s&&w(n),b(e,s)}}}function It(o){let e,n;return e=new ht({}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Tt(o){let e,n;return e=new se({props:{class:"text-muted-foreground",size:"icon",variant:"ghost",$$slots:{default:[It]},$$scope:{ctx:o}}}),e.$on("click",o[25]),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[1]&524288&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Et(o){let e;return{c(){e=L("Previous Week")},l(n){e=U(n,"Previous Week")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Nt(o){let e,n,t,s;return e=new Te({props:{$$slots:{default:[Tt]},$$scope:{ctx:o}}}),t=new Ee({props:{class:"",side:"top",$$slots:{default:[Et]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment),n=D(),p(t.$$.fragment)},l(l){d(e.$$.fragment,l),n=P(l),d(t.$$.fragment,l)},m(l,r){h(e,l,r),v(l,n,r),h(t,l,r),s=!0},p(l,r){const $={};r[1]&524288&&($.$$scope={dirty:r,ctx:l}),e.$set($);const a={};r[1]&524288&&(a.$$scope={dirty:r,ctx:l}),t.$set(a)},i(l){s||(i(e.$$.fragment,l),i(t.$$.fragment,l),s=!0)},o(l){m(e.$$.fragment,l),m(t.$$.fragment,l),s=!1},d(l){l&&w(n),b(e,l),b(t,l)}}}function Ct(o){let e,n;return e=new bt({}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ot(o){let e,n;return e=new se({props:{class:"text-muted-foreground",size:"icon",variant:"ghost",$$slots:{default:[Ct]},$$scope:{ctx:o}}}),e.$on("click",o[24]),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[1]&524288&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Wt(o){let e;return{c(){e=L("Next Week")},l(n){e=U(n,"Next Week")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Bt(o){let e,n,t,s;return e=new Te({props:{$$slots:{default:[Ot]},$$scope:{ctx:o}}}),t=new Ee({props:{class:"",side:"top",$$slots:{default:[Wt]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment),n=D(),p(t.$$.fragment)},l(l){d(e.$$.fragment,l),n=P(l),d(t.$$.fragment,l)},m(l,r){h(e,l,r),v(l,n,r),h(t,l,r),s=!0},p(l,r){const $={};r[1]&524288&&($.$$scope={dirty:r,ctx:l}),e.$set($);const a={};r[1]&524288&&(a.$$scope={dirty:r,ctx:l}),t.$set(a)},i(l){s||(i(e.$$.fragment,l),i(t.$$.fragment,l),s=!0)},o(l){m(e.$$.fragment,l),m(t.$$.fragment,l),s=!1},d(l){l&&w(n),b(e,l),b(t,l)}}}function zt(o){let e=Be(o[5],o[6])+"",n;return{c(){n=L(e)},l(t){n=U(t,e)},m(t,s){v(t,n,s)},p(t,s){s[0]&96&&e!==(e=Be(t[5],t[6])+"")&&Me(n,e)},d(t){t&&w(n)}}}function Rt(o){let e,n;return e=new se({props:{variant:"ghost",class:"ml-2 text-xl font-medium",$$slots:{default:[zt]},$$scope:{ctx:o}}}),e.$on("click",o[26]),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[0]&96|s[1]&524288&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Vt(o){let e;return{c(){e=L("Click to go to the current week")},l(n){e=U(n,"Click to go to the current week")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function jt(o){let e,n,t,s;return e=new Te({props:{$$slots:{default:[Rt]},$$scope:{ctx:o}}}),t=new Ee({props:{class:"",side:"top",$$slots:{default:[Vt]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment),n=D(),p(t.$$.fragment)},l(l){d(e.$$.fragment,l),n=P(l),d(t.$$.fragment,l)},m(l,r){h(e,l,r),v(l,n,r),h(t,l,r),s=!0},p(l,r){const $={};r[0]&96|r[1]&524288&&($.$$scope={dirty:r,ctx:l}),e.$set($);const a={};r[1]&524288&&(a.$$scope={dirty:r,ctx:l}),t.$set(a)},i(l){s||(i(e.$$.fragment,l),i(t.$$.fragment,l),s=!0)},o(l){m(e.$$.fragment,l),m(t.$$.fragment,l),s=!1},d(l){l&&w(n),b(e,l),b(t,l)}}}function qt(o){let e;return{c(){e=L("Employee")},l(n){e=U(n,"Employee")},m(n,t){v(n,e,t)},d(n){n&&w(e)}}}function Ft(o){let e=o[14].format(o[44].toDate(ve()))+"",n;return{c(){n=L(e)},l(t){n=U(t,e)},m(t,s){v(t,n,s)},p(t,s){s[0]&24576&&e!==(e=t[14].format(t[44].toDate(ve()))+"")&&Me(n,e)},d(t){t&&w(n)}}}function qe(o){let e,n;return e=new ie({props:{$$slots:{default:[Ft]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[0]&24576|s[1]&524288&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ht(o){let e,n,t,s;e=new ie({props:{$$slots:{default:[qt]},$$scope:{ctx:o}}});let l=ne(o[13]),r=[];for(let a=0;a<l.length;a+=1)r[a]=qe(je(o,l,a));const $=a=>m(r[a],1,1,()=>{r[a]=null});return{c(){p(e.$$.fragment),n=D();for(let a=0;a<r.length;a+=1)r[a].c();t=te()},l(a){d(e.$$.fragment,a),n=P(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=te()},m(a,f){h(e,a,f),v(a,n,f);for(let k=0;k<r.length;k+=1)r[k]&&r[k].m(a,f);v(a,t,f),s=!0},p(a,f){const k={};if(f[1]&524288&&(k.$$scope={dirty:f,ctx:a}),e.$set(k),f[0]&24576){l=ne(a[13]);let _;for(_=0;_<l.length;_+=1){const I=je(a,l,_);r[_]?(r[_].p(I,f),i(r[_],1)):(r[_]=qe(I),r[_].c(),i(r[_],1),r[_].m(t.parentNode,t))}for($e(),_=l.length;_<r.length;_+=1)$(_);ce()}},i(a){if(!s){i(e.$$.fragment,a);for(let f=0;f<l.length;f+=1)i(r[f]);s=!0}},o(a){m(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)m(r[f]);s=!1},d(a){a&&(w(n),w(t)),b(e,a),Se(r,a)}}}function Mt(o){let e,n;return e=new Ue({props:{$$slots:{default:[Ht]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[0]&24576|s[1]&524288&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Lt(o){let e,n;return e=new Ge({props:{item:o[41],group:"assignments",variant:"full",hoverEffects:!1,class:"font-medium"}}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[0]&2048&&(l.item=t[41]),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ut(o){let e,n;return e=new wt({props:{value:o[47],onSelect:o[18](o[41],o[44]),options:o[21](o[44],o[15]),display:o[19],getId:o[20],class:"h-12 w-full p-1 text-sm font-normal",placeholder:"Not Assigned"}}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[0]&14336&&(l.value=t[47]),s[0]&10240&&(l.onSelect=t[18](t[41],t[44])),s[0]&40960&&(l.options=t[21](t[44],t[15])),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Gt(o){let e,n;function t(){return o[35](o[47])}return e=new se({props:{class:"group h-12 w-full justify-around p-2 text-sm font-normal",variant:"ghost",$$slots:{default:[Jt]},$$scope:{ctx:o}}}),e.$on("click",t),{c(){p(e.$$.fragment)},l(s){d(e.$$.fragment,s)},m(s,l){h(e,s,l),n=!0},p(s,l){o=s;const r={};l[0]&14336|l[1]&524288&&(r.$$scope={dirty:l,ctx:o}),e.$set(r)},i(s){n||(i(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){b(e,s)}}}function Jt(o){let e,n,t,s;return e=new Ge({props:{item:o[19](o[47]),variant:"full",class:"h-12 w-full max-w-24 text-sm font-normal",hoverEffects:!1,showTooltip:!1}}),t=new St({props:{size:20,class:"text-muted-foreground transition-all group-hover:text-primary"}}),{c(){p(e.$$.fragment),n=D(),p(t.$$.fragment)},l(l){d(e.$$.fragment,l),n=P(l),d(t.$$.fragment,l)},m(l,r){h(e,l,r),v(l,n,r),h(t,l,r),s=!0},p(l,r){const $={};r[0]&14336&&($.item=l[19](l[47])),e.$set($)},i(l){s||(i(e.$$.fragment,l),i(t.$$.fragment,l),s=!0)},o(l){m(e.$$.fragment,l),m(t.$$.fragment,l),s=!1},d(l){l&&w(n),b(e,l),b(t,l)}}}function Kt(o){Ve(o);let e,n,t,s;const l=[Gt,Ut],r=[];function $(a,f){return a[47]&&a[47].source instanceof De?0:1}return e=$(o),n=r[e]=l[e](o),{c(){n.c(),t=te()},l(a){n.l(a),t=te()},m(a,f){r[e].m(a,f),v(a,t,f),s=!0},p(a,f){Ve(a);let k=e;e=$(a),e===k?r[e].p(a,f):($e(),m(r[k],1,1,()=>{r[k]=null}),ce(),n=r[e],n?n.p(a,f):(n=r[e]=l[e](a),n.c()),i(n,1),n.m(t.parentNode,t))},i(a){s||(i(n),s=!0)},o(a){m(n),s=!1},d(a){a&&w(t),r[e].d(a)}}}function Fe(o){let e,n;return e=new ie({props:{$$slots:{default:[Kt]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[0]&47104|s[1]&524288&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Qt(o){let e,n,t,s;e=new ie({props:{$$slots:{default:[Lt]},$$scope:{ctx:o}}});let l=ne(o[13]),r=[];for(let a=0;a<l.length;a+=1)r[a]=Fe(Re(o,l,a));const $=a=>m(r[a],1,1,()=>{r[a]=null});return{c(){p(e.$$.fragment),n=D();for(let a=0;a<r.length;a+=1)r[a].c();t=D()},l(a){d(e.$$.fragment,a),n=P(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=P(a)},m(a,f){h(e,a,f),v(a,n,f);for(let k=0;k<r.length;k+=1)r[k]&&r[k].m(a,f);v(a,t,f),s=!0},p(a,f){const k={};if(f[0]&2048|f[1]&524288&&(k.$$scope={dirty:f,ctx:a}),e.$set(k),f[0]&8173568){l=ne(a[13]);let _;for(_=0;_<l.length;_+=1){const I=Re(a,l,_);r[_]?(r[_].p(I,f),i(r[_],1)):(r[_]=Fe(I),r[_].c(),i(r[_],1),r[_].m(t.parentNode,t))}for($e(),_=l.length;_<r.length;_+=1)$(_);ce()}},i(a){if(!s){i(e.$$.fragment,a);for(let f=0;f<l.length;f+=1)i(r[f]);s=!0}},o(a){m(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)m(r[f]);s=!1},d(a){a&&(w(n),w(t)),b(e,a),Se(r,a)}}}function He(o){let e,n;return e=new Ue({props:{$$slots:{default:[Qt]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[0]&47104|s[1]&524288&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Xt(o){let e,n,t=ne(o[11]),s=[];for(let r=0;r<t.length;r+=1)s[r]=He(ze(o,t,r));const l=r=>m(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=te()},l(r){for(let $=0;$<s.length;$+=1)s[$].l(r);e=te()},m(r,$){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,$);v(r,e,$),n=!0},p(r,$){if($[0]&8173568){t=ne(r[11]);let a;for(a=0;a<t.length;a+=1){const f=ze(r,t,a);s[a]?(s[a].p(f,$),i(s[a],1)):(s[a]=He(f),s[a].c(),i(s[a],1),s[a].m(e.parentNode,e))}for($e(),a=t.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!n){for(let $=0;$<t.length;$+=1)i(s[$]);n=!0}},o(r){s=s.filter(Boolean);for(let $=0;$<s.length;$+=1)m(s[$]);n=!1},d(r){r&&w(e),Se(s,r)}}}function Yt(o){let e,n,t,s;return e=new pt({props:{class:"font-semibold text-muted-foreground",$$slots:{default:[Mt]},$$scope:{ctx:o}}}),t=new dt({props:{$$slots:{default:[Xt]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment),n=D(),p(t.$$.fragment)},l(l){d(e.$$.fragment,l),n=P(l),d(t.$$.fragment,l)},m(l,r){h(e,l,r),v(l,n,r),h(t,l,r),s=!0},p(l,r){const $={};r[0]&24576|r[1]&524288&&($.$$scope={dirty:r,ctx:l}),e.$set($);const a={};r[0]&47104|r[1]&524288&&(a.$$scope={dirty:r,ctx:l}),t.$set(a)},i(l){s||(i(e.$$.fragment,l),i(t.$$.fragment,l),s=!0)},o(l){m(e.$$.fragment,l),m(t.$$.fragment,l),s=!1},d(l){l&&w(n),b(e,l),b(t,l)}}}function Zt(o){let e,n,t;return e=new kt({}),{c(){p(e.$$.fragment),n=L(" Delete Pattern")},l(s){d(e.$$.fragment,s),n=U(s," Delete Pattern")},m(s,l){h(e,s,l),v(s,n,l),t=!0},i(s){t||(i(e.$$.fragment,s),t=!0)},o(s){m(e.$$.fragment,s),t=!1},d(s){s&&w(n),b(e,s)}}}function yt(o){let e,n;return e=new se({props:{class:"mx-2",variant:"destructive",slot:"actions",$$slots:{default:[Zt]},$$scope:{ctx:o}}}),e.$on("click",o[36]),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){h(e,t,s),n=!0},p(t,s){const l={};s[1]&524288&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function xt(o){let e,n,t,s,l,r,$,a,f,k,_,I,j,T,Q,E,S,B,A,q,F,N,X,z;s=new se({props:{size:"lg",variant:"ghost",class:"p-4 text-base text-muted-foreground",$$slots:{default:[At]},$$scope:{ctx:o}}}),s.$on("click",o[23]),$=new be({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[Nt]},$$scope:{ctx:o}}}),f=new be({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[Bt]},$$scope:{ctx:o}}}),_=new be({props:{openDelay:500,closeDelay:100,group:"assignments",$$slots:{default:[jt]},$$scope:{ctx:o}}});function C(u){o[34](u)}let G={};o[4]!==void 0&&(G.value=o[4]),T=new ct({props:G}),_e.push(()=>de(T,"value",C)),S=new it({props:{class:"w-full",$$slots:{default:[Yt]},$$scope:{ctx:o}}});function Y(u){o[37](u)}let R={state:o[0],selected:o[7],title:o[10],onSubmit:en,$$slots:{actions:[yt]},$$scope:{ctx:o}};o[9]!==void 0&&(R.open=o[9]),A=new mt({props:R}),_e.push(()=>de(A,"open",Y));function le(u){o[39](u)}let Z={state:o[0],selected:o[7],onDelete:o[38]};return o[8]!==void 0&&(Z.open=o[8]),N=new _t({props:Z}),_e.push(()=>de(N,"open",le)),{c(){e=y("div"),n=y("div"),t=y("div"),p(s.$$.fragment),l=D(),r=y("div"),p($.$$.fragment),a=D(),p(f.$$.fragment),k=D(),p(_.$$.fragment),I=D(),j=y("div"),p(T.$$.fragment),E=D(),p(S.$$.fragment),B=D(),p(A.$$.fragment),F=D(),p(N.$$.fragment),this.h()},l(u){e=x(u,"DIV",{class:!0});var g=ee(e);n=x(g,"DIV",{class:!0});var O=ee(n);t=x(O,"DIV",{});var J=ee(t);d(s.$$.fragment,J),J.forEach(w),l=P(O),r=x(O,"DIV",{class:!0});var W=ee(r);d($.$$.fragment,W),a=P(W),d(f.$$.fragment,W),k=P(W),d(_.$$.fragment,W),W.forEach(w),I=P(O),j=x(O,"DIV",{});var H=ee(j);d(T.$$.fragment,H),H.forEach(w),O.forEach(w),E=P(g),d(S.$$.fragment,g),g.forEach(w),B=P(u),d(A.$$.fragment,u),F=P(u),d(N.$$.fragment,u),this.h()},h(){oe(r,"class","flex w-[30%] flex-row items-center"),oe(n,"class","flex h-20 w-full flex-row items-center justify-between bg-secondary p-4"),oe(e,"class",o[3])},m(u,g){v(u,e,g),V(e,n),V(n,t),h(s,t,null),V(n,l),V(n,r),h($,r,null),V(r,a),h(f,r,null),V(r,k),h(_,r,null),V(n,I),V(n,j),h(T,j,null),V(e,E),h(S,e,null),v(u,B,g),h(A,u,g),v(u,F,g),h(N,u,g),z=!0},p(u,g){const O={};g[1]&524288&&(O.$$scope={dirty:g,ctx:u}),s.$set(O);const J={};g[1]&524288&&(J.$$scope={dirty:g,ctx:u}),$.$set(J);const W={};g[1]&524288&&(W.$$scope={dirty:g,ctx:u}),f.$set(W);const H={};g[0]&96|g[1]&524288&&(H.$$scope={dirty:g,ctx:u}),_.$set(H);const ae={};!Q&&g[0]&16&&(Q=!0,ae.value=u[4],ge(()=>Q=!1)),T.$set(ae);const fe={};g[0]&63488|g[1]&524288&&(fe.$$scope={dirty:g,ctx:u}),S.$set(fe),(!z||g[0]&8)&&oe(e,"class",u[3]);const M={};g[0]&1&&(M.state=u[0]),g[0]&128&&(M.selected=u[7]),g[0]&1024&&(M.title=u[10]),g[0]&256|g[1]&524288&&(M.$$scope={dirty:g,ctx:u}),!q&&g[0]&512&&(q=!0,M.open=u[9],ge(()=>q=!1)),A.$set(M);const K={};g[0]&1&&(K.state=u[0]),g[0]&128&&(K.selected=u[7]),g[0]&640&&(K.onDelete=u[38]),!X&&g[0]&256&&(X=!0,K.open=u[8],ge(()=>X=!1)),N.$set(K)},i(u){z||(i(s.$$.fragment,u),i($.$$.fragment,u),i(f.$$.fragment,u),i(_.$$.fragment,u),i(T.$$.fragment,u),i(S.$$.fragment,u),i(A.$$.fragment,u),i(N.$$.fragment,u),z=!0)},o(u){m(s.$$.fragment,u),m($.$$.fragment,u),m(f.$$.fragment,u),m(_.$$.fragment,u),m(T.$$.fragment,u),m(S.$$.fragment,u),m(A.$$.fragment,u),m(N.$$.fragment,u),z=!1},d(u){u&&(w(e),w(B),w(F)),b(s),b($),b(f),b(_),b(T),b(S),b(A,u),b(N,u)}}}const en=()=>{};function tn(o,e,n){let t,s,l,r,$,a,f=ke,k=()=>(f(),f=Oe(S,c=>n(31,a=c)),S),_,I,j,T=ke,Q=()=>(T(),T=Oe(B,c=>n(15,j=c)),B);o.$$.on_destroy.push(()=>f()),o.$$.on_destroy.push(()=>T());let{state:E=Le}=e,{people:S=E.people}=e;k();let{shifts:B=E.shifts}=e;Q();let{start:A=he(rt(ve()))}=e,{days:q=7}=e,{options:F={}}=e,{locale:N=Array.from(navigator.languages)||"en"}=e,{class:X=""}=e,z="",C=A,G,Y=!1,R=!1,le="";const Z=E.assignments;Ce(o,Z,c=>n(33,I=c));const u=E.assignmentPatterns;Ce(o,u,c=>n(32,_=c)),E._assignmentPatterns;function g(c,me){return ue=>{Z.update(re=>(re.put(c,me,ue),re))}}function O(c){if(c)return c.shift?pe(E._shifts).get(We(c.shift))??{name:"Unknown Shift"}:{name:"Day Off",icon:ft.fromString("lucide:calendar-off","#9a3412")}}function J(c){return c.shift?We(c.shift):c.type}function W(c,me){const ue=[$t()];for(const re of me)re.occursOn(c)&&ue.push({type:"SHIFT",shift:re});return ue}function H(c){c&&c.source instanceof De&&(n(7,G=c.source),n(10,le="Edit Assignment Pattern"),n(9,R=!0))}function ae(){n(7,G=new De({pattern:ut.daily({startDate:C,endDate:s}),person:pe(S)[0],params:{type:"SHIFT",shift:pe(B)[0]}},E)),n(10,le="New Assignment Pattern"),n(9,R=!0)}function fe(){n(5,C=he(C).add({weeks:1}))}function M(){n(5,C=he(C).add({weeks:-1}))}function K(){n(5,C=A)}function Je(c){z=c,n(4,z)}const Ke=c=>H(c),Qe=()=>{n(8,Y=!0)};function Xe(c){R=c,n(9,R)}const Ye=()=>{n(9,R=!1),n(7,G=void 0)};function Ze(c){Y=c,n(8,Y)}return o.$$set=c=>{"state"in c&&n(0,E=c.state),"people"in c&&k(n(1,S=c.people)),"shifts"in c&&Q(n(2,B=c.shifts)),"start"in c&&n(27,A=c.start),"days"in c&&n(28,q=c.days),"options"in c&&n(29,F=c.options),"locale"in c&&n(30,N=c.locale),"class"in c&&n(3,X=c.class)},o.$$.update=()=>{o.$$.dirty[0]&1610612736&&n(14,t=new Intl.DateTimeFormat(N,{weekday:"long",day:"numeric",...F})),o.$$.dirty[0]&268435488&&n(6,s=C.add({days:q})),o.$$.dirty[0]&268435488&&n(13,l=ot(q).map(c=>C.add({days:c}))),o.$$.dirty[0]&96|o.$$.dirty[1]&6&&n(12,r=at(I,_,C,s)),o.$$.dirty[0]&16|o.$$.dirty[1]&1&&n(11,$=a.filter(c=>c.name.toLowerCase().includes(z.toLowerCase())))},[E,S,B,X,z,C,s,G,Y,R,le,$,r,l,t,j,Z,u,g,O,J,W,H,ae,fe,M,K,A,q,F,N,a,_,I,Je,Ke,Qe,Xe,Ye,Ze]}class nn extends Ae{constructor(e){super(),Ie(this,e,tn,xt,Pe,{state:0,people:1,shifts:2,start:27,days:28,options:29,locale:30,class:3},null,[-1,-1])}}function sn(o){let e,n,t;return n=new nn({props:{state:Le,class:"h-full w-full rounded-md border shadow-md"}}),{c(){e=y("main"),p(n.$$.fragment),this.h()},l(s){e=x(s,"MAIN",{class:!0});var l=ee(e);d(n.$$.fragment,l),l.forEach(w),this.h()},h(){oe(e,"class","h-full w-full")},m(s,l){v(s,e,l),h(n,e,null),t=!0},p:ke,i(s){t||(i(n.$$.fragment,s),t=!0)},o(s){m(n.$$.fragment,s),t=!1},d(s){s&&w(e),b(n)}}}class $n extends Ae{constructor(e){super(),Ie(this,e,null,sn,Pe,{})}}export{$n as component};
