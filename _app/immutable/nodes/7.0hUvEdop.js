import{s as y,w,x as k,k as ae,C as I,i as T,f as b,D as F,a as x,g as ee,e as L,t as E,c as N,b as P,d as C,E as K,m as A,h as $,j as z,n as le}from"../chunks/scheduler.D36odqhC.js";import{S as te,i as ne,e as S,c as O,a as V,m as j,t as m,b as g,d as q,g as G,f as H}from"../chunks/index.DXrj4SHy.js";import{b as re,$ as se,c as M,s as oe,d as ie,C as fe,e as D,f as B,h as Q}from"../chunks/index.BmHYn6PF.js";import{E as ce,D as ue,T as _e}from"../chunks/time-grid-item.B7p1iUFJ.js";function R(o,a,s){const t=o.slice();return t[13]=a[s],t}function U(o,a,s){const t=o.slice();return t[17]=a[s],t}function W(o,a,s){const t=o.slice();t[20]=a[s];const e=!B(t[20].start,t[13]);t[21]=e;const i=!B(t[20].end,t[13]);t[22]=i;const n=B(t[20].start,t[13])?Q(t[20].start):t[2];t[23]=n;const r=B(t[20].end,t[13])?Q(t[20].end):t[3];return t[24]=r,t}function de(o){let a,s,t=o[17].name+"",e,i,n,r=o[20].start.toDate().toLocaleString()+"",l,d,p=o[20].end.toDate().toLocaleString()+"",h,f;return{c(){a=L("div"),s=L("p"),e=E(t),i=x(),n=L("p"),l=E(r),d=E(" - "),h=E(p),this.h()},l(c){a=N(c,"DIV",{style:!0,class:!0});var _=P(a);s=N(_,"P",{});var u=P(s);e=C(u,t),u.forEach(b),i=ee(_),n=N(_,"P",{});var v=P(n);l=C(v,r),d=C(v," - "),h=C(v,p),v.forEach(b),_.forEach(b),this.h()},h(){K(a,"background-color",o[7](o[17])),A(a,"class",f="h-full w-full shadow "+(o[21]?"":"rounded-t-lg")+" "+(o[22]?"":"rounded-b-lg"))},m(c,_){T(c,a,_),$(a,s),$(s,e),$(a,i),$(a,n),$(n,l),$(n,d),$(n,h)},p(c,_){_&32&&t!==(t=c[17].name+"")&&z(e,t),_&48&&r!==(r=c[20].start.toDate().toLocaleString()+"")&&z(l,r),_&48&&p!==(p=c[20].end.toDate().toLocaleString()+"")&&z(h,p),_&32&&K(a,"background-color",c[7](c[17])),_&48&&f!==(f="h-full w-full shadow "+(c[21]?"":"rounded-t-lg")+" "+(c[22]?"":"rounded-b-lg"))&&A(a,"class",f)},d(c){c&&b(a)}}}function X(o){let a,s;return a=new _e({props:{tgContext:o[16],start:o[23],end:o[24],class:"pl-1 pr-1 "+(o[21]?"pt-0":"pt-1")+" "+(o[22]?"pb-0":"pb-1"),$$slots:{default:[de]},$$scope:{ctx:o}}}),{c(){O(a.$$.fragment)},l(t){V(a.$$.fragment,t)},m(t,e){j(a,t,e),s=!0},p(t,e){const i={};e&65536&&(i.tgContext=t[16]),e&52&&(i.start=t[23]),e&56&&(i.end=t[24]),e&48&&(i.class="pl-1 pr-1 "+(t[21]?"pt-0":"pt-1")+" "+(t[22]?"pb-0":"pb-1")),e&134217776&&(i.$$scope={dirty:e,ctx:t}),a.$set(i)},i(t){s||(m(a.$$.fragment,t),s=!0)},o(t){g(a.$$.fragment,t),s=!1},d(t){q(a,t)}}}function Y(o){let a,s,t=D(o[17].occurrencesOn(o[13])),e=[];for(let n=0;n<t.length;n+=1)e[n]=X(W(o,t,n));const i=n=>g(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();a=I()},l(n){for(let r=0;r<e.length;r+=1)e[r].l(n);a=I()},m(n,r){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,r);T(n,a,r),s=!0},p(n,r){if(r&65724){t=D(n[17].occurrencesOn(n[13]));let l;for(l=0;l<t.length;l+=1){const d=W(n,t,l);e[l]?(e[l].p(d,r),m(e[l],1)):(e[l]=X(d),e[l].c(),m(e[l],1),e[l].m(a.parentNode,a))}for(G(),l=t.length;l<e.length;l+=1)i(l);H()}},i(n){if(!s){for(let r=0;r<t.length;r+=1)m(e[r]);s=!0}},o(n){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)g(e[r]);s=!1},d(n){n&&b(a),F(e,n)}}}function me(o){let a,s,t=D(o[5]),e=[];for(let n=0;n<t.length;n+=1)e[n]=Y(U(o,t,n));const i=n=>g(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();a=x()},l(n){for(let r=0;r<e.length;r+=1)e[r].l(n);a=ee(n)},m(n,r){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,r);T(n,a,r),s=!0},p(n,r){if(r&65724){t=D(n[5]);let l;for(l=0;l<t.length;l+=1){const d=U(n,t,l);e[l]?(e[l].p(d,r),m(e[l],1)):(e[l]=Y(d),e[l].c(),m(e[l],1),e[l].m(a.parentNode,a))}for(G(),l=t.length;l<e.length;l+=1)i(l);H()}},i(n){if(!s){for(let r=0;r<t.length;r+=1)m(e[r]);s=!0}},o(n){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)g(e[r]);s=!1},d(n){n&&b(a),F(e,n)}}}function Z(o){let a,s;return a=new ue({props:{context:o[12],day:o[13],$$slots:{default:[me,({tgContext:t})=>({16:t}),({tgContext:t})=>t?65536:0]},$$scope:{ctx:o}}}),{c(){O(a.$$.fragment)},l(t){V(a.$$.fragment,t)},m(t,e){j(a,t,e),s=!0},p(t,e){const i={};e&4096&&(i.context=t[12]),e&16&&(i.day=t[13]),e&134283324&&(i.$$scope={dirty:e,ctx:t}),a.$set(i)},i(t){s||(m(a.$$.fragment,t),s=!0)},o(t){g(a.$$.fragment,t),s=!1},d(t){q(a,t)}}}function he(o){let a,s,t=D(o[4]),e=[];for(let n=0;n<t.length;n+=1)e[n]=Z(R(o,t,n));const i=n=>g(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();a=I()},l(n){for(let r=0;r<e.length;r+=1)e[r].l(n);a=I()},m(n,r){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,r);T(n,a,r),s=!0},p(n,r){if(r&69820){t=D(n[4]);let l;for(l=0;l<t.length;l+=1){const d=R(n,t,l);e[l]?(e[l].p(d,r),m(e[l],1)):(e[l]=Z(d),e[l].c(),m(e[l],1),e[l].m(a.parentNode,a))}for(G(),l=t.length;l<e.length;l+=1)i(l);H()}},i(n){if(!s){for(let r=0;r<t.length;r+=1)m(e[r]);s=!0}},o(n){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)g(e[r]);s=!1},d(n){n&&b(a),F(e,n)}}}function ge(o){let a,s,t,e,i,n;function r(f){o[8](f)}function l(f){o[9](f)}function d(f){o[10](f)}function p(f){o[11](f)}let h={class:"h-dvh w-full",$$slots:{default:[he,({context:f})=>({12:f}),({context:f})=>f?4096:0]},$$scope:{ctx:o}};return o[0]!==void 0&&(h.startDate=o[0]),o[1]!==void 0&&(h.endDate=o[1]),o[2]!==void 0&&(h.startTime=o[2]),o[3]!==void 0&&(h.endTime=o[3]),a=new ce({props:h}),w.push(()=>S(a,"startDate",r)),w.push(()=>S(a,"endDate",l)),w.push(()=>S(a,"startTime",d)),w.push(()=>S(a,"endTime",p)),{c(){O(a.$$.fragment)},l(f){V(a.$$.fragment,f)},m(f,c){j(a,f,c),n=!0},p(f,[c]){const _={};c&134221884&&(_.$$scope={dirty:c,ctx:f}),!s&&c&1&&(s=!0,_.startDate=f[0],k(()=>s=!1)),!t&&c&2&&(t=!0,_.endDate=f[1],k(()=>t=!1)),!e&&c&4&&(e=!0,_.startTime=f[2],k(()=>e=!1)),!i&&c&8&&(i=!0,_.endTime=f[3],k(()=>i=!1)),a.$set(_)},i(f){n||(m(a.$$.fragment,f),n=!0)},o(f){g(a.$$.fragment,f),n=!1},d(f){q(a,f)}}}function pe(o,a,s){let t,e,{startDate:i=re(se())}=a,{endDate:n=i.add({days:7})}=a,{startTime:r=new M(0,0)}=a,{endTime:l=new M(23,59)}=a;const d=oe.shifts;ae(o,d,u=>s(5,e=u));function p(u){var J;return(((J=u.icon)==null?void 0:J.color)??new fe("#62748E")).lighten(.3).hex()}function h(u){i=u,s(0,i)}function f(u){n=u,s(1,n)}function c(u){r=u,s(2,r)}function _(u){l=u,s(3,l)}return o.$$set=u=>{"startDate"in u&&s(0,i=u.startDate),"endDate"in u&&s(1,n=u.endDate),"startTime"in u&&s(2,r=u.startTime),"endTime"in u&&s(3,l=u.endTime)},o.$$.update=()=>{o.$$.dirty&3&&s(4,t=ie(i,n))},[i,n,r,l,t,e,d,p,h,f,c,_]}class be extends te{constructor(a){super(),ne(this,a,pe,ge,y,{startDate:0,endDate:1,startTime:2,endTime:3})}}function $e(o){let a,s,t;return s=new be({}),{c(){a=L("div"),O(s.$$.fragment),this.h()},l(e){a=N(e,"DIV",{class:!0});var i=P(a);V(s.$$.fragment,i),i.forEach(b),this.h()},h(){A(a,"class","w-full bg-gray-50")},m(e,i){T(e,a,i),j(s,a,null),t=!0},p:le,i(e){t||(m(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){e&&b(a),q(s)}}}class ke extends te{constructor(a){super(),ne(this,a,null,$e,y,{})}}export{ke as component};
