import{s as y,w,x as k,k as ae,C as I,i as $,f as b,D as F,a as x,g as ee,e as L,t as E,c as N,b as P,d as C,E as K,m as A,h as D,j as z,n as le}from"../chunks/scheduler.B1uOEMOA.js";import{S as te,i as ne,e as S,c as O,a as V,m as j,t as m,b as p,d as q,g as G,f as H}from"../chunks/index.qrTrU_Jd.js";import{b as se,$ as re,c as M,s as oe,d as ie,e as v,C as ce,f as B,h as Q}from"../chunks/index.BG07Jm5P.js";import{E as fe,D as ue,T as de}from"../chunks/time-grid-item.Bo94Jk9v.js";function R(o,a,r){const t=o.slice();return t[14]=a[r],t}function U(o,a,r){const t=o.slice();return t[18]=a[r],t}function W(o,a,r){const t=o.slice();t[21]=a[r];const e=!B(t[21].start,t[14]);t[22]=e;const i=!B(t[21].end,t[14]);t[23]=i;const n=B(t[21].start,t[14])?Q(t[21].start):t[2];t[24]=n;const s=B(t[21].end,t[14])?Q(t[21].end):t[3];return t[25]=s,t}function _e(o){let a,r,t=o[18].name+"",e,i,n,s=o[21].start.toDate().toLocaleString()+"",l,_,g=o[21].end.toDate().toLocaleString()+"",h,c;return{c(){a=L("div"),r=L("p"),e=E(t),i=x(),n=L("p"),l=E(s),_=E(" - "),h=E(g),this.h()},l(u){a=N(u,"DIV",{style:!0,class:!0});var d=P(a);r=N(d,"P",{});var T=P(r);e=C(T,t),T.forEach(b),i=ee(d),n=N(d,"P",{});var f=P(n);l=C(f,s),_=C(f," - "),h=C(f,g),f.forEach(b),d.forEach(b),this.h()},h(){K(a,"background-color",o[8](o[18])),A(a,"class",c="h-full w-full shadow "+(o[22]?"":"rounded-t-lg")+" "+(o[23]?"":"rounded-b-lg"))},m(u,d){$(u,a,d),D(a,r),D(r,e),D(a,i),D(a,n),D(n,l),D(n,_),D(n,h)},p(u,d){d&64&&t!==(t=u[18].name+"")&&z(e,t),d&96&&s!==(s=u[21].start.toDate().toLocaleString()+"")&&z(l,s),d&96&&g!==(g=u[21].end.toDate().toLocaleString()+"")&&z(h,g),d&64&&K(a,"background-color",u[8](u[18])),d&96&&c!==(c="h-full w-full shadow "+(u[22]?"":"rounded-t-lg")+" "+(u[23]?"":"rounded-b-lg"))&&A(a,"class",c)},d(u){u&&b(a)}}}function X(o){let a,r;return a=new de({props:{tgContext:o[17],start:o[24],end:o[25],class:"pl-1 pr-1 "+(o[22]?"pt-0":"pt-1")+" "+(o[23]?"pb-0":"pb-1"),$$slots:{default:[_e]},$$scope:{ctx:o}}}),{c(){O(a.$$.fragment)},l(t){V(a.$$.fragment,t)},m(t,e){j(a,t,e),r=!0},p(t,e){const i={};e&131072&&(i.tgContext=t[17]),e&100&&(i.start=t[24]),e&104&&(i.end=t[25]),e&96&&(i.class="pl-1 pr-1 "+(t[22]?"pt-0":"pt-1")+" "+(t[23]?"pb-0":"pb-1")),e&268435552&&(i.$$scope={dirty:e,ctx:t}),a.$set(i)},i(t){r||(m(a.$$.fragment,t),r=!0)},o(t){p(a.$$.fragment,t),r=!1},d(t){q(a,t)}}}function Y(o){let a,r,t=v(o[18].occurrencesOn(o[14])),e=[];for(let n=0;n<t.length;n+=1)e[n]=X(W(o,t,n));const i=n=>p(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();a=I()},l(n){for(let s=0;s<e.length;s+=1)e[s].l(n);a=I()},m(n,s){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,s);$(n,a,s),r=!0},p(n,s){if(s&131436){t=v(n[18].occurrencesOn(n[14]));let l;for(l=0;l<t.length;l+=1){const _=W(n,t,l);e[l]?(e[l].p(_,s),m(e[l],1)):(e[l]=X(_),e[l].c(),m(e[l],1),e[l].m(a.parentNode,a))}for(G(),l=t.length;l<e.length;l+=1)i(l);H()}},i(n){if(!r){for(let s=0;s<t.length;s+=1)m(e[s]);r=!0}},o(n){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)p(e[s]);r=!1},d(n){n&&b(a),F(e,n)}}}function me(o){let a,r,t=v(o[6]),e=[];for(let n=0;n<t.length;n+=1)e[n]=Y(U(o,t,n));const i=n=>p(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();a=x()},l(n){for(let s=0;s<e.length;s+=1)e[s].l(n);a=ee(n)},m(n,s){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,s);$(n,a,s),r=!0},p(n,s){if(s&131436){t=v(n[6]);let l;for(l=0;l<t.length;l+=1){const _=U(n,t,l);e[l]?(e[l].p(_,s),m(e[l],1)):(e[l]=Y(_),e[l].c(),m(e[l],1),e[l].m(a.parentNode,a))}for(G(),l=t.length;l<e.length;l+=1)i(l);H()}},i(n){if(!r){for(let s=0;s<t.length;s+=1)m(e[s]);r=!0}},o(n){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)p(e[s]);r=!1},d(n){n&&b(a),F(e,n)}}}function Z(o){let a,r;return a=new ue({props:{context:o[13],day:o[14],$$slots:{default:[me,({tgContext:t})=>({17:t}),({tgContext:t})=>t?131072:0]},$$scope:{ctx:o}}}),{c(){O(a.$$.fragment)},l(t){V(a.$$.fragment,t)},m(t,e){j(a,t,e),r=!0},p(t,e){const i={};e&8192&&(i.context=t[13]),e&32&&(i.day=t[14]),e&268566636&&(i.$$scope={dirty:e,ctx:t}),a.$set(i)},i(t){r||(m(a.$$.fragment,t),r=!0)},o(t){p(a.$$.fragment,t),r=!1},d(t){q(a,t)}}}function he(o){let a,r,t=v(o[5]),e=[];for(let n=0;n<t.length;n+=1)e[n]=Z(R(o,t,n));const i=n=>p(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();a=I()},l(n){for(let s=0;s<e.length;s+=1)e[s].l(n);a=I()},m(n,s){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,s);$(n,a,s),r=!0},p(n,s){if(s&139628){t=v(n[5]);let l;for(l=0;l<t.length;l+=1){const _=R(n,t,l);e[l]?(e[l].p(_,s),m(e[l],1)):(e[l]=Z(_),e[l].c(),m(e[l],1),e[l].m(a.parentNode,a))}for(G(),l=t.length;l<e.length;l+=1)i(l);H()}},i(n){if(!r){for(let s=0;s<t.length;s+=1)m(e[s]);r=!0}},o(n){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)p(e[s]);r=!1},d(n){n&&b(a),F(e,n)}}}function ge(o){let a,r,t,e,i,n;function s(c){o[9](c)}function l(c){o[10](c)}function _(c){o[11](c)}function g(c){o[12](c)}let h={class:"h-dvh w-full "+o[4],$$slots:{default:[he,({context:c})=>({13:c}),({context:c})=>c?8192:0]},$$scope:{ctx:o}};return o[0]!==void 0&&(h.startDate=o[0]),o[1]!==void 0&&(h.endDate=o[1]),o[2]!==void 0&&(h.startTime=o[2]),o[3]!==void 0&&(h.endTime=o[3]),a=new fe({props:h}),w.push(()=>S(a,"startDate",s)),w.push(()=>S(a,"endDate",l)),w.push(()=>S(a,"startTime",_)),w.push(()=>S(a,"endTime",g)),{c(){O(a.$$.fragment)},l(c){V(a.$$.fragment,c)},m(c,u){j(a,c,u),n=!0},p(c,[u]){const d={};u&16&&(d.class="h-dvh w-full "+c[4]),u&268443756&&(d.$$scope={dirty:u,ctx:c}),!r&&u&1&&(r=!0,d.startDate=c[0],k(()=>r=!1)),!t&&u&2&&(t=!0,d.endDate=c[1],k(()=>t=!1)),!e&&u&4&&(e=!0,d.startTime=c[2],k(()=>e=!1)),!i&&u&8&&(i=!0,d.endTime=c[3],k(()=>i=!1)),a.$set(d)},i(c){n||(m(a.$$.fragment,c),n=!0)},o(c){p(a.$$.fragment,c),n=!1},d(c){q(a,c)}}}function pe(o,a,r){let t,e,{startDate:i=se(re())}=a,{endDate:n=i.add({days:7})}=a,{startTime:s=new M(0,0)}=a,{endTime:l=new M(23,59)}=a,{class:_=""}=a;const g=oe.shifts;ae(o,g,f=>r(6,e=f));function h(f){var J;return(((J=f.icon)==null?void 0:J.color)??new ce("#62748E")).lighten(.3).hex()}function c(f){i=f,r(0,i)}function u(f){n=f,r(1,n)}function d(f){s=f,r(2,s)}function T(f){l=f,r(3,l)}return o.$$set=f=>{"startDate"in f&&r(0,i=f.startDate),"endDate"in f&&r(1,n=f.endDate),"startTime"in f&&r(2,s=f.startTime),"endTime"in f&&r(3,l=f.endTime),"class"in f&&r(4,_=f.class)},o.$$.update=()=>{o.$$.dirty&3&&r(5,t=ie(i,n))},[i,n,s,l,_,t,e,g,h,c,u,d,T]}class be extends te{constructor(a){super(),ne(this,a,pe,ge,y,{startDate:0,endDate:1,startTime:2,endTime:3,class:4})}}function De(o){let a,r,t;return r=new be({props:{class:"rounded-md bg-card shadow-md"}}),{c(){a=L("div"),O(r.$$.fragment),this.h()},l(e){a=N(e,"DIV",{class:!0});var i=P(a);V(r.$$.fragment,i),i.forEach(b),this.h()},h(){A(a,"class","w-full")},m(e,i){$(e,a,i),j(r,a,null),t=!0},p:le,i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){p(r.$$.fragment,e),t=!1},d(e){e&&b(a),q(r)}}}class Ee extends te{constructor(a){super(),ne(this,a,null,De,y,{})}}export{Ee as component};
