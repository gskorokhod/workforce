import{s as Z,w as C,x as w,e as L,a as N,c as Q,b as W,g as M,f as v,r as U,i as D,h as ue,o as x,u as ee,p as te,q as se,n as me}from"../chunks/scheduler.CfTqBbps.js";import{S as ne,i as ae,e as V,c as P,a as K,m as S,t as F,b as I,d as $}from"../chunks/index.BMQpolGU.js";import{C as _e}from"../chunks/constraints-for-list.mitfACEy.js";import{D as ce,c as T,R as ge,a as de,C as pe}from"../chunks/column-hide-selector.DxLTjeiX.js";import{P as he}from"../chunks/skill-badge.QQODncrH.js";import{S as be}from"../chunks/skills-list.B5NyDCE7.js";import{e as X,j as Fe,k as Ie,m as oe,i as H,b as ye,n as Ce}from"../chunks/person.DEL9NjrQ.js";import{w as Y}from"../chunks/parse.iudxBx5H.js";import{P as we}from"../chunks/person-edit-dialog.Csuz-dJX.js";import{T as Ve}from"../chunks/top_bar.BR58X00F.js";import{B as ve}from"../chunks/index.DhF70wyd.js";import{S as Pe,d as Ke}from"../chunks/search.CbyWi5od.js";function Se(s){let e,t,a,l,i,o;function _(f){s[8](f)}function m(f){s[9](f)}function h(f){s[10](f)}function b(f){s[11](f)}let n={class:s[5],columnInitializers:s[6],data:s[4]};return s[0]!==void 0&&(n.filterValue=s[0]),s[3]!==void 0&&(n.flatColumns=s[3]),s[2]!==void 0&&(n.hideForId=s[2]),s[1]!==void 0&&(n.sortKeys=s[1]),e=new ce({props:n}),C.push(()=>V(e,"filterValue",_)),C.push(()=>V(e,"flatColumns",m)),C.push(()=>V(e,"hideForId",h)),C.push(()=>V(e,"sortKeys",b)),{c(){P(e.$$.fragment)},l(f){K(e.$$.fragment,f)},m(f,c){S(e,f,c),o=!0},p(f,[c]){const p={};c&32&&(p.class=f[5]),c&16&&(p.data=f[4]),!t&&c&1&&(t=!0,p.filterValue=f[0],w(()=>t=!1)),!a&&c&8&&(a=!0,p.flatColumns=f[3],w(()=>a=!1)),!l&&c&4&&(l=!0,p.hideForId=f[2],w(()=>l=!1)),!i&&c&2&&(i=!0,p.sortKeys=f[1],w(()=>i=!1)),e.$set(p)},i(f){o||(F(e.$$.fragment,f),o=!0)},o(f){I(e.$$.fragment,f),o=!1},d(f){$(e,f)}}}function $e(s,e,t){let{data:a=X}=e,{actions:l=new Map}=e,{filterValue:i=Y("")}=e,{sortKeys:o=de([])}=e,{hideForId:_={}}=e,{flatColumns:m}=e,{class:h=""}=e,b=[{accessor:r=>r,cell:r=>T(he,{person:r.value}),header:"Avatar",id:"avatar",plugins:{sort:{disable:!0},tableFilter:{disable:!0}}},{accessor:"name",header:"Name",id:"name"},{accessor:r=>Fe(r),header:"Age",id:"age"},{accessor:"job_title",header:"Job Title",id:"job_title"},{accessor:r=>Ie(r),cell:r=>T(be,{skills:r.value}),header:"Skills",id:"skills",plugins:{sort:{getSortValue:r=>r.map(y=>y.name).join(" ")},tableFilter:{getFilterValue:r=>r.map(y=>y.name).join(" ")}}},{accessor:r=>r,cell:r=>T(_e,{forOperand:r.value}),header:"Constraints",id:"constraints",plugins:{sort:{getSortValue:r=>oe(r).map(y=>y.type).join(" ")},tableFilter:{getFilterValue:r=>oe(r).map(y=>y.type).join(" ")}}}];l.size>0&&b.push({accessor:r=>r,cell:r=>T(ge,{actions:l,item:r.value}),header:"Actions",id:"actions",plugins:{sort:{disable:!0},tableFilter:{disable:!0}}});function n(r){i=r,t(0,i)}function f(r){m=r,t(3,m)}function c(r){_=r,t(2,_)}function p(r){o=r,t(1,o)}return s.$$set=r=>{"data"in r&&t(4,a=r.data),"actions"in r&&t(7,l=r.actions),"filterValue"in r&&t(0,i=r.filterValue),"sortKeys"in r&&t(1,o=r.sortKeys),"hideForId"in r&&t(2,_=r.hideForId),"flatColumns"in r&&t(3,m=r.flatColumns),"class"in r&&t(5,h=r.class)},[i,o,_,m,a,h,b,l,n,f,c,p]}class ke extends ne{constructor(e){super(),ae(this,e,$e,Se,Z,{data:4,actions:7,filterValue:0,sortKeys:1,hideForId:2,flatColumns:3,class:5})}}const je=s=>({}),ie=s=>({}),Ee=s=>({}),re=s=>({}),De=s=>({}),fe=s=>({});function Ae(s){let e,t;return e=new Ke({}),{c(){P(e.$$.fragment)},l(a){K(e.$$.fragment,a)},m(a,l){S(e,a,l),t=!0},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){I(e.$$.fragment,a),t=!1},d(a){$(e,a)}}}function ze(s){let e,t,a;const l=s[11].start,i=x(l,s,s[20],ie);return t=new ve({props:{class:"text-muted-foreground hover:text-accent-foreground",size:"icon_xl",variant:"ghost",$$slots:{default:[Ae]},$$scope:{ctx:s}}}),t.$on("click",s[9]),{c(){i&&i.c(),e=N(),P(t.$$.fragment)},l(o){i&&i.l(o),e=M(o),K(t.$$.fragment,o)},m(o,_){i&&i.m(o,_),D(o,e,_),S(t,o,_),a=!0},p(o,_){i&&i.p&&(!a||_&1048576)&&ee(i,l,o,o[20],a?se(l,o[20],_,je):te(o[20]),ie);const m={};_&1048576&&(m.$$scope={dirty:_,ctx:o}),t.$set(m)},i(o){a||(F(i,o),F(t.$$.fragment,o),a=!0)},o(o){I(i,o),I(t.$$.fragment,o),a=!1},d(o){o&&v(e),i&&i.d(o),$(t,o)}}}function Ne(s){let e;const t=s[11].middle,a=x(t,s,s[20],re);return{c(){a&&a.c()},l(l){a&&a.l(l)},m(l,i){a&&a.m(l,i),e=!0},p(l,i){a&&a.p&&(!e||i&1048576)&&ee(a,t,l,l[20],e?se(t,l[20],i,Ee):te(l[20]),re)},i(l){e||(F(a,l),e=!0)},o(l){I(a,l),e=!1},d(l){a&&a.d(l)}}}function Me(s){let e,t,a,l,i,o;const _=s[11].end,m=x(_,s,s[20],fe);function h(n){s[12](n)}let b={flatColumns:s[4]};return s[5]!==void 0&&(b.hideForId=s[5]),t=new pe({props:b}),C.push(()=>V(t,"hideForId",h)),i=new Pe({props:{onInput:s[13]}}),{c(){m&&m.c(),e=N(),P(t.$$.fragment),l=N(),P(i.$$.fragment)},l(n){m&&m.l(n),e=M(n),K(t.$$.fragment,n),l=M(n),K(i.$$.fragment,n)},m(n,f){m&&m.m(n,f),D(n,e,f),S(t,n,f),D(n,l,f),S(i,n,f),o=!0},p(n,f){m&&m.p&&(!o||f&1048576)&&ee(m,_,n,n[20],o?se(_,n[20],f,De):te(n[20]),fe);const c={};f&16&&(c.flatColumns=n[4]),!a&&f&32&&(a=!0,c.hideForId=n[5],w(()=>a=!1)),t.$set(c);const p={};f&4&&(p.onInput=n[13]),i.$set(p)},i(n){o||(F(m,n),F(t.$$.fragment,n),F(i.$$.fragment,n),o=!0)},o(n){I(m,n),I(t.$$.fragment,n),I(i.$$.fragment,n),o=!1},d(n){n&&(v(e),v(l)),m&&m.d(n),$(t,n),$(i,n)}}}function Re(s){let e,t,a,l,i,o,_,m,h,b,n,f,c,p;t=new Ve({props:{sticky:!0,$$slots:{end:[Me],middle:[Ne],start:[ze]},$$scope:{ctx:s}}});function r(u){s[14](u)}function y(u){s[15](u)}function q(u){s[16](u)}function B(u){s[17](u)}let j={actions:s[10],class:"w-full",data:s[0]};s[2]!==void 0&&(j.filterValue=s[2]),s[4]!==void 0&&(j.flatColumns=s[4]),s[5]!==void 0&&(j.hideForId=s[5]),s[3]!==void 0&&(j.sortKeys=s[3]),l=new ke({props:j}),C.push(()=>V(l,"filterValue",r)),C.push(()=>V(l,"flatColumns",y)),C.push(()=>V(l,"hideForId",q)),C.push(()=>V(l,"sortKeys",B));function J(u){s[18](u)}function O(u){s[19](u)}let A={onSubmit:s[8]};return s[6]!==void 0&&(A.open=s[6]),s[7]!==void 0&&(A.personProps=s[7]),n=new we({props:A}),C.push(()=>V(n,"open",J)),C.push(()=>V(n,"personProps",O)),{c(){e=L("div"),P(t.$$.fragment),a=N(),P(l.$$.fragment),b=N(),P(n.$$.fragment),this.h()},l(u){e=Q(u,"DIV",{class:!0});var g=W(e);K(t.$$.fragment,g),a=M(g),K(l.$$.fragment,g),g.forEach(v),b=M(u),K(n.$$.fragment,u),this.h()},h(){U(e,"class",h="flex h-full w-full flex-col items-start justify-start overflow-y-scroll "+s[1])},m(u,g){D(u,e,g),S(t,e,null),ue(e,a),S(l,e,null),D(u,b,g),S(n,u,g),p=!0},p(u,[g]){const R={};g&1048628&&(R.$$scope={dirty:g,ctx:u}),t.$set(R);const k={};g&1&&(k.data=u[0]),!i&&g&4&&(i=!0,k.filterValue=u[2],w(()=>i=!1)),!o&&g&16&&(o=!0,k.flatColumns=u[4],w(()=>o=!1)),!_&&g&32&&(_=!0,k.hideForId=u[5],w(()=>_=!1)),!m&&g&8&&(m=!0,k.sortKeys=u[3],w(()=>m=!1)),l.$set(k),(!p||g&2&&h!==(h="flex h-full w-full flex-col items-start justify-start overflow-y-scroll "+u[1]))&&U(e,"class",h);const d={};!f&&g&64&&(f=!0,d.open=u[6],w(()=>f=!1)),!c&&g&128&&(c=!0,d.personProps=u[7],w(()=>c=!1)),n.$set(d)},i(u){p||(F(t.$$.fragment,u),F(l.$$.fragment,u),F(n.$$.fragment,u),p=!0)},o(u){I(t.$$.fragment,u),I(l.$$.fragment,u),I(n.$$.fragment,u),p=!1},d(u){u&&(v(e),v(b)),$(t),$(l),$(n,u)}}}function Te(s,e,t){let{$$slots:a={},$$scope:l}=e,{data:i=X}=e,o=Y(""),_=de([]),m,h={},{class:b=""}=e,n=!1,f,c=Y(H());function p(d){f=d.uuid,c.set(d),t(6,n=!0)}function r(d){Ce(d)}function y(d){X.update(E=>{if(f!==void 0){const z=E.findIndex(G=>G.uuid===f);if(z!==-1){console.log("Updating index: ",z);const G=E[z];return E[z]={...G,...d},console.log(E[z]),E}}let le=ye(d);return console.log("Created person: ",le),E.push(le),E}),c.set(H()),f=void 0,t(6,n=!1)}function q(){c.set(H()),f=void 0,t(6,n=!0)}const B=new Map([["Delete",r],["Edit",p]]);function j(d){h=d,t(5,h)}const J=d=>o.set(d);function O(d){o=d,t(2,o)}function A(d){m=d,t(4,m)}function u(d){h=d,t(5,h)}function g(d){_=d,t(3,_)}function R(d){n=d,t(6,n)}function k(d){c=d,t(7,c)}return s.$$set=d=>{"data"in d&&t(0,i=d.data),"class"in d&&t(1,b=d.class),"$$scope"in d&&t(20,l=d.$$scope)},[i,b,o,_,m,h,n,c,y,q,B,a,j,J,O,A,u,g,R,k,l]}class Ue extends ne{constructor(e){super(),ae(this,e,Te,Re,Z,{data:0,class:1})}}function qe(s){let e,t,a,l;return a=new Ue({}),{c(){e=L("div"),t=L("main"),P(a.$$.fragment),this.h()},l(i){e=Q(i,"DIV",{class:!0});var o=W(e);t=Q(o,"MAIN",{class:!0});var _=W(t);K(a.$$.fragment,_),_.forEach(v),o.forEach(v),this.h()},h(){U(t,"class","h-dvh w-full p-4"),U(e,"class","w-full bg-gray-50")},m(i,o){D(i,e,o),ue(e,t),S(a,t,null),l=!0},p:me,i(i){l||(F(a.$$.fragment,i),l=!0)},o(i){I(a.$$.fragment,i),l=!1},d(i){i&&v(e),$(a)}}}class et extends ne{constructor(e){super(),ae(this,e,null,qe,Z,{})}}export{et as component};
